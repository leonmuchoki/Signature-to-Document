/**
 * @licstart The following is the entire license notice for the
 * Javascript code in this page
 *
 * Copyright 2020 Mozilla Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @licend The above is the entire license notice for the
 * Javascript code in this page
 */
!function webpackUniversalModuleDefinition(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define("pdfjs-dist/build/pdf",[],r):"object"==typeof exports?exports["pdfjs-dist/build/pdf"]=r():t["pdfjs-dist/build/pdf"]=t.pdfjsLib=r()}(this,(function(){return(()=>{var __webpack_modules__=[(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});Object.defineProperty(r,"addLinkAttributes",{enumerable:!0,get:function get(){return o.addLinkAttributes}});Object.defineProperty(r,"getFilenameFromUrl",{enumerable:!0,get:function get(){return o.getFilenameFromUrl}});Object.defineProperty(r,"LinkTarget",{enumerable:!0,get:function get(){return o.LinkTarget}});Object.defineProperty(r,"loadScript",{enumerable:!0,get:function get(){return o.loadScript}});Object.defineProperty(r,"PDFDateString",{enumerable:!0,get:function get(){return o.PDFDateString}});Object.defineProperty(r,"RenderingCancelledException",{enumerable:!0,get:function get(){return o.RenderingCancelledException}});Object.defineProperty(r,"build",{enumerable:!0,get:function get(){return l.build}});Object.defineProperty(r,"getDocument",{enumerable:!0,get:function get(){return l.getDocument}});Object.defineProperty(r,"LoopbackPort",{enumerable:!0,get:function get(){return l.LoopbackPort}});Object.defineProperty(r,"PDFDataRangeTransport",{enumerable:!0,get:function get(){return l.PDFDataRangeTransport}});Object.defineProperty(r,"PDFWorker",{enumerable:!0,get:function get(){return l.PDFWorker}});Object.defineProperty(r,"version",{enumerable:!0,get:function get(){return l.version}});Object.defineProperty(r,"CMapCompressionType",{enumerable:!0,get:function get(){return u.CMapCompressionType}});Object.defineProperty(r,"createObjectURL",{enumerable:!0,get:function get(){return u.createObjectURL}});Object.defineProperty(r,"createPromiseCapability",{enumerable:!0,get:function get(){return u.createPromiseCapability}});Object.defineProperty(r,"createValidAbsoluteUrl",{enumerable:!0,get:function get(){return u.createValidAbsoluteUrl}});Object.defineProperty(r,"InvalidPDFException",{enumerable:!0,get:function get(){return u.InvalidPDFException}});Object.defineProperty(r,"MissingPDFException",{enumerable:!0,get:function get(){return u.MissingPDFException}});Object.defineProperty(r,"OPS",{enumerable:!0,get:function get(){return u.OPS}});Object.defineProperty(r,"PasswordResponses",{enumerable:!0,get:function get(){return u.PasswordResponses}});Object.defineProperty(r,"PermissionFlag",{enumerable:!0,get:function get(){return u.PermissionFlag}});Object.defineProperty(r,"removeNullCharacters",{enumerable:!0,get:function get(){return u.removeNullCharacters}});Object.defineProperty(r,"shadow",{enumerable:!0,get:function get(){return u.shadow}});Object.defineProperty(r,"UnexpectedResponseException",{enumerable:!0,get:function get(){return u.UnexpectedResponseException}});Object.defineProperty(r,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function get(){return u.UNSUPPORTED_FEATURES}});Object.defineProperty(r,"Util",{enumerable:!0,get:function get(){return u.Util}});Object.defineProperty(r,"VerbosityLevel",{enumerable:!0,get:function get(){return u.VerbosityLevel}});Object.defineProperty(r,"AnnotationLayer",{enumerable:!0,get:function get(){return c.AnnotationLayer}});Object.defineProperty(r,"GlobalWorkerOptions",{enumerable:!0,get:function get(){return d.GlobalWorkerOptions}});Object.defineProperty(r,"renderTextLayer",{enumerable:!0,get:function get(){return h.renderTextLayer}});Object.defineProperty(r,"SVGGraphics",{enumerable:!0,get:function get(){return p.SVGGraphics}});var i,o=a(1),l=a(134),u=a(4),c=a(149),d=a(142),h=a(151),p=a(152),m=a(153).PDFNetworkStream;(0,o.isFetchSupported)()&&(i=a(156).PDFFetchStream);(0,l.setPDFNetworkStreamFactory)((function(t){return i&&(0,o.isValidFetchUrl)(t.url)?new i(t):new m(t)}))},(t,r,a)=>{"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(r,"__esModule",{value:!0});r.addLinkAttributes=function addLinkAttributes(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.url,i=r.target,u=r.rel,c=r.enabled,d=void 0===c||c;(0,o.assert)(a&&"string"==typeof a,'addLinkAttributes: A valid "url" parameter must provided.');var h=(0,o.removeNullCharacters)(a);if(d)t.href=t.title=h;else{t.href="";t.title="Disabled: ".concat(h);t.onclick=function(){return!1}}var p="";switch(i){case y.NONE:break;case y.SELF:p="_self";break;case y.BLANK:p="_blank";break;case y.PARENT:p="_parent";break;case y.TOP:p="_top"}t.target=p;t.rel="string"==typeof u?u:l};r.deprecated=function deprecated(t){console.log("Deprecated API usage: "+t)};r.getFilenameFromUrl=function getFilenameFromUrl(t){var r=t.indexOf("#"),a=t.indexOf("?"),i=Math.min(r>0?r:t.length,a>0?a:t.length);return t.substring(t.lastIndexOf("/",i)+1,i)};r.isFetchSupported=isFetchSupported;r.isValidFetchUrl=isValidFetchUrl;r.loadScript=function loadScript(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(a,i){var o=document.createElement("script");o.src=t;o.onload=function(t){r&&o.remove();a(t)};o.onerror=function(){i(new Error("Cannot load script at: ".concat(o.src)))};(document.head||document.documentElement).appendChild(o)}))};r.StatTimer=r.RenderingCancelledException=r.PDFDateString=r.PageViewport=r.LinkTarget=r.DOMSVGFactory=r.DOMCMapReaderFactory=r.DOMCanvasFactory=r.DEFAULT_LINK_REL=r.BaseCMapReaderFactory=r.BaseCanvasFactory=void 0;var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(a(2)),o=a(4);function _createForOfIteratorHelper(t,r){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){a&&(t=a);var i=0,o=function F(){};return{s:o,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){a=t[Symbol.iterator]()},n:function n(){var t=a.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==a.return||a.return()}finally{if(c)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function asyncGeneratorStep(t,r,a,i,o,l,u){try{var c=t[l](u),d=c.value}catch(t){a(t);return}c.done?r(d):Promise.resolve(d).then(i,o)}function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,o){var l=t.apply(r,a);function _next(t){asyncGeneratorStep(l,i,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,i,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){t.__proto__=r;return t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){return!r||"object"!==_typeof(r)&&"function"!=typeof r?function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):r}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}var l="noopener noreferrer nofollow";r.DEFAULT_LINK_REL=l;var u="http://www.w3.org/2000/svg",c=function(){function BaseCanvasFactory(){_classCallCheck(this,BaseCanvasFactory);this.constructor===BaseCanvasFactory&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}_createClass(BaseCanvasFactory,[{key:"create",value:function create(t,r){(0,o.unreachable)("Abstract method `create` called.")}},{key:"reset",value:function reset(t,r,a){if(!t.canvas)throw new Error("Canvas is not specified");if(r<=0||a<=0)throw new Error("Invalid canvas size");t.canvas.width=r;t.canvas.height=a}},{key:"destroy",value:function destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0;t.canvas.height=0;t.canvas=null;t.context=null}}]);return BaseCanvasFactory}();r.BaseCanvasFactory=c;var d=function(t){_inherits(DOMCanvasFactory,t);var r=_createSuper(DOMCanvasFactory);function DOMCanvasFactory(){var t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=a.ownerDocument,o=void 0===i?globalThis.document:i;_classCallCheck(this,DOMCanvasFactory);(t=r.call(this))._document=o;return t}_createClass(DOMCanvasFactory,[{key:"create",value:function create(t,r){if(t<=0||r<=0)throw new Error("Invalid canvas size");var a=this._document.createElement("canvas"),i=a.getContext("2d");a.width=t;a.height=r;return{canvas:a,context:i}}}]);return DOMCanvasFactory}(c);r.DOMCanvasFactory=d;var h=function(){function BaseCMapReaderFactory(t){var r=t.baseUrl,a=void 0===r?null:r,i=t.isCompressed,l=void 0!==i&&i;_classCallCheck(this,BaseCMapReaderFactory);this.constructor===BaseCMapReaderFactory&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory.");this.baseUrl=a;this.isCompressed=l}_createClass(BaseCMapReaderFactory,[{key:"fetch",value:(t=_asyncToGenerator(i.default.mark((function _callee(t){var r,a,l,u=this;return i.default.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:r=t.name;if(this.baseUrl){i.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(r){i.next=5;break}throw new Error("CMap name must be specified.");case 5:a=this.baseUrl+r+(this.isCompressed?".bcmap":"");l=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE;return i.abrupt("return",this._fetchData(a,l).catch((function(t){throw new Error("Unable to load ".concat(u.isCompressed?"binary ":"","CMap at: ").concat(a))})));case 8:case"end":return i.stop()}}),_callee,this)}))),function fetch(r){return t.apply(this,arguments)})},{key:"_fetchData",value:function _fetchData(t,r){(0,o.unreachable)("Abstract method `_fetchData` called.")}}]);var t;return BaseCMapReaderFactory}();r.BaseCMapReaderFactory=h;var p=function(t){_inherits(DOMCMapReaderFactory,t);var r=_createSuper(DOMCMapReaderFactory);function DOMCMapReaderFactory(){_classCallCheck(this,DOMCMapReaderFactory);return r.apply(this,arguments)}_createClass(DOMCMapReaderFactory,[{key:"_fetchData",value:function _fetchData(t,r){var a=this;return isFetchSupported()&&isValidFetchUrl(t,document.baseURI)?fetch(t).then(function(){var t=_asyncToGenerator(i.default.mark((function _callee2(t){var l;return i.default.wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:if(t.ok){i.next=2;break}throw new Error(t.statusText);case 2:if(!a.isCompressed){i.next=10;break}i.t0=Uint8Array;i.next=6;return t.arrayBuffer();case 6:i.t1=i.sent;l=new i.t0(i.t1);i.next=15;break;case 10:i.t2=o.stringToBytes;i.next=13;return t.text();case 13:i.t3=i.sent;l=(0,i.t2)(i.t3);case 15:return i.abrupt("return",{cMapData:l,compressionType:r});case 16:case"end":return i.stop()}}),_callee2)})));return function(r){return t.apply(this,arguments)}}()):new Promise((function(i,l){var u=new XMLHttpRequest;u.open("GET",t,!0);a.isCompressed&&(u.responseType="arraybuffer");u.onreadystatechange=function(){if(u.readyState===XMLHttpRequest.DONE){if(200===u.status||0===u.status){var t;a.isCompressed&&u.response?t=new Uint8Array(u.response):!a.isCompressed&&u.responseText&&(t=(0,o.stringToBytes)(u.responseText));if(t){i({cMapData:t,compressionType:r});return}}l(new Error(u.statusText))}};u.send(null)}))}}]);return DOMCMapReaderFactory}(h);r.DOMCMapReaderFactory=p;var m=function(){function DOMSVGFactory(){_classCallCheck(this,DOMSVGFactory)}_createClass(DOMSVGFactory,[{key:"create",value:function create(t,r){(0,o.assert)(t>0&&r>0,"Invalid SVG dimensions");var a=document.createElementNS(u,"svg:svg");a.setAttribute("version","1.1");a.setAttribute("width",t+"px");a.setAttribute("height",r+"px");a.setAttribute("preserveAspectRatio","none");a.setAttribute("viewBox","0 0 "+t+" "+r);return a}},{key:"createElement",value:function createElement(t){(0,o.assert)("string"==typeof t,"Invalid SVG element type");return document.createElementNS(u,t)}}]);return DOMSVGFactory}();r.DOMSVGFactory=m;var g=function(){function PageViewport(t){var r=t.viewBox,a=t.scale,i=t.rotation,o=t.offsetX,l=void 0===o?0:o,u=t.offsetY,c=void 0===u?0:u,d=t.dontFlip,h=void 0!==d&&d;_classCallCheck(this,PageViewport);this.viewBox=r;this.scale=a;this.rotation=i;this.offsetX=l;this.offsetY=c;var p,m,g,v,y,b,S,w,C=(r[2]+r[0])/2,P=(r[3]+r[1])/2;switch(i=(i%=360)<0?i+360:i){case 180:p=-1;m=0;g=0;v=1;break;case 90:p=0;m=1;g=1;v=0;break;case 270:p=0;m=-1;g=-1;v=0;break;case 0:p=1;m=0;g=0;v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}if(h){g=-g;v=-v}if(0===p){y=Math.abs(P-r[1])*a+l;b=Math.abs(C-r[0])*a+c;S=Math.abs(r[3]-r[1])*a;w=Math.abs(r[2]-r[0])*a}else{y=Math.abs(C-r[0])*a+l;b=Math.abs(P-r[1])*a+c;S=Math.abs(r[2]-r[0])*a;w=Math.abs(r[3]-r[1])*a}this.transform=[p*a,m*a,g*a,v*a,y-p*a*C-g*a*P,b-m*a*C-v*a*P];this.width=S;this.height=w}_createClass(PageViewport,[{key:"clone",value:function clone(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.scale,a=void 0===r?this.scale:r,i=t.rotation,o=void 0===i?this.rotation:i,l=t.offsetX,u=void 0===l?this.offsetX:l,c=t.offsetY,d=void 0===c?this.offsetY:c,h=t.dontFlip,p=void 0!==h&&h;return new PageViewport({viewBox:this.viewBox.slice(),scale:a,rotation:o,offsetX:u,offsetY:d,dontFlip:p})}},{key:"convertToViewportPoint",value:function convertToViewportPoint(t,r){return o.Util.applyTransform([t,r],this.transform)}},{key:"convertToViewportRectangle",value:function convertToViewportRectangle(t){var r=o.Util.applyTransform([t[0],t[1]],this.transform),a=o.Util.applyTransform([t[2],t[3]],this.transform);return[r[0],r[1],a[0],a[1]]}},{key:"convertToPdfPoint",value:function convertToPdfPoint(t,r){return o.Util.applyInverseTransform([t,r],this.transform)}}]);return PageViewport}();r.PageViewport=g;var v=function(t){_inherits(RenderingCancelledException,t);var r=_createSuper(RenderingCancelledException);function RenderingCancelledException(t,a){var i;_classCallCheck(this,RenderingCancelledException);(i=r.call(this,t)).type=a;return i}return RenderingCancelledException}(o.BaseException);r.RenderingCancelledException=v;var y={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};r.LinkTarget=y;var b,S=function(){function StatTimer(){_classCallCheck(this,StatTimer);this.started=Object.create(null);this.times=[]}_createClass(StatTimer,[{key:"time",value:function time(t){t in this.started&&(0,o.warn)("Timer is already running for ".concat(t));this.started[t]=Date.now()}},{key:"timeEnd",value:function timeEnd(t){t in this.started||(0,o.warn)("Timer has not been started for ".concat(t));this.times.push({name:t,start:this.started[t],end:Date.now()});delete this.started[t]}},{key:"toString",value:function toString(){var t,r=[],a=0,i=_createForOfIteratorHelper(this.times);try{for(i.s();!(t=i.n()).done;){var o=t.value.name;o.length>a&&(a=o.length)}}catch(t){i.e(t)}finally{i.f()}var l,u=_createForOfIteratorHelper(this.times);try{for(u.s();!(l=u.n()).done;){var c=l.value,d=c.end-c.start;r.push("".concat(c.name.padEnd(a)," ").concat(d,"ms\n"))}}catch(t){u.e(t)}finally{u.f()}return r.join("")}}]);return StatTimer}();r.StatTimer=S;function isFetchSupported(){return"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"body"in Response.prototype&&"undefined"!=typeof ReadableStream}function isValidFetchUrl(t,r){try{var a=(r?new URL(t,r):new URL(t)).protocol;return"http:"===a||"https:"===a}catch(t){return!1}}var w=function(){function PDFDateString(){_classCallCheck(this,PDFDateString)}_createClass(PDFDateString,null,[{key:"toDateObject",value:function toDateObject(t){if(!t||!(0,o.isString)(t))return null;b||(b=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var r=b.exec(t);if(!r)return null;var a=parseInt(r[1],10),i=parseInt(r[2],10);i=i>=1&&i<=12?i-1:0;var l=parseInt(r[3],10);l=l>=1&&l<=31?l:1;var u=parseInt(r[4],10);u=u>=0&&u<=23?u:0;var c=parseInt(r[5],10);c=c>=0&&c<=59?c:0;var d=parseInt(r[6],10);d=d>=0&&d<=59?d:0;var h=r[7]||"Z",p=parseInt(r[8],10);p=p>=0&&p<=23?p:0;var m=parseInt(r[9],10)||0;m=m>=0&&m<=59?m:0;if("-"===h){u+=p;c+=m}else if("+"===h){u-=p;c-=m}return new Date(Date.UTC(a,i,l,u,c,d))}}]);return PDFDateString}();r.PDFDateString=w},(t,r,a)=>{"use strict";t.exports=a(3)},(t,r,a)=>{"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=function(t){var r,a=Object.prototype,i=a.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},l=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function define(t,r,a){Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0});return t[r]}try{define({},"")}catch(t){define=function define(t,r,a){return t[r]=a}}function wrap(t,r,a,i){var o=r&&r.prototype instanceof Generator?r:Generator,l=Object.create(o.prototype),u=new Context(i||[]);l._invoke=function makeInvokeMethod(t,r,a){var i=d;return function invoke(o,l){if(i===p)throw new Error("Generator is already running");if(i===m){if("throw"===o)throw l;return doneResult()}a.method=o;a.arg=l;for(;;){var u=a.delegate;if(u){var c=maybeInvokeDelegate(u,a);if(c){if(c===g)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(i===d){i=m;throw a.arg}a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);i=p;var v=tryCatch(t,r,a);if("normal"===v.type){i=a.done?m:h;if(v.arg===g)continue;return{value:v.arg,done:a.done}}if("throw"===v.type){i=m;a.method="throw";a.arg=v.arg}}}}(t,a,u);return l}t.wrap=wrap;function tryCatch(t,r,a){try{return{type:"normal",arg:t.call(r,a)}}catch(t){return{type:"throw",arg:t}}}var d="suspendedStart",h="suspendedYield",p="executing",m="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var v={};v[l]=function(){return this};var y=Object.getPrototypeOf,b=y&&y(y(values([])));b&&b!==a&&i.call(b,l)&&(v=b);var S=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(v);GeneratorFunction.prototype=S.constructor=GeneratorFunctionPrototype;GeneratorFunctionPrototype.constructor=GeneratorFunction;GeneratorFunction.displayName=define(GeneratorFunctionPrototype,c,"GeneratorFunction");function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}t.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))};t.mark=function(t){if(Object.setPrototypeOf)Object.setPrototypeOf(t,GeneratorFunctionPrototype);else{t.__proto__=GeneratorFunctionPrototype;define(t,c,"GeneratorFunction")}t.prototype=Object.create(S);return t};t.awrap=function(t){return{__await:t}};function AsyncIterator(t,r){function invoke(a,o,l,u){var c=tryCatch(t[a],t,o);if("throw"!==c.type){var d=c.arg,h=d.value;return h&&"object"===_typeof(h)&&i.call(h,"__await")?r.resolve(h.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(h).then((function(t){d.value=t;l(d)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var a;this._invoke=function enqueue(t,i){function callInvokeWithMethodAndArg(){return new r((function(r,a){invoke(t,i,r,a)}))}return a=a?a.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}defineIteratorMethods(AsyncIterator.prototype);AsyncIterator.prototype[u]=function(){return this};t.AsyncIterator=AsyncIterator;t.async=function(r,a,i,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(r,a,i,o),l);return t.isGeneratorFunction(a)?u:u.next().then((function(t){return t.done?t.value:u.next()}))};function maybeInvokeDelegate(t,a){var i=t.iterator[a.method];if(i===r){a.delegate=null;if("throw"===a.method){if(t.iterator.return){a.method="return";a.arg=r;maybeInvokeDelegate(t,a);if("throw"===a.method)return g}a.method="throw";a.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var o=tryCatch(i,t.iterator,a.arg);if("throw"===o.type){a.method="throw";a.arg=o.arg;a.delegate=null;return g}var l=o.arg;if(!l){a.method="throw";a.arg=new TypeError("iterator result is not an object");a.delegate=null;return g}if(!l.done)return l;a[t.resultName]=l.value;a.next=t.nextLoc;if("return"!==a.method){a.method="next";a.arg=r}a.delegate=null;return g}defineIteratorMethods(S);define(S,c,"Generator");S[l]=function(){return this};S.toString=function(){return"[object Generator]"};function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]);if(2 in t){r.finallyLoc=t[2];r.afterLoc=t[3]}this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal";delete r.arg;t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}];t.forEach(pushTryEntry,this);this.reset(!0)}t.keys=function(t){var r=[];for(var a in t)r.push(a);r.reverse();return function next(){for(;r.length;){var a=r.pop();if(a in t){next.value=a;next.done=!1;return next}}next.done=!0;return next}};function values(t){if(t){var a=t[l];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,u=function next(){for(;++o<t.length;)if(i.call(t,o)){next.value=t[o];next.done=!1;return next}next.value=r;next.done=!0;return next};return u.next=u}}return{next:doneResult}}t.values=values;function doneResult(){return{value:r,done:!0}}Context.prototype={constructor:Context,reset:function reset(t){this.prev=0;this.next=0;this.sent=this._sent=r;this.done=!1;this.delegate=null;this.method="next";this.arg=r;this.tryEntries.forEach(resetTryEntry);if(!t)for(var a in this)"t"===a.charAt(0)&&i.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=r)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(t){if(this.done)throw t;var a=this;function handle(i,o){u.type="throw";u.arg=t;a.next=i;if(o){a.method="next";a.arg=r}return!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=i.call(l,"catchLoc"),d=i.call(l,"finallyLoc");if(c&&d){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};u.type=t;u.arg=r;if(l){this.method="next";this.next=l.finallyLoc;return g}return this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;if("break"===t.type||"continue"===t.type)this.next=t.arg;else if("return"===t.type){this.rval=this.arg=t.arg;this.method="return";this.next="end"}else"normal"===t.type&&r&&(this.next=r);return g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.finallyLoc===t){this.complete(a.completion,a.afterLoc);resetTryEntry(a);return g}}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc===t){var i=a.completion;if("throw"===i.type){var o=i.arg;resetTryEntry(a)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(t,a,i){this.delegate={iterator:values(t),resultName:a,nextLoc:i};"next"===this.method&&(this.arg=r);return g}};return t}("object"===_typeof(t=a.nmd(t))?t.exports:{});try{regeneratorRuntime=i}catch(t){Function("r","regeneratorRuntime = r")(i)}},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.arrayByteLength=arrayByteLength;r.arraysToBytes=function arraysToBytes(t){var r=t.length;if(1===r&&t[0]instanceof Uint8Array)return t[0];for(var a=0,i=0;i<r;i++)a+=arrayByteLength(t[i]);for(var o=0,l=new Uint8Array(a),u=0;u<r;u++){var c=t[u];c instanceof Uint8Array||(c="string"==typeof c?stringToBytes(c):new Uint8Array(c));var d=c.byteLength;l.set(c,o);o+=d}return l};r.assert=assert;r.bytesToString=function bytesToString(t){assert(null!==t&&"object"===_typeof(t)&&void 0!==t.length,"Invalid argument for bytesToString");var r=t.length,a=8192;if(r<a)return String.fromCharCode.apply(null,t);for(var i=[],o=0;o<r;o+=a){var l=Math.min(o+a,r),u=t.subarray(o,l);i.push(String.fromCharCode.apply(null,u))}return i.join("")};r.createPromiseCapability=function createPromiseCapability(){var t=Object.create(null),r=!1;Object.defineProperty(t,"settled",{get:function get(){return r}});t.promise=new Promise((function(a,i){t.resolve=function(t){r=!0;a(t)};t.reject=function(t){r=!0;i(t)}}));return t};r.createValidAbsoluteUrl=function createValidAbsoluteUrl(t,r){if(!t)return null;try{var a=r?new URL(t,r):new URL(t);if(function _isValidProtocol(t){if(!t)return!1;switch(t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(a))return a}catch(t){}return null};r.encodeToXmlString=function encodeToXmlString(t){for(var r=[],a=0,i=0,o=t.length;i<o;i++){var l=t.codePointAt(i);if(32<=l&&l<=126){var u=k[l];if(u){a<i&&r.push(t.substring(a,i));r.push(u);a=i+1}}else{a<i&&r.push(t.substring(a,i));r.push("&#x".concat(l.toString(16).toUpperCase(),";"));l>55295&&(l<57344||l>65533)&&i++;a=i+1}}if(0===r.length)return t;a<t.length&&r.push(t.substring(a,t.length));return r.join("")};r.escapeString=function escapeString(t){return t.replace(/([()\\\n\r])/g,(function(t){return"\n"===t?"\\n":"\r"===t?"\\r":"\\".concat(t)}))};r.getModificationDate=function getModificationDate(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,r=[t.getUTCFullYear().toString(),(t.getUTCMonth()+1).toString().padStart(2,"0"),t.getUTCDate().toString().padStart(2,"0"),t.getUTCHours().toString().padStart(2,"0"),t.getUTCMinutes().toString().padStart(2,"0"),t.getUTCSeconds().toString().padStart(2,"0")];return r.join("")};r.getVerbosityLevel=function getVerbosityLevel(){return o};r.info=function info(t){o>=i.INFOS&&console.log("Info: ".concat(t))};r.isArrayBuffer=function isArrayBuffer(t){return"object"===_typeof(t)&&null!==t&&void 0!==t.byteLength};r.isArrayEqual=function isArrayEqual(t,r){if(t.length!==r.length)return!1;return t.every((function(t,a){return t===r[a]}))};r.isAscii=function isAscii(t){return/^[\x00-\x7F]*$/.test(t)};r.isBool=function isBool(t){return"boolean"==typeof t};r.isNum=function isNum(t){return"number"==typeof t};r.isSameOrigin=function isSameOrigin(t,r){var a;try{if(!(a=new URL(t)).origin||"null"===a.origin)return!1}catch(t){return!1}var i=new URL(r,a);return a.origin===i.origin};r.isString=function isString(t){return"string"==typeof t};r.objectFromEntries=function objectFromEntries(t){return Object.assign(Object.create(null),Object.fromEntries(t))};r.objectSize=function objectSize(t){return Object.keys(t).length};r.removeNullCharacters=function removeNullCharacters(t){if("string"!=typeof t){warn("The argument for removeNullCharacters must be a string.");return t}return t.replace(v,"")};r.setVerbosityLevel=function setVerbosityLevel(t){Number.isInteger(t)&&(o=t)};r.shadow=shadow;r.string32=function string32(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)};r.stringToBytes=stringToBytes;r.stringToPDFString=function stringToPDFString(t){var r=t.length,a=[];if("þ"===t[0]&&"ÿ"===t[1])for(var i=2;i<r;i+=2)a.push(String.fromCharCode(t.charCodeAt(i)<<8|t.charCodeAt(i+1)));else if("ÿ"===t[0]&&"þ"===t[1])for(var o=2;o<r;o+=2)a.push(String.fromCharCode(t.charCodeAt(o+1)<<8|t.charCodeAt(o)));else for(var l=0;l<r;++l){var u=C[t.charCodeAt(l)];a.push(u?String.fromCharCode(u):t.charAt(l))}return a.join("")};r.stringToUTF16BEString=function stringToUTF16BEString(t){for(var r=["þÿ"],a=0,i=t.length;a<i;a++){var o=t.charCodeAt(a);r.push(String.fromCharCode(o>>8&255));r.push(String.fromCharCode(255&o))}return r.join("")};r.stringToUTF8String=function stringToUTF8String(t){return decodeURIComponent(escape(t))};r.unreachable=unreachable;r.utf8StringToString=function utf8StringToString(t){return unescape(encodeURIComponent(t))};r.warn=warn;r.VerbosityLevel=r.Util=r.UNSUPPORTED_FEATURES=r.UnknownErrorException=r.UnexpectedResponseException=r.TextRenderingMode=r.StreamType=r.PermissionFlag=r.PasswordResponses=r.PasswordException=r.PageActionEventType=r.OPS=r.MissingPDFException=r.IsLittleEndianCached=r.IsEvalSupportedCached=r.InvalidPDFException=r.ImageKind=r.IDENTITY_MATRIX=r.FormatError=r.FontType=r.FONT_IDENTITY_MATRIX=r.DocumentActionEventType=r.createObjectURL=r.CMapCompressionType=r.BaseException=r.AnnotationType=r.AnnotationStateModelType=r.AnnotationReviewState=r.AnnotationReplyType=r.AnnotationMarkedState=r.AnnotationFlag=r.AnnotationFieldFlag=r.AnnotationBorderStyleType=r.AnnotationActionEventType=r.AbortException=void 0;a(5);function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){t.__proto__=r;return t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){return!r||"object"!==_typeof(r)&&"function"!=typeof r?function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):r}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}r.IDENTITY_MATRIX=[1,0,0,1,0,0];r.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0];r.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};r.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};r.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};r.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};r.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"};r.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"};r.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};r.AnnotationReplyType={GROUP:"Group",REPLY:"R"};r.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};r.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};r.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};r.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};r.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};r.PageActionEventType={O:"PageOpen",C:"PageClose"};r.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};r.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var i={ERRORS:0,WARNINGS:1,INFOS:5};r.VerbosityLevel=i;r.CMapCompressionType={NONE:0,BINARY:1,STREAM:2};r.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};r.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent"};r.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var o=i.WARNINGS;function warn(t){o>=i.WARNINGS&&console.log("Warning: ".concat(t))}function unreachable(t){throw new Error(t)}function assert(t,r){t||unreachable(r)}function shadow(t,r,a){Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!1});return a}var l=function BaseExceptionClosure(){function BaseException(t){this.constructor===BaseException&&unreachable("Cannot initialize BaseException.");this.message=t;this.name=this.constructor.name}BaseException.prototype=new Error;BaseException.constructor=BaseException;return BaseException}();r.BaseException=l;var u=function(t){_inherits(PasswordException,t);var r=_createSuper(PasswordException);function PasswordException(t,a){var i;_classCallCheck(this,PasswordException);(i=r.call(this,t)).code=a;return i}return PasswordException}(l);r.PasswordException=u;var c=function(t){_inherits(UnknownErrorException,t);var r=_createSuper(UnknownErrorException);function UnknownErrorException(t,a){var i;_classCallCheck(this,UnknownErrorException);(i=r.call(this,t)).details=a;return i}return UnknownErrorException}(l);r.UnknownErrorException=c;var d=function(t){_inherits(InvalidPDFException,t);var r=_createSuper(InvalidPDFException);function InvalidPDFException(){_classCallCheck(this,InvalidPDFException);return r.apply(this,arguments)}return InvalidPDFException}(l);r.InvalidPDFException=d;var h=function(t){_inherits(MissingPDFException,t);var r=_createSuper(MissingPDFException);function MissingPDFException(){_classCallCheck(this,MissingPDFException);return r.apply(this,arguments)}return MissingPDFException}(l);r.MissingPDFException=h;var p=function(t){_inherits(UnexpectedResponseException,t);var r=_createSuper(UnexpectedResponseException);function UnexpectedResponseException(t,a){var i;_classCallCheck(this,UnexpectedResponseException);(i=r.call(this,t)).status=a;return i}return UnexpectedResponseException}(l);r.UnexpectedResponseException=p;var m=function(t){_inherits(FormatError,t);var r=_createSuper(FormatError);function FormatError(){_classCallCheck(this,FormatError);return r.apply(this,arguments)}return FormatError}(l);r.FormatError=m;var g=function(t){_inherits(AbortException,t);var r=_createSuper(AbortException);function AbortException(){_classCallCheck(this,AbortException);return r.apply(this,arguments)}return AbortException}(l);r.AbortException=g;var v=/\x00/g;function stringToBytes(t){assert("string"==typeof t,"Invalid argument for stringToBytes");for(var r=t.length,a=new Uint8Array(r),i=0;i<r;++i)a[i]=255&t.charCodeAt(i);return a}function arrayByteLength(t){if(void 0!==t.length)return t.length;assert(void 0!==t.byteLength,"arrayByteLength - invalid argument.");return t.byteLength}var y={get value(){return shadow(this,"value",function isLittleEndian(){var t=new Uint8Array(4);t[0]=1;return 1===new Uint32Array(t.buffer,0,1)[0]}())}};r.IsLittleEndianCached=y;var b={get value(){return shadow(this,"value",function isEvalSupported(){try{new Function("");return!0}catch(t){return!1}}())}};r.IsEvalSupportedCached=b;var S=function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Array(256).keys()).map((function(t){return t.toString(16).padStart(2,"0")})),w=function(){function Util(){_classCallCheck(this,Util)}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(Util,null,[{key:"makeHexColor",value:function makeHexColor(t,r,a){return"#".concat(S[t]).concat(S[r]).concat(S[a])}},{key:"transform",value:function transform(t,r){return[t[0]*r[0]+t[2]*r[1],t[1]*r[0]+t[3]*r[1],t[0]*r[2]+t[2]*r[3],t[1]*r[2]+t[3]*r[3],t[0]*r[4]+t[2]*r[5]+t[4],t[1]*r[4]+t[3]*r[5]+t[5]]}},{key:"applyTransform",value:function applyTransform(t,r){return[t[0]*r[0]+t[1]*r[2]+r[4],t[0]*r[1]+t[1]*r[3]+r[5]]}},{key:"applyInverseTransform",value:function applyInverseTransform(t,r){var a=r[0]*r[3]-r[1]*r[2];return[(t[0]*r[3]-t[1]*r[2]+r[2]*r[5]-r[4]*r[3])/a,(-t[0]*r[1]+t[1]*r[0]+r[4]*r[1]-r[5]*r[0])/a]}},{key:"getAxialAlignedBoundingBox",value:function getAxialAlignedBoundingBox(t,r){var a=Util.applyTransform(t,r),i=Util.applyTransform(t.slice(2,4),r),o=Util.applyTransform([t[0],t[3]],r),l=Util.applyTransform([t[2],t[1]],r);return[Math.min(a[0],i[0],o[0],l[0]),Math.min(a[1],i[1],o[1],l[1]),Math.max(a[0],i[0],o[0],l[0]),Math.max(a[1],i[1],o[1],l[1])]}},{key:"inverseTransform",value:function inverseTransform(t){var r=t[0]*t[3]-t[1]*t[2];return[t[3]/r,-t[1]/r,-t[2]/r,t[0]/r,(t[2]*t[5]-t[4]*t[3])/r,(t[4]*t[1]-t[5]*t[0])/r]}},{key:"apply3dTransform",value:function apply3dTransform(t,r){return[t[0]*r[0]+t[1]*r[1]+t[2]*r[2],t[3]*r[0]+t[4]*r[1]+t[5]*r[2],t[6]*r[0]+t[7]*r[1]+t[8]*r[2]]}},{key:"singularValueDecompose2dScale",value:function singularValueDecompose2dScale(t){var r=[t[0],t[2],t[1],t[3]],a=t[0]*r[0]+t[1]*r[2],i=t[0]*r[1]+t[1]*r[3],o=t[2]*r[0]+t[3]*r[2],l=t[2]*r[1]+t[3]*r[3],u=(a+l)/2,c=Math.sqrt((a+l)*(a+l)-4*(a*l-o*i))/2,d=u+c||1,h=u-c||1;return[Math.sqrt(d),Math.sqrt(h)]}},{key:"normalizeRect",value:function normalizeRect(t){var r=t.slice(0);if(t[0]>t[2]){r[0]=t[2];r[2]=t[0]}if(t[1]>t[3]){r[1]=t[3];r[3]=t[1]}return r}},{key:"intersect",value:function intersect(t,r){function compare(t,r){return t-r}var a=[t[0],t[2],r[0],r[2]].sort(compare),i=[t[1],t[3],r[1],r[3]].sort(compare),o=[];t=Util.normalizeRect(t);r=Util.normalizeRect(r);if(!(a[0]===t[0]&&a[1]===r[0]||a[0]===r[0]&&a[1]===t[0]))return null;o[0]=a[1];o[2]=a[2];if(!(i[0]===t[1]&&i[1]===r[1]||i[0]===r[1]&&i[1]===t[1]))return null;o[1]=i[1];o[3]=i[2];return o}}]);return Util}();r.Util=w;var C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];var P=function createObjectURLClosure(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function createObjectURL(r,a){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!i&&URL.createObjectURL){var o=new Blob([r],{type:a});return URL.createObjectURL(o)}for(var l="data:".concat(a,";base64,"),u=0,c=r.length;u<c;u+=3){var d=255&r[u],h=255&r[u+1],p=255&r[u+2],m=d>>2,g=(3&d)<<4|h>>4,v=u+1<c?(15&h)<<2|p>>6:64,y=u+2<c?63&p:64;l+=t[m]+t[g]+t[v]+t[y]}return l}}();r.createObjectURL=P;var k={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"}},(t,r,a)=>{"use strict";if("undefined"==typeof globalThis||!globalThis._pdfjsCompatibilityChecked){"undefined"!=typeof globalThis&&globalThis.Math===Math||(globalThis=a(6));globalThis._pdfjsCompatibilityChecked=!0;!function checkNodeBtoa(){globalThis.btoa}();!function checkNodeAtob(){globalThis.atob}();!function checkObjectFromEntries(){Object.fromEntries||a(51)}();!function checkPromise(){globalThis.Promise.allSettled||(globalThis.Promise=a(81))}();!function checkURL(){globalThis.URL=a(110)}();!function checkReadableStream(){var t=!1;if("undefined"!=typeof ReadableStream)try{new ReadableStream({start:function start(t){t.close()}});t=!0}catch(t){}t||(globalThis.ReadableStream=a(120).ReadableStream)}();!function checkStringPadStart(){String.prototype.padStart||a(121)}();!function checkStringPadEnd(){String.prototype.padEnd||a(127)}();!function checkObjectValues(){Object.values||(Object.values=a(129))}();!function checkObjectEntries(){Object.entries||(Object.entries=a(132))}()}},(t,r,a)=>{a(7);t.exports=a(9)},(t,r,a)=>{a(8)({global:!0},{globalThis:a(9)})},(t,r,a)=>{var i=a(9),o=a(10).f,l=a(24),u=a(27),c=a(28),d=a(38),h=a(50);t.exports=function(t,r){var a,p,m,g,v,y=t.target,b=t.global,S=t.stat;if(a=b?i:S?i[y]||c(y,{}):(i[y]||{}).prototype)for(p in r){g=r[p];m=t.noTargetGet?(v=o(a,p))&&v.value:a[p];if(!h(b?p:y+(S?".":"#")+p,t.forced)&&void 0!==m){if(typeof g==typeof m)continue;d(g,m)}(t.sham||m&&m.sham)&&l(g,"sham",!0);u(a,p,g,t)}}},t=>{var check=function(t){return t&&t.Math==Math&&t};t.exports=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof global&&global)||function(){return this}()||Function("return this")()},(t,r,a)=>{var i=a(11),o=a(13),l=a(14),u=a(15),c=a(19),d=a(21),h=a(22),p=Object.getOwnPropertyDescriptor;r.f=i?p:function getOwnPropertyDescriptor(t,r){t=u(t);r=c(r,!0);if(h)try{return p(t,r)}catch(t){}if(d(t,r))return l(!o.f.call(t,r),t[r])}},(t,r,a)=>{var i=a(12);t.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},(t,r)=>{"use strict";var a={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!a.call({1:2},1);r.f=o?function propertyIsEnumerable(t){var r=i(this,t);return!!r&&r.enumerable}:a},t=>{t.exports=function(t,r){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:r}}},(t,r,a)=>{var i=a(16),o=a(18);t.exports=function(t){return i(o(t))}},(t,r,a)=>{var i=a(12),o=a(17),l="".split;t.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?l.call(t,""):Object(t)}:Object},t=>{var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},(t,r,a)=>{var i=a(20);t.exports=function(t,r){if(!i(t))return t;var a,o;if(r&&"function"==typeof(a=t.toString)&&!i(o=a.call(t)))return o;if("function"==typeof(a=t.valueOf)&&!i(o=a.call(t)))return o;if(!r&&"function"==typeof(a=t.toString)&&!i(o=a.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},t=>{var r={}.hasOwnProperty;t.exports=function(t,a){return r.call(t,a)}},(t,r,a)=>{var i=a(11),o=a(12),l=a(23);t.exports=!i&&!o((function(){return 7!=Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a}))},(t,r,a)=>{var i=a(9),o=a(20),l=i.document,u=o(l)&&o(l.createElement);t.exports=function(t){return u?l.createElement(t):{}}},(t,r,a)=>{var i=a(11),o=a(25),l=a(14);t.exports=i?function(t,r,a){return o.f(t,r,l(1,a))}:function(t,r,a){t[r]=a;return t}},(t,r,a)=>{var i=a(11),o=a(22),l=a(26),u=a(19),c=Object.defineProperty;r.f=i?c:function defineProperty(t,r,a){l(t);r=u(r,!0);l(a);if(o)try{return c(t,r,a)}catch(t){}if("get"in a||"set"in a)throw TypeError("Accessors not supported");"value"in a&&(t[r]=a.value);return t}},(t,r,a)=>{var i=a(20);t.exports=function(t){if(!i(t))throw TypeError(String(t)+" is not an object");return t}},(t,r,a)=>{var i=a(9),o=a(24),l=a(21),u=a(28),c=a(29),d=a(31),h=d.get,p=d.enforce,m=String(String).split("String");(t.exports=function(t,r,a,c){var d,h=!!c&&!!c.unsafe,g=!!c&&!!c.enumerable,v=!!c&&!!c.noTargetGet;if("function"==typeof a){"string"!=typeof r||l(a,"name")||o(a,"name",r);(d=p(a)).source||(d.source=m.join("string"==typeof r?r:""))}if(t!==i){h?!v&&t[r]&&(g=!0):delete t[r];g?t[r]=a:o(t,r,a)}else g?t[r]=a:u(r,a)})(Function.prototype,"toString",(function toString(){return"function"==typeof this&&h(this).source||c(this)}))},(t,r,a)=>{var i=a(9),o=a(24);t.exports=function(t,r){try{o(i,t,r)}catch(a){i[t]=r}return r}},(t,r,a)=>{var i=a(30),o=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(t){return o.call(t)});t.exports=i.inspectSource},(t,r,a)=>{var i=a(9),o=a(28),l="__core-js_shared__",u=i[l]||o(l,{});t.exports=u},(t,r,a)=>{var i,o,l,u=a(32),c=a(9),d=a(20),h=a(24),p=a(21),m=a(30),g=a(33),v=a(37),y=c.WeakMap;if(u){var b=m.state||(m.state=new y),S=b.get,w=b.has,C=b.set;i=function(t,r){r.facade=t;C.call(b,t,r);return r};o=function(t){return S.call(b,t)||{}};l=function(t){return w.call(b,t)}}else{var P=g("state");v[P]=!0;i=function(t,r){r.facade=t;h(t,P,r);return r};o=function(t){return p(t,P)?t[P]:{}};l=function(t){return p(t,P)}}t.exports={set:i,get:o,has:l,enforce:function(t){return l(t)?o(t):i(t,{})},getterFor:function(t){return function(r){var a;if(!d(r)||(a=o(r)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return a}}}},(t,r,a)=>{var i=a(9),o=a(29),l=i.WeakMap;t.exports="function"==typeof l&&/native code/.test(o(l))},(t,r,a)=>{var i=a(34),o=a(36),l=i("keys");t.exports=function(t){return l[t]||(l[t]=o(t))}},(t,r,a)=>{var i=a(35),o=a(30);(t.exports=function(t,r){return o[t]||(o[t]=void 0!==r?r:{})})("versions",[]).push({version:"3.8.3",mode:i?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},t=>{t.exports=!1},t=>{var r=0,a=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++r+a).toString(36)}},t=>{t.exports={}},(t,r,a)=>{var i=a(21),o=a(39),l=a(10),u=a(25);t.exports=function(t,r){for(var a=o(r),c=u.f,d=l.f,h=0;h<a.length;h++){var p=a[h];i(t,p)||c(t,p,d(r,p))}}},(t,r,a)=>{var i=a(40),o=a(42),l=a(49),u=a(26);t.exports=i("Reflect","ownKeys")||function ownKeys(t){var r=o.f(u(t)),a=l.f;return a?r.concat(a(t)):r}},(t,r,a)=>{var i=a(41),o=a(9),aFunction=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,r){return arguments.length<2?aFunction(i[t])||aFunction(o[t]):i[t]&&i[t][r]||o[t]&&o[t][r]}},(t,r,a)=>{var i=a(9);t.exports=i},(t,r,a)=>{var i=a(43),o=a(48).concat("length","prototype");r.f=Object.getOwnPropertyNames||function getOwnPropertyNames(t){return i(t,o)}},(t,r,a)=>{var i=a(21),o=a(15),l=a(44).indexOf,u=a(37);t.exports=function(t,r){var a,c=o(t),d=0,h=[];for(a in c)!i(u,a)&&i(c,a)&&h.push(a);for(;r.length>d;)i(c,a=r[d++])&&(~l(h,a)||h.push(a));return h}},(t,r,a)=>{var i=a(15),o=a(45),l=a(47),createMethod=function(t){return function(r,a,u){var c,d=i(r),h=o(d.length),p=l(u,h);if(t&&a!=a){for(;h>p;)if((c=d[p++])!=c)return!0}else for(;h>p;p++)if((t||p in d)&&d[p]===a)return t||p||0;return!t&&-1}};t.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},(t,r,a)=>{var i=a(46),o=Math.min;t.exports=function(t){return t>0?o(i(t),9007199254740991):0}},t=>{var r=Math.ceil,a=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?a:r)(t)}},(t,r,a)=>{var i=a(46),o=Math.max,l=Math.min;t.exports=function(t,r){var a=i(t);return a<0?o(a+r,0):l(a,r)}},t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(t,r)=>{r.f=Object.getOwnPropertySymbols},(t,r,a)=>{var i=a(12),o=/#|\.prototype\./,isForced=function(t,r){var a=u[l(t)];return a==d||a!=c&&("function"==typeof r?i(r):!!r)},l=isForced.normalize=function(t){return String(t).replace(o,".").toLowerCase()},u=isForced.data={},c=isForced.NATIVE="N",d=isForced.POLYFILL="P";t.exports=isForced},(t,r,a)=>{a(52);a(71);var i=a(41);t.exports=i.Object.fromEntries},(t,r,a)=>{"use strict";var i=a(15),o=a(53),l=a(61),u=a(31),c=a(62),d="Array Iterator",h=u.set,p=u.getterFor(d);t.exports=c(Array,"Array",(function(t,r){h(this,{type:d,target:i(t),index:0,kind:r})}),(function(){var t=p(this),r=t.target,a=t.kind,i=t.index++;if(!r||i>=r.length){t.target=void 0;return{value:void 0,done:!0}}return"keys"==a?{value:i,done:!1}:"values"==a?{value:r[i],done:!1}:{value:[i,r[i]],done:!1}}),"values");l.Arguments=l.Array;o("keys");o("values");o("entries")},(t,r,a)=>{var i=a(54),o=a(57),l=a(25),u=i("unscopables"),c=Array.prototype;null==c[u]&&l.f(c,u,{configurable:!0,value:o(null)});t.exports=function(t){c[u][t]=!0}},(t,r,a)=>{var i=a(9),o=a(34),l=a(21),u=a(36),c=a(55),d=a(56),h=o("wks"),p=i.Symbol,m=d?p:p&&p.withoutSetter||u;t.exports=function(t){l(h,t)||(c&&l(p,t)?h[t]=p[t]:h[t]=m("Symbol."+t));return h[t]}},(t,r,a)=>{var i=a(12);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},(t,r,a)=>{var i=a(55);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},(t,r,a)=>{var i,o=a(26),l=a(58),u=a(48),c=a(37),d=a(60),h=a(23),p=a(33),m=p("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(t){return"<script>"+t+"</"+"script>"},NullProtoObject=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(t){}NullProtoObject=i?function(t){t.write(scriptTag(""));t.close();var r=t.parentWindow.Object;t=null;return r}(i):function(){var t,r=h("iframe");r.style.display="none";d.appendChild(r);r.src=String("javascript:");(t=r.contentWindow.document).open();t.write(scriptTag("document.F=Object"));t.close();return t.F}();for(var t=u.length;t--;)delete NullProtoObject.prototype[u[t]];return NullProtoObject()};c[m]=!0;t.exports=Object.create||function create(t,r){var a;if(null!==t){EmptyConstructor.prototype=o(t);a=new EmptyConstructor;EmptyConstructor.prototype=null;a[m]=t}else a=NullProtoObject();return void 0===r?a:l(a,r)}},(t,r,a)=>{var i=a(11),o=a(25),l=a(26),u=a(59);t.exports=i?Object.defineProperties:function defineProperties(t,r){l(t);for(var a,i=u(r),c=i.length,d=0;c>d;)o.f(t,a=i[d++],r[a]);return t}},(t,r,a)=>{var i=a(43),o=a(48);t.exports=Object.keys||function keys(t){return i(t,o)}},(t,r,a)=>{var i=a(40);t.exports=i("document","documentElement")},t=>{t.exports={}},(t,r,a)=>{"use strict";var i=a(8),o=a(63),l=a(65),u=a(69),c=a(68),d=a(24),h=a(27),p=a(54),m=a(35),g=a(61),v=a(64),y=v.IteratorPrototype,b=v.BUGGY_SAFARI_ITERATORS,S=p("iterator"),w="keys",C="values",P="entries",returnThis=function(){return this};t.exports=function(t,r,a,p,v,k,R){o(a,r,p);var A,T,E,getIterationMethod=function(t){if(t===v&&D)return D;if(!b&&t in O)return O[t];switch(t){case w:return function keys(){return new a(this,t)};case C:return function values(){return new a(this,t)};case P:return function entries(){return new a(this,t)}}return function(){return new a(this)}},x=r+" Iterator",I=!1,O=t.prototype,L=O[S]||O["@@iterator"]||v&&O[v],D=!b&&L||getIterationMethod(v),M="Array"==r&&O.entries||L;if(M){A=l(M.call(new t));if(y!==Object.prototype&&A.next){m||l(A)===y||(u?u(A,y):"function"!=typeof A[S]&&d(A,S,returnThis));c(A,x,!0,!0);m&&(g[x]=returnThis)}}if(v==C&&L&&L.name!==C){I=!0;D=function values(){return L.call(this)}}m&&!R||O[S]===D||d(O,S,D);g[r]=D;if(v){T={values:getIterationMethod(C),keys:k?D:getIterationMethod(w),entries:getIterationMethod(P)};if(R)for(E in T)(b||I||!(E in O))&&h(O,E,T[E]);else i({target:r,proto:!0,forced:b||I},T)}return T}},(t,r,a)=>{"use strict";var i=a(64).IteratorPrototype,o=a(57),l=a(14),u=a(68),c=a(61),returnThis=function(){return this};t.exports=function(t,r,a){var d=r+" Iterator";t.prototype=o(i,{next:l(1,a)});u(t,d,!1,!0);c[d]=returnThis;return t}},(t,r,a)=>{"use strict";var i,o,l,u=a(12),c=a(65),d=a(24),h=a(21),p=a(54),m=a(35),g=p("iterator"),v=!1;[].keys&&("next"in(l=[].keys())?(o=c(c(l)))!==Object.prototype&&(i=o):v=!0);var y=null==i||u((function(){var t={};return i[g].call(t)!==t}));y&&(i={});m&&!y||h(i,g)||d(i,g,(function(){return this}));t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:v}},(t,r,a)=>{var i=a(21),o=a(66),l=a(33),u=a(67),c=l("IE_PROTO"),d=Object.prototype;t.exports=u?Object.getPrototypeOf:function(t){t=o(t);return i(t,c)?t[c]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?d:null}},(t,r,a)=>{var i=a(18);t.exports=function(t){return Object(i(t))}},(t,r,a)=>{var i=a(12);t.exports=!i((function(){function F(){}F.prototype.constructor=null;return Object.getPrototypeOf(new F)!==F.prototype}))},(t,r,a)=>{var i=a(25).f,o=a(21),l=a(54)("toStringTag");t.exports=function(t,r,a){t&&!o(t=a?t:t.prototype,l)&&i(t,l,{configurable:!0,value:r})}},(t,r,a)=>{var i=a(26),o=a(70);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,r=!1,a={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(a,[]);r=a instanceof Array}catch(t){}return function setPrototypeOf(a,l){i(a);o(l);r?t.call(a,l):a.__proto__=l;return a}}():void 0)},(t,r,a)=>{var i=a(20);t.exports=function(t){if(!i(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},(t,r,a)=>{var i=a(8),o=a(72),l=a(80);i({target:"Object",stat:!0},{fromEntries:function fromEntries(t){var r={};o(t,(function(t,a){l(r,t,a)}),{AS_ENTRIES:!0});return r}})},(t,r,a)=>{var i=a(26),o=a(73),l=a(45),u=a(74),c=a(76),d=a(79),Result=function(t,r){this.stopped=t;this.result=r};t.exports=function(t,r,a){var h,p,m,g,v,y,b,S=a&&a.that,w=!(!a||!a.AS_ENTRIES),C=!(!a||!a.IS_ITERATOR),P=!(!a||!a.INTERRUPTED),k=u(r,S,1+w+P),stop=function(t){h&&d(h);return new Result(!0,t)},callFn=function(t){if(w){i(t);return P?k(t[0],t[1],stop):k(t[0],t[1])}return P?k(t,stop):k(t)};if(C)h=t;else{if("function"!=typeof(p=c(t)))throw TypeError("Target is not iterable");if(o(p)){for(m=0,g=l(t.length);g>m;m++)if((v=callFn(t[m]))&&v instanceof Result)return v;return new Result(!1)}h=p.call(t)}y=h.next;for(;!(b=y.call(h)).done;){try{v=callFn(b.value)}catch(t){d(h);throw t}if("object"==typeof v&&v&&v instanceof Result)return v}return new Result(!1)}},(t,r,a)=>{var i=a(54),o=a(61),l=i("iterator"),u=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||u[l]===t)}},(t,r,a)=>{var i=a(75);t.exports=function(t,r,a){i(t);if(void 0===r)return t;switch(a){case 0:return function(){return t.call(r)};case 1:return function(a){return t.call(r,a)};case 2:return function(a,i){return t.call(r,a,i)};case 3:return function(a,i,o){return t.call(r,a,i,o)}}return function(){return t.apply(r,arguments)}}},t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},(t,r,a)=>{var i=a(77),o=a(61),l=a(54)("iterator");t.exports=function(t){if(null!=t)return t[l]||t["@@iterator"]||o[i(t)]}},(t,r,a)=>{var i=a(78),o=a(17),l=a(54)("toStringTag"),u="Arguments"==o(function(){return arguments}());t.exports=i?o:function(t){var r,a,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(a=function(t,r){try{return t[r]}catch(t){}}(r=Object(t),l))?a:u?o(r):"Object"==(i=o(r))&&"function"==typeof r.callee?"Arguments":i}},(t,r,a)=>{var i={};i[a(54)("toStringTag")]="z";t.exports="[object z]"===String(i)},(t,r,a)=>{var i=a(26);t.exports=function(t){var r=t.return;if(void 0!==r)return i(r.call(t)).value}},(t,r,a)=>{"use strict";var i=a(19),o=a(25),l=a(14);t.exports=function(t,r,a){var u=i(r);u in t?o.f(t,u,l(0,a)):t[u]=a}},(t,r,a)=>{a(82);a(83);a(85);a(103);a(104);a(105);a(106);a(108);var i=a(41);t.exports=i.Promise},(t,r,a)=>{"use strict";var i=a(8),o=a(65),l=a(69),u=a(57),c=a(24),d=a(14),h=a(72),p=function AggregateError(t,r){var a=this;if(!(a instanceof p))return new p(t,r);l&&(a=l(new Error(void 0),o(a)));void 0!==r&&c(a,"message",String(r));var i=[];h(t,i.push,{that:i});c(a,"errors",i);return a};p.prototype=u(Error.prototype,{constructor:d(5,p),message:d(5,""),name:d(5,"AggregateError")});i({global:!0},{AggregateError:p})},(t,r,a)=>{var i=a(78),o=a(27),l=a(84);i||o(Object.prototype,"toString",l,{unsafe:!0})},(t,r,a)=>{"use strict";var i=a(78),o=a(77);t.exports=i?{}.toString:function toString(){return"[object "+o(this)+"]"}},(t,r,a)=>{"use strict";var i,o,l,u,c=a(8),d=a(35),h=a(9),p=a(40),m=a(86),g=a(27),v=a(87),y=a(68),b=a(88),S=a(20),w=a(75),C=a(89),P=a(29),k=a(72),R=a(90),A=a(91),T=a(92).set,E=a(96),x=a(98),I=a(100),O=a(99),L=a(101),D=a(31),M=a(50),B=a(54),N=a(95),W=a(102),j=B("species"),V="Promise",U=D.get,q=D.set,G=D.getterFor(V),z=m,H=h.TypeError,Y=h.document,Q=h.process,X=p("fetch"),K=O.f,$=K,J=!!(Y&&Y.createEvent&&h.dispatchEvent),Z="function"==typeof PromiseRejectionEvent,ee="unhandledrejection",te=M(V,(function(){if(!(P(z)!==String(z))){if(66===W)return!0;if(!N&&!Z)return!0}if(d&&!z.prototype.finally)return!0;if(W>=51&&/native code/.test(z))return!1;var t=z.resolve(1),FakePromise=function(t){t((function(){}),(function(){}))};(t.constructor={})[j]=FakePromise;return!(t.then((function(){}))instanceof FakePromise)})),re=te||!R((function(t){z.all(t).catch((function(){}))})),isThenable=function(t){var r;return!(!S(t)||"function"!=typeof(r=t.then))&&r},notify=function(t,r){if(!t.notified){t.notified=!0;var a=t.reactions;E((function(){for(var i=t.value,o=1==t.state,l=0;a.length>l;){var u,c,d,h=a[l++],p=o?h.ok:h.fail,m=h.resolve,g=h.reject,v=h.domain;try{if(p){if(!o){2===t.rejection&&onHandleUnhandled(t);t.rejection=1}if(!0===p)u=i;else{v&&v.enter();u=p(i);if(v){v.exit();d=!0}}u===h.promise?g(H("Promise-chain cycle")):(c=isThenable(u))?c.call(u,m,g):m(u)}else g(i)}catch(t){v&&!d&&v.exit();g(t)}}t.reactions=[];t.notified=!1;r&&!t.rejection&&onUnhandled(t)}))}},dispatchEvent=function(t,r,a){var i,o;if(J){(i=Y.createEvent("Event")).promise=r;i.reason=a;i.initEvent(t,!1,!0);h.dispatchEvent(i)}else i={promise:r,reason:a};!Z&&(o=h["on"+t])?o(i):t===ee&&I("Unhandled promise rejection",a)},onUnhandled=function(t){T.call(h,(function(){var r,a=t.facade,i=t.value;if(isUnhandled(t)){r=L((function(){N?Q.emit("unhandledRejection",i,a):dispatchEvent(ee,a,i)}));t.rejection=N||isUnhandled(t)?2:1;if(r.error)throw r.value}}))},isUnhandled=function(t){return 1!==t.rejection&&!t.parent},onHandleUnhandled=function(t){T.call(h,(function(){var r=t.facade;N?Q.emit("rejectionHandled",r):dispatchEvent("rejectionhandled",r,t.value)}))},bind=function(t,r,a){return function(i){t(r,i,a)}},internalReject=function(t,r,a){if(!t.done){t.done=!0;a&&(t=a);t.value=r;t.state=2;notify(t,!0)}},internalResolve=function(t,r,a){if(!t.done){t.done=!0;a&&(t=a);try{if(t.facade===r)throw H("Promise can't be resolved itself");var i=isThenable(r);if(i)E((function(){var a={done:!1};try{i.call(r,bind(internalResolve,a,t),bind(internalReject,a,t))}catch(r){internalReject(a,r,t)}}));else{t.value=r;t.state=1;notify(t,!1)}}catch(r){internalReject({done:!1},r,t)}}};if(te){z=function Promise(t){C(this,z,V);w(t);i.call(this);var r=U(this);try{t(bind(internalResolve,r),bind(internalReject,r))}catch(t){internalReject(r,t)}};(i=function Promise(t){q(this,{type:V,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=v(z.prototype,{then:function then(t,r){var a=G(this),i=K(A(this,z));i.ok="function"!=typeof t||t;i.fail="function"==typeof r&&r;i.domain=N?Q.domain:void 0;a.parent=!0;a.reactions.push(i);0!=a.state&&notify(a,!1);return i.promise},catch:function(t){return this.then(void 0,t)}});o=function(){var t=new i,r=U(t);this.promise=t;this.resolve=bind(internalResolve,r);this.reject=bind(internalReject,r)};O.f=K=function(t){return t===z||t===l?new o(t):$(t)};if(!d&&"function"==typeof m){u=m.prototype.then;g(m.prototype,"then",(function then(t,r){var a=this;return new z((function(t,r){u.call(a,t,r)})).then(t,r)}),{unsafe:!0});"function"==typeof X&&c({global:!0,enumerable:!0,forced:!0},{fetch:function fetch(t){return x(z,X.apply(h,arguments))}})}}c({global:!0,wrap:!0,forced:te},{Promise:z});y(z,V,!1,!0);b(V);l=p(V);c({target:V,stat:!0,forced:te},{reject:function reject(t){var r=K(this);r.reject.call(void 0,t);return r.promise}});c({target:V,stat:!0,forced:d||te},{resolve:function resolve(t){return x(d&&this===l?z:this,t)}});c({target:V,stat:!0,forced:re},{all:function all(t){var r=this,a=K(r),i=a.resolve,o=a.reject,l=L((function(){var a=w(r.resolve),l=[],u=0,c=1;k(t,(function(t){var d=u++,h=!1;l.push(void 0);c++;a.call(r,t).then((function(t){if(!h){h=!0;l[d]=t;--c||i(l)}}),o)}));--c||i(l)}));l.error&&o(l.value);return a.promise},race:function race(t){var r=this,a=K(r),i=a.reject,o=L((function(){var o=w(r.resolve);k(t,(function(t){o.call(r,t).then(a.resolve,i)}))}));o.error&&i(o.value);return a.promise}})},(t,r,a)=>{var i=a(9);t.exports=i.Promise},(t,r,a)=>{var i=a(27);t.exports=function(t,r,a){for(var o in r)i(t,o,r[o],a);return t}},(t,r,a)=>{"use strict";var i=a(40),o=a(25),l=a(54),u=a(11),c=l("species");t.exports=function(t){var r=i(t),a=o.f;u&&r&&!r[c]&&a(r,c,{configurable:!0,get:function(){return this}})}},t=>{t.exports=function(t,r,a){if(!(t instanceof r))throw TypeError("Incorrect "+(a?a+" ":"")+"invocation");return t}},(t,r,a)=>{var i=a(54)("iterator"),o=!1;try{var l=0,u={next:function(){return{done:!!l++}},return:function(){o=!0}};u[i]=function(){return this};Array.from(u,(function(){throw 2}))}catch(t){}t.exports=function(t,r){if(!r&&!o)return!1;var a=!1;try{var l={};l[i]=function(){return{next:function(){return{done:a=!0}}}};t(l)}catch(t){}return a}},(t,r,a)=>{var i=a(26),o=a(75),l=a(54)("species");t.exports=function(t,r){var a,u=i(t).constructor;return void 0===u||null==(a=i(u)[l])?r:o(a)}},(t,r,a)=>{var i,o,l,u=a(9),c=a(12),d=a(74),h=a(60),p=a(23),m=a(93),g=a(95),v=u.location,y=u.setImmediate,b=u.clearImmediate,S=u.process,w=u.MessageChannel,C=u.Dispatch,P=0,k={},R="onreadystatechange",run=function(t){if(k.hasOwnProperty(t)){var r=k[t];delete k[t];r()}},runner=function(t){return function(){run(t)}},listener=function(t){run(t.data)},post=function(t){u.postMessage(t+"",v.protocol+"//"+v.host)};if(!y||!b){y=function setImmediate(t){for(var r=[],a=1;arguments.length>a;)r.push(arguments[a++]);k[++P]=function(){("function"==typeof t?t:Function(t)).apply(void 0,r)};i(P);return P};b=function clearImmediate(t){delete k[t]};if(g)i=function(t){S.nextTick(runner(t))};else if(C&&C.now)i=function(t){C.now(runner(t))};else if(w&&!m){l=(o=new w).port2;o.port1.onmessage=listener;i=d(l.postMessage,l,1)}else if(u.addEventListener&&"function"==typeof postMessage&&!u.importScripts&&v&&"file:"!==v.protocol&&!c(post)){i=post;u.addEventListener("message",listener,!1)}else i=R in p("script")?function(t){h.appendChild(p("script")).onreadystatechange=function(){h.removeChild(this);run(t)}}:function(t){setTimeout(runner(t),0)}}t.exports={set:y,clear:b}},(t,r,a)=>{var i=a(94);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(i)},(t,r,a)=>{var i=a(40);t.exports=i("navigator","userAgent")||""},(t,r,a)=>{var i=a(17),o=a(9);t.exports="process"==i(o.process)},(t,r,a)=>{var i,o,l,u,c,d,h,p,m=a(9),g=a(10).f,v=a(92).set,y=a(93),b=a(97),S=a(95),w=m.MutationObserver||m.WebKitMutationObserver,C=m.document,P=m.process,k=m.Promise,R=g(m,"queueMicrotask"),A=R&&R.value;if(!A){i=function(){var t,r;S&&(t=P.domain)&&t.exit();for(;o;){r=o.fn;o=o.next;try{r()}catch(t){o?u():l=void 0;throw t}}l=void 0;t&&t.enter()};if(y||S||b||!w||!C)if(k&&k.resolve){h=k.resolve(void 0);p=h.then;u=function(){p.call(h,i)}}else u=S?function(){P.nextTick(i)}:function(){v.call(m,i)};else{c=!0;d=C.createTextNode("");new w(i).observe(d,{characterData:!0});u=function(){d.data=c=!c}}}t.exports=A||function(t){var r={fn:t,next:void 0};l&&(l.next=r);if(!o){o=r;u()}l=r}},(t,r,a)=>{var i=a(94);t.exports=/web0s(?!.*chrome)/i.test(i)},(t,r,a)=>{var i=a(26),o=a(20),l=a(99);t.exports=function(t,r){i(t);if(o(r)&&r.constructor===t)return r;var a=l.f(t);(0,a.resolve)(r);return a.promise}},(t,r,a)=>{"use strict";var i=a(75),PromiseCapability=function(t){var r,a;this.promise=new t((function(t,i){if(void 0!==r||void 0!==a)throw TypeError("Bad Promise constructor");r=t;a=i}));this.resolve=i(r);this.reject=i(a)};t.exports.f=function(t){return new PromiseCapability(t)}},(t,r,a)=>{var i=a(9);t.exports=function(t,r){var a=i.console;a&&a.error&&(1===arguments.length?a.error(t):a.error(t,r))}},t=>{t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},(t,r,a)=>{var i,o,l=a(9),u=a(94),c=l.process,d=c&&c.versions,h=d&&d.v8;h?o=(i=h.split("."))[0]+i[1]:u&&(!(i=u.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=u.match(/Chrome\/(\d+)/))&&(o=i[1]);t.exports=o&&+o},(t,r,a)=>{"use strict";var i=a(8),o=a(75),l=a(99),u=a(101),c=a(72);i({target:"Promise",stat:!0},{allSettled:function allSettled(t){var r=this,a=l.f(r),i=a.resolve,d=a.reject,h=u((function(){var a=o(r.resolve),l=[],u=0,d=1;c(t,(function(t){var o=u++,c=!1;l.push(void 0);d++;a.call(r,t).then((function(t){if(!c){c=!0;l[o]={status:"fulfilled",value:t};--d||i(l)}}),(function(t){if(!c){c=!0;l[o]={status:"rejected",reason:t};--d||i(l)}}))}));--d||i(l)}));h.error&&d(h.value);return a.promise}})},(t,r,a)=>{"use strict";var i=a(8),o=a(75),l=a(40),u=a(99),c=a(101),d=a(72),h="No one promise resolved";i({target:"Promise",stat:!0},{any:function any(t){var r=this,a=u.f(r),i=a.resolve,p=a.reject,m=c((function(){var a=o(r.resolve),u=[],c=0,m=1,g=!1;d(t,(function(t){var o=c++,d=!1;u.push(void 0);m++;a.call(r,t).then((function(t){if(!d&&!g){g=!0;i(t)}}),(function(t){if(!d&&!g){d=!0;u[o]=t;--m||p(new(l("AggregateError"))(u,h))}}))}));--m||p(new(l("AggregateError"))(u,h))}));m.error&&p(m.value);return a.promise}})},(t,r,a)=>{"use strict";var i=a(8),o=a(35),l=a(86),u=a(12),c=a(40),d=a(91),h=a(98),p=a(27);i({target:"Promise",proto:!0,real:!0,forced:!!l&&u((function(){l.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var r=d(this,c("Promise")),a="function"==typeof t;return this.then(a?function(a){return h(r,t()).then((function(){return a}))}:t,a?function(a){return h(r,t()).then((function(){throw a}))}:t)}});o||"function"!=typeof l||l.prototype.finally||p(l.prototype,"finally",c("Promise").prototype.finally)},(t,r,a)=>{"use strict";var i=a(107).charAt,o=a(31),l=a(62),u="String Iterator",c=o.set,d=o.getterFor(u);l(String,"String",(function(t){c(this,{type:u,string:String(t),index:0})}),(function next(){var t,r=d(this),a=r.string,o=r.index;if(o>=a.length)return{value:void 0,done:!0};t=i(a,o);r.index+=t.length;return{value:t,done:!1}}))},(t,r,a)=>{var i=a(46),o=a(18),createMethod=function(t){return function(r,a){var l,u,c=String(o(r)),d=i(a),h=c.length;return d<0||d>=h?t?"":void 0:(l=c.charCodeAt(d))<55296||l>56319||d+1===h||(u=c.charCodeAt(d+1))<56320||u>57343?t?c.charAt(d):l:t?c.slice(d,d+2):u-56320+(l-55296<<10)+65536}};t.exports={codeAt:createMethod(!1),charAt:createMethod(!0)}},(t,r,a)=>{var i=a(9),o=a(109),l=a(52),u=a(24),c=a(54),d=c("iterator"),h=c("toStringTag"),p=l.values;for(var m in o){var g=i[m],v=g&&g.prototype;if(v){if(v[d]!==p)try{u(v,d,p)}catch(t){v[d]=p}v[h]||u(v,h,m);if(o[m])for(var y in l)if(v[y]!==l[y])try{u(v,y,l[y])}catch(t){v[y]=l[y]}}}},t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},(t,r,a)=>{a(111);a(119);a(117);var i=a(41);t.exports=i.URL},(t,r,a)=>{"use strict";a(106);var i,o=a(8),l=a(11),u=a(112),c=a(9),d=a(58),h=a(27),p=a(89),m=a(21),g=a(113),v=a(114),y=a(107).codeAt,b=a(116),S=a(68),w=a(117),C=a(31),P=c.URL,k=w.URLSearchParams,R=w.getState,A=C.set,T=C.getterFor("URL"),E=Math.floor,x=Math.pow,I="Invalid scheme",O="Invalid host",L="Invalid port",D=/[A-Za-z]/,M=/[\d+-.A-Za-z]/,B=/\d/,N=/^(0x|0X)/,W=/^[0-7]+$/,j=/^\d+$/,V=/^[\dA-Fa-f]+$/,U=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,q=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,G=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,z=/[\u0009\u000A\u000D]/g,parseHost=function(t,r){var a,i,o;if("["==r.charAt(0)){if("]"!=r.charAt(r.length-1))return O;if(!(a=parseIPv6(r.slice(1,-1))))return O;t.host=a}else if(isSpecial(t)){r=b(r);if(U.test(r))return O;if(null===(a=parseIPv4(r)))return O;t.host=a}else{if(q.test(r))return O;a="";i=v(r);for(o=0;o<i.length;o++)a+=percentEncode(i[o],H);t.host=a}},parseIPv4=function(t){var r,a,i,o,l,u,c,d=t.split(".");d.length&&""==d[d.length-1]&&d.pop();if((r=d.length)>4)return t;a=[];for(i=0;i<r;i++){if(""==(o=d[i]))return t;l=10;if(o.length>1&&"0"==o.charAt(0)){l=N.test(o)?16:8;o=o.slice(8==l?1:2)}if(""===o)u=0;else{if(!(10==l?j:8==l?W:V).test(o))return t;u=parseInt(o,l)}a.push(u)}for(i=0;i<r;i++){u=a[i];if(i==r-1){if(u>=x(256,5-r))return null}else if(u>255)return null}c=a.pop();for(i=0;i<a.length;i++)c+=a[i]*x(256,3-i);return c},parseIPv6=function(t){var r,a,i,o,l,u,c,d=[0,0,0,0,0,0,0,0],h=0,p=null,m=0,char=function(){return t.charAt(m)};if(":"==char()){if(":"!=t.charAt(1))return;m+=2;p=++h}for(;char();){if(8==h)return;if(":"!=char()){r=a=0;for(;a<4&&V.test(char());){r=16*r+parseInt(char(),16);m++;a++}if("."==char()){if(0==a)return;m-=a;if(h>6)return;i=0;for(;char();){o=null;if(i>0){if(!("."==char()&&i<4))return;m++}if(!B.test(char()))return;for(;B.test(char());){l=parseInt(char(),10);if(null===o)o=l;else{if(0==o)return;o=10*o+l}if(o>255)return;m++}d[h]=256*d[h]+o;2!=++i&&4!=i||h++}if(4!=i)return;break}if(":"==char()){m++;if(!char())return}else if(char())return;d[h++]=r}else{if(null!==p)return;m++;p=++h}}if(null!==p){u=h-p;h=7;for(;0!=h&&u>0;){c=d[h];d[h--]=d[p+u-1];d[p+--u]=c}}else if(8!=h)return;return d},serializeHost=function(t){var r,a,i,o;if("number"==typeof t){r=[];for(a=0;a<4;a++){r.unshift(t%256);t=E(t/256)}return r.join(".")}if("object"==typeof t){r="";i=function(t){for(var r=null,a=1,i=null,o=0,l=0;l<8;l++)if(0!==t[l]){if(o>a){r=i;a=o}i=null;o=0}else{null===i&&(i=l);++o}if(o>a){r=i;a=o}return r}(t);for(a=0;a<8;a++)if(!o||0!==t[a]){o&&(o=!1);if(i===a){r+=a?":":"::";o=!0}else{r+=t[a].toString(16);a<7&&(r+=":")}}return"["+r+"]"}return t},H={},Y=g({},H,{" ":1,'"':1,"<":1,">":1,"`":1}),Q=g({},Y,{"#":1,"?":1,"{":1,"}":1}),X=g({},Q,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),percentEncode=function(t,r){var a=y(t,0);return a>32&&a<127&&!m(r,t)?t:encodeURIComponent(t)},K={ftp:21,file:null,http:80,https:443,ws:80,wss:443},isSpecial=function(t){return m(K,t.scheme)},includesCredentials=function(t){return""!=t.username||""!=t.password},cannotHaveUsernamePasswordPort=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},isWindowsDriveLetter=function(t,r){var a;return 2==t.length&&D.test(t.charAt(0))&&(":"==(a=t.charAt(1))||!r&&"|"==a)},startsWithWindowsDriveLetter=function(t){var r;return t.length>1&&isWindowsDriveLetter(t.slice(0,2))&&(2==t.length||"/"===(r=t.charAt(2))||"\\"===r||"?"===r||"#"===r)},shortenURLsPath=function(t){var r=t.path,a=r.length;!a||"file"==t.scheme&&1==a&&isWindowsDriveLetter(r[0],!0)||r.pop()},isSingleDot=function(t){return"."===t||"%2e"===t.toLowerCase()},$={},J={},Z={},ee={},te={},re={},ne={},ae={},ie={},oe={},se={},le={},ue={},ce={},de={},fe={},he={},pe={},me={},ge={},ve={},parseURL=function(t,r,a,o){var l,u,c,d,h,p=a||$,g=0,y="",b=!1,S=!1,w=!1;if(!a){t.scheme="";t.username="";t.password="";t.host=null;t.port=null;t.path=[];t.query=null;t.fragment=null;t.cannotBeABaseURL=!1;r=r.replace(G,"")}r=r.replace(z,"");l=v(r);for(;g<=l.length;){u=l[g];switch(p){case $:if(!u||!D.test(u)){if(a)return I;p=Z;continue}y+=u.toLowerCase();p=J;break;case J:if(u&&(M.test(u)||"+"==u||"-"==u||"."==u))y+=u.toLowerCase();else{if(":"!=u){if(a)return I;y="";p=Z;g=0;continue}if(a&&(isSpecial(t)!=m(K,y)||"file"==y&&(includesCredentials(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;t.scheme=y;if(a){isSpecial(t)&&K[t.scheme]==t.port&&(t.port=null);return}y="";if("file"==t.scheme)p=ce;else if(isSpecial(t)&&o&&o.scheme==t.scheme)p=ee;else if(isSpecial(t))p=ae;else if("/"==l[g+1]){p=te;g++}else{t.cannotBeABaseURL=!0;t.path.push("");p=me}}break;case Z:if(!o||o.cannotBeABaseURL&&"#"!=u)return I;if(o.cannotBeABaseURL&&"#"==u){t.scheme=o.scheme;t.path=o.path.slice();t.query=o.query;t.fragment="";t.cannotBeABaseURL=!0;p=ve;break}p="file"==o.scheme?ce:re;continue;case ee:if("/"!=u||"/"!=l[g+1]){p=re;continue}p=ie;g++;break;case te:if("/"==u){p=oe;break}p=pe;continue;case re:t.scheme=o.scheme;if(u==i){t.username=o.username;t.password=o.password;t.host=o.host;t.port=o.port;t.path=o.path.slice();t.query=o.query}else if("/"==u||"\\"==u&&isSpecial(t))p=ne;else if("?"==u){t.username=o.username;t.password=o.password;t.host=o.host;t.port=o.port;t.path=o.path.slice();t.query="";p=ge}else{if("#"!=u){t.username=o.username;t.password=o.password;t.host=o.host;t.port=o.port;t.path=o.path.slice();t.path.pop();p=pe;continue}t.username=o.username;t.password=o.password;t.host=o.host;t.port=o.port;t.path=o.path.slice();t.query=o.query;t.fragment="";p=ve}break;case ne:if(!isSpecial(t)||"/"!=u&&"\\"!=u){if("/"!=u){t.username=o.username;t.password=o.password;t.host=o.host;t.port=o.port;p=pe;continue}p=oe}else p=ie;break;case ae:p=ie;if("/"!=u||"/"!=y.charAt(g+1))continue;g++;break;case ie:if("/"!=u&&"\\"!=u){p=oe;continue}break;case oe:if("@"==u){b&&(y="%40"+y);b=!0;c=v(y);for(var C=0;C<c.length;C++){var P=c[C];if(":"!=P||w){var k=percentEncode(P,X);w?t.password+=k:t.username+=k}else w=!0}y=""}else if(u==i||"/"==u||"?"==u||"#"==u||"\\"==u&&isSpecial(t)){if(b&&""==y)return"Invalid authority";g-=v(y).length+1;y="";p=se}else y+=u;break;case se:case le:if(a&&"file"==t.scheme){p=fe;continue}if(":"!=u||S){if(u==i||"/"==u||"?"==u||"#"==u||"\\"==u&&isSpecial(t)){if(isSpecial(t)&&""==y)return O;if(a&&""==y&&(includesCredentials(t)||null!==t.port))return;if(d=parseHost(t,y))return d;y="";p=he;if(a)return;continue}"["==u?S=!0:"]"==u&&(S=!1);y+=u}else{if(""==y)return O;if(d=parseHost(t,y))return d;y="";p=ue;if(a==le)return}break;case ue:if(!B.test(u)){if(u==i||"/"==u||"?"==u||"#"==u||"\\"==u&&isSpecial(t)||a){if(""!=y){var R=parseInt(y,10);if(R>65535)return L;t.port=isSpecial(t)&&R===K[t.scheme]?null:R;y=""}if(a)return;p=he;continue}return L}y+=u;break;case ce:t.scheme="file";if("/"==u||"\\"==u)p=de;else{if(!o||"file"!=o.scheme){p=pe;continue}if(u==i){t.host=o.host;t.path=o.path.slice();t.query=o.query}else if("?"==u){t.host=o.host;t.path=o.path.slice();t.query="";p=ge}else{if("#"!=u){if(!startsWithWindowsDriveLetter(l.slice(g).join(""))){t.host=o.host;t.path=o.path.slice();shortenURLsPath(t)}p=pe;continue}t.host=o.host;t.path=o.path.slice();t.query=o.query;t.fragment="";p=ve}}break;case de:if("/"==u||"\\"==u){p=fe;break}o&&"file"==o.scheme&&!startsWithWindowsDriveLetter(l.slice(g).join(""))&&(isWindowsDriveLetter(o.path[0],!0)?t.path.push(o.path[0]):t.host=o.host);p=pe;continue;case fe:if(u==i||"/"==u||"\\"==u||"?"==u||"#"==u){if(!a&&isWindowsDriveLetter(y))p=pe;else if(""==y){t.host="";if(a)return;p=he}else{if(d=parseHost(t,y))return d;"localhost"==t.host&&(t.host="");if(a)return;y="";p=he}continue}y+=u;break;case he:if(isSpecial(t)){p=pe;if("/"!=u&&"\\"!=u)continue}else if(a||"?"!=u)if(a||"#"!=u){if(u!=i){p=pe;if("/"!=u)continue}}else{t.fragment="";p=ve}else{t.query="";p=ge}break;case pe:if(u==i||"/"==u||"\\"==u&&isSpecial(t)||!a&&("?"==u||"#"==u)){if(".."===(h=(h=y).toLowerCase())||"%2e."===h||".%2e"===h||"%2e%2e"===h){shortenURLsPath(t);"/"==u||"\\"==u&&isSpecial(t)||t.path.push("")}else if(isSingleDot(y))"/"==u||"\\"==u&&isSpecial(t)||t.path.push("");else{if("file"==t.scheme&&!t.path.length&&isWindowsDriveLetter(y)){t.host&&(t.host="");y=y.charAt(0)+":"}t.path.push(y)}y="";if("file"==t.scheme&&(u==i||"?"==u||"#"==u))for(;t.path.length>1&&""===t.path[0];)t.path.shift();if("?"==u){t.query="";p=ge}else if("#"==u){t.fragment="";p=ve}}else y+=percentEncode(u,Q);break;case me:if("?"==u){t.query="";p=ge}else if("#"==u){t.fragment="";p=ve}else u!=i&&(t.path[0]+=percentEncode(u,H));break;case ge:if(a||"#"!=u)u!=i&&("'"==u&&isSpecial(t)?t.query+="%27":t.query+="#"==u?"%23":percentEncode(u,H));else{t.fragment="";p=ve}break;case ve:u!=i&&(t.fragment+=percentEncode(u,Y))}g++}},ye=function URL(t){var r,a,i=p(this,ye,"URL"),o=arguments.length>1?arguments[1]:void 0,u=String(t),c=A(i,{type:"URL"});if(void 0!==o)if(o instanceof ye)r=T(o);else if(a=parseURL(r={},String(o)))throw TypeError(a);if(a=parseURL(c,u,null,r))throw TypeError(a);var d=c.searchParams=new k,h=R(d);h.updateSearchParams(c.query);h.updateURL=function(){c.query=String(d)||null};if(!l){i.href=serializeURL.call(i);i.origin=getOrigin.call(i);i.protocol=getProtocol.call(i);i.username=getUsername.call(i);i.password=getPassword.call(i);i.host=getHost.call(i);i.hostname=getHostname.call(i);i.port=getPort.call(i);i.pathname=getPathname.call(i);i.search=getSearch.call(i);i.searchParams=getSearchParams.call(i);i.hash=getHash.call(i)}},be=ye.prototype,serializeURL=function(){var t=T(this),r=t.scheme,a=t.username,i=t.password,o=t.host,l=t.port,u=t.path,c=t.query,d=t.fragment,h=r+":";if(null!==o){h+="//";includesCredentials(t)&&(h+=a+(i?":"+i:"")+"@");h+=serializeHost(o);null!==l&&(h+=":"+l)}else"file"==r&&(h+="//");h+=t.cannotBeABaseURL?u[0]:u.length?"/"+u.join("/"):"";null!==c&&(h+="?"+c);null!==d&&(h+="#"+d);return h},getOrigin=function(){var t=T(this),r=t.scheme,a=t.port;if("blob"==r)try{return new URL(r.path[0]).origin}catch(t){return"null"}return"file"!=r&&isSpecial(t)?r+"://"+serializeHost(t.host)+(null!==a?":"+a:""):"null"},getProtocol=function(){return T(this).scheme+":"},getUsername=function(){return T(this).username},getPassword=function(){return T(this).password},getHost=function(){var t=T(this),r=t.host,a=t.port;return null===r?"":null===a?serializeHost(r):serializeHost(r)+":"+a},getHostname=function(){var t=T(this).host;return null===t?"":serializeHost(t)},getPort=function(){var t=T(this).port;return null===t?"":String(t)},getPathname=function(){var t=T(this),r=t.path;return t.cannotBeABaseURL?r[0]:r.length?"/"+r.join("/"):""},getSearch=function(){var t=T(this).query;return t?"?"+t:""},getSearchParams=function(){return T(this).searchParams},getHash=function(){var t=T(this).fragment;return t?"#"+t:""},accessorDescriptor=function(t,r){return{get:t,set:r,configurable:!0,enumerable:!0}};l&&d(be,{href:accessorDescriptor(serializeURL,(function(t){var r=T(this),a=String(t),i=parseURL(r,a);if(i)throw TypeError(i);R(r.searchParams).updateSearchParams(r.query)})),origin:accessorDescriptor(getOrigin),protocol:accessorDescriptor(getProtocol,(function(t){var r=T(this);parseURL(r,String(t)+":",$)})),username:accessorDescriptor(getUsername,(function(t){var r=T(this),a=v(String(t));if(!cannotHaveUsernamePasswordPort(r)){r.username="";for(var i=0;i<a.length;i++)r.username+=percentEncode(a[i],X)}})),password:accessorDescriptor(getPassword,(function(t){var r=T(this),a=v(String(t));if(!cannotHaveUsernamePasswordPort(r)){r.password="";for(var i=0;i<a.length;i++)r.password+=percentEncode(a[i],X)}})),host:accessorDescriptor(getHost,(function(t){var r=T(this);r.cannotBeABaseURL||parseURL(r,String(t),se)})),hostname:accessorDescriptor(getHostname,(function(t){var r=T(this);r.cannotBeABaseURL||parseURL(r,String(t),le)})),port:accessorDescriptor(getPort,(function(t){var r=T(this);cannotHaveUsernamePasswordPort(r)||(""==(t=String(t))?r.port=null:parseURL(r,t,ue))})),pathname:accessorDescriptor(getPathname,(function(t){var r=T(this);if(!r.cannotBeABaseURL){r.path=[];parseURL(r,t+"",he)}})),search:accessorDescriptor(getSearch,(function(t){var r=T(this);if(""==(t=String(t)))r.query=null;else{"?"==t.charAt(0)&&(t=t.slice(1));r.query="";parseURL(r,t,ge)}R(r.searchParams).updateSearchParams(r.query)})),searchParams:accessorDescriptor(getSearchParams),hash:accessorDescriptor(getHash,(function(t){var r=T(this);if(""!=(t=String(t))){"#"==t.charAt(0)&&(t=t.slice(1));r.fragment="";parseURL(r,t,ve)}else r.fragment=null}))});h(be,"toJSON",(function toJSON(){return serializeURL.call(this)}),{enumerable:!0});h(be,"toString",(function toString(){return serializeURL.call(this)}),{enumerable:!0});if(P){var _e=P.createObjectURL,Se=P.revokeObjectURL;_e&&h(ye,"createObjectURL",(function createObjectURL(t){return _e.apply(P,arguments)}));Se&&h(ye,"revokeObjectURL",(function revokeObjectURL(t){return Se.apply(P,arguments)}))}S(ye,"URL");o({global:!0,forced:!u,sham:!l},{URL:ye})},(t,r,a)=>{var i=a(12),o=a(54),l=a(35),u=o("iterator");t.exports=!i((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),r=t.searchParams,a="";t.pathname="c%20d";r.forEach((function(t,i){r.delete("b");a+=i+t}));return l&&!t.toJSON||!r.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==r.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!r[u]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==a||"x"!==new URL("http://x",void 0).host}))},(t,r,a)=>{"use strict";var i=a(11),o=a(12),l=a(59),u=a(49),c=a(13),d=a(66),h=a(16),p=Object.assign,m=Object.defineProperty;t.exports=!p||o((function(){if(i&&1!==p({b:1},p(m({},"a",{enumerable:!0,get:function(){m(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},r={},a=Symbol(),o="abcdefghijklmnopqrst";t[a]=7;o.split("").forEach((function(t){r[t]=t}));return 7!=p({},t)[a]||l(p({},r)).join("")!=o}))?function assign(t,r){for(var a=d(t),o=arguments.length,p=1,m=u.f,g=c.f;o>p;)for(var v,y=h(arguments[p++]),b=m?l(y).concat(m(y)):l(y),S=b.length,w=0;S>w;){v=b[w++];i&&!g.call(y,v)||(a[v]=y[v])}return a}:p},(t,r,a)=>{"use strict";var i=a(74),o=a(66),l=a(115),u=a(73),c=a(45),d=a(80),h=a(76);t.exports=function from(t){var r,a,p,m,g,v,y=o(t),b="function"==typeof this?this:Array,S=arguments.length,w=S>1?arguments[1]:void 0,C=void 0!==w,P=h(y),k=0;C&&(w=i(w,S>2?arguments[2]:void 0,2));if(null==P||b==Array&&u(P)){a=new b(r=c(y.length));for(;r>k;k++){v=C?w(y[k],k):y[k];d(a,k,v)}}else{g=(m=P.call(y)).next;a=new b;for(;!(p=g.call(m)).done;k++){v=C?l(m,w,[p.value,k],!0):p.value;d(a,k,v)}}a.length=k;return a}},(t,r,a)=>{var i=a(26),o=a(79);t.exports=function(t,r,a,l){try{return l?r(i(a)[0],a[1]):r(a)}catch(r){o(t);throw r}}},t=>{"use strict";var r=2147483647,a=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",l=Math.floor,u=String.fromCharCode,digitToBasic=function(t){return t+22+75*(t<26)},adapt=function(t,r,a){var i=0;t=a?l(t/700):t>>1;t+=l(t/r);for(;t>455;i+=36)t=l(t/35);return l(i+36*t/(t+38))},encode=function(t){var a,i,c=[],d=(t=function(t){for(var r=[],a=0,i=t.length;a<i;){var o=t.charCodeAt(a++);if(o>=55296&&o<=56319&&a<i){var l=t.charCodeAt(a++);if(56320==(64512&l))r.push(((1023&o)<<10)+(1023&l)+65536);else{r.push(o);a--}}else r.push(o)}return r}(t)).length,h=128,p=0,m=72;for(a=0;a<t.length;a++)(i=t[a])<128&&c.push(u(i));var g=c.length,v=g;g&&c.push("-");for(;v<d;){var y=r;for(a=0;a<t.length;a++)(i=t[a])>=h&&i<y&&(y=i);var b=v+1;if(y-h>l((r-p)/b))throw RangeError(o);p+=(y-h)*b;h=y;for(a=0;a<t.length;a++){if((i=t[a])<h&&++p>r)throw RangeError(o);if(i==h){for(var S=p,w=36;;w+=36){var C=w<=m?1:w>=m+26?26:w-m;if(S<C)break;var P=S-C,k=36-C;c.push(u(digitToBasic(C+P%k)));S=l(P/k)}c.push(u(digitToBasic(S)));m=adapt(p,b,v==g);p=0;++v}}++p;++h}return c.join("")};t.exports=function(t){var r,o,l=[],u=t.toLowerCase().replace(i,".").split(".");for(r=0;r<u.length;r++){o=u[r];l.push(a.test(o)?"xn--"+encode(o):o)}return l.join(".")}},(t,r,a)=>{"use strict";a(52);var i=a(8),o=a(40),l=a(112),u=a(27),c=a(87),d=a(68),h=a(63),p=a(31),m=a(89),g=a(21),v=a(74),y=a(77),b=a(26),S=a(20),w=a(57),C=a(14),P=a(118),k=a(76),R=a(54),A=o("fetch"),T=o("Headers"),E=R("iterator"),x="URLSearchParams",I="URLSearchParamsIterator",O=p.set,L=p.getterFor(x),D=p.getterFor(I),M=/\+/g,B=Array(4),percentSequence=function(t){return B[t-1]||(B[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},percentDecode=function(t){try{return decodeURIComponent(t)}catch(r){return t}},deserialize=function(t){var r=t.replace(M," "),a=4;try{return decodeURIComponent(r)}catch(t){for(;a;)r=r.replace(percentSequence(a--),percentDecode);return r}},N=/[!'()~]|%20/g,W={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},replacer=function(t){return W[t]},serialize=function(t){return encodeURIComponent(t).replace(N,replacer)},parseSearchParams=function(t,r){if(r)for(var a,i,o=r.split("&"),l=0;l<o.length;)if((a=o[l++]).length){i=a.split("=");t.push({key:deserialize(i.shift()),value:deserialize(i.join("="))})}},updateSearchParams=function(t){this.entries.length=0;parseSearchParams(this.entries,t)},validateArgumentsLength=function(t,r){if(t<r)throw TypeError("Not enough arguments")},j=h((function Iterator(t,r){O(this,{type:I,iterator:P(L(t).entries),kind:r})}),"Iterator",(function next(){var t=D(this),r=t.kind,a=t.iterator.next(),i=a.value;a.done||(a.value="keys"===r?i.key:"values"===r?i.value:[i.key,i.value]);return a})),V=function URLSearchParams(){m(this,V,x);var t,r,a,i,o,l,u,c,d,h=arguments.length>0?arguments[0]:void 0,p=this,v=[];O(p,{type:x,entries:v,updateURL:function(){},updateSearchParams:updateSearchParams});if(void 0!==h)if(S(h))if("function"==typeof(t=k(h))){a=(r=t.call(h)).next;for(;!(i=a.call(r)).done;){if((u=(l=(o=P(b(i.value))).next).call(o)).done||(c=l.call(o)).done||!l.call(o).done)throw TypeError("Expected sequence with length 2");v.push({key:u.value+"",value:c.value+""})}}else for(d in h)g(h,d)&&v.push({key:d,value:h[d]+""});else parseSearchParams(v,"string"==typeof h?"?"===h.charAt(0)?h.slice(1):h:h+"")},U=V.prototype;c(U,{append:function append(t,r){validateArgumentsLength(arguments.length,2);var a=L(this);a.entries.push({key:t+"",value:r+""});a.updateURL()},delete:function(t){validateArgumentsLength(arguments.length,1);for(var r=L(this),a=r.entries,i=t+"",o=0;o<a.length;)a[o].key===i?a.splice(o,1):o++;r.updateURL()},get:function get(t){validateArgumentsLength(arguments.length,1);for(var r=L(this).entries,a=t+"",i=0;i<r.length;i++)if(r[i].key===a)return r[i].value;return null},getAll:function getAll(t){validateArgumentsLength(arguments.length,1);for(var r=L(this).entries,a=t+"",i=[],o=0;o<r.length;o++)r[o].key===a&&i.push(r[o].value);return i},has:function has(t){validateArgumentsLength(arguments.length,1);for(var r=L(this).entries,a=t+"",i=0;i<r.length;)if(r[i++].key===a)return!0;return!1},set:function set(t,r){validateArgumentsLength(arguments.length,1);for(var a,i=L(this),o=i.entries,l=!1,u=t+"",c=r+"",d=0;d<o.length;d++)if((a=o[d]).key===u)if(l)o.splice(d--,1);else{l=!0;a.value=c}l||o.push({key:u,value:c});i.updateURL()},sort:function sort(){var t,r,a,i=L(this),o=i.entries,l=o.slice();o.length=0;for(a=0;a<l.length;a++){t=l[a];for(r=0;r<a;r++)if(o[r].key>t.key){o.splice(r,0,t);break}r===a&&o.push(t)}i.updateURL()},forEach:function forEach(t){for(var r,a=L(this).entries,i=v(t,arguments.length>1?arguments[1]:void 0,3),o=0;o<a.length;)i((r=a[o++]).value,r.key,this)},keys:function keys(){return new j(this,"keys")},values:function values(){return new j(this,"values")},entries:function entries(){return new j(this,"entries")}},{enumerable:!0});u(U,E,U.entries);u(U,"toString",(function toString(){for(var t,r=L(this).entries,a=[],i=0;i<r.length;){t=r[i++];a.push(serialize(t.key)+"="+serialize(t.value))}return a.join("&")}),{enumerable:!0});d(V,x);i({global:!0,forced:!l},{URLSearchParams:V});l||"function"!=typeof A||"function"!=typeof T||i({global:!0,enumerable:!0,forced:!0},{fetch:function fetch(t){var r,a,i,o=[t];if(arguments.length>1){if(S(r=arguments[1])){a=r.body;if(y(a)===x){(i=r.headers?new T(r.headers):new T).has("content-type")||i.set("content-type","application/x-www-form-urlencoded;charset=UTF-8");r=w(r,{body:C(0,String(a)),headers:C(0,i)})}}o.push(r)}return A.apply(this,o)}});t.exports={URLSearchParams:V,getState:L}},(t,r,a)=>{var i=a(26),o=a(76);t.exports=function(t){var r=o(t);if("function"!=typeof r)throw TypeError(String(t)+" is not iterable");return i(r.call(t))}},(t,r,a)=>{"use strict";a(8)({target:"URL",proto:!0,enumerable:!0},{toJSON:function toJSON(){return URL.prototype.toString.call(this)}})},function(t,r){(function(t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function noop(){}var a=function getGlobals(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0}();function typeIsObject(t){return"object"==typeof t&&null!==t||"function"==typeof t}var i=noop,o=Promise,l=Promise.prototype.then,u=Promise.resolve.bind(o),c=Promise.reject.bind(o);function newPromise(t){return new o(t)}function promiseResolvedWith(t){return u(t)}function promiseRejectedWith(t){return c(t)}function PerformPromiseThen(t,r,a){return l.call(t,r,a)}function uponPromise(t,r,a){PerformPromiseThen(PerformPromiseThen(t,r,a),void 0,i)}function uponFulfillment(t,r){uponPromise(t,r)}function uponRejection(t,r){uponPromise(t,void 0,r)}function transformPromiseWith(t,r,a){return PerformPromiseThen(t,r,a)}function setPromiseIsHandledToTrue(t){PerformPromiseThen(t,void 0,i)}var d=function(){var t=a&&a.queueMicrotask;if("function"==typeof t)return t;var r=promiseResolvedWith(void 0);return function(t){return PerformPromiseThen(r,t)}}();function reflectCall(t,r,a){if("function"!=typeof t)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(t,r,a)}function promiseCall(t,r,a){try{return promiseResolvedWith(reflectCall(t,r,a))}catch(t){return promiseRejectedWith(t)}}var h=function(){function SimpleQueue(){this._cursor=0;this._size=0;this._front={_elements:[],_next:void 0};this._back=this._front;this._cursor=0;this._size=0}Object.defineProperty(SimpleQueue.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0});SimpleQueue.prototype.push=function(t){var r=this._back,a=r;16383===r._elements.length&&(a={_elements:[],_next:void 0});r._elements.push(t);if(a!==r){this._back=a;r._next=a}++this._size};SimpleQueue.prototype.shift=function(){var t=this._front,r=t,a=this._cursor,i=a+1,o=t._elements,l=o[a];if(16384===i){r=t._next;i=0}--this._size;this._cursor=i;t!==r&&(this._front=r);o[a]=void 0;return l};SimpleQueue.prototype.forEach=function(t){for(var r=this._cursor,a=this._front,i=a._elements;r!==i.length||void 0!==a._next;){if(r===i.length){r=0;if(0===(i=(a=a._next)._elements).length)break}t(i[r]);++r}};SimpleQueue.prototype.peek=function(){var t=this._front,r=this._cursor;return t._elements[r]};return SimpleQueue}();function ReadableStreamReaderGenericInitialize(t,r){t._ownerReadableStream=r;r._reader=t;"readable"===r._state?defaultReaderClosedPromiseInitialize(t):"closed"===r._state?function defaultReaderClosedPromiseInitializeAsResolved(t){defaultReaderClosedPromiseInitialize(t);defaultReaderClosedPromiseResolve(t)}(t):defaultReaderClosedPromiseInitializeAsRejected(t,r._storedError)}function ReadableStreamReaderGenericCancel(t,r){return ReadableStreamCancel(t._ownerReadableStream,r)}function ReadableStreamReaderGenericRelease(t){"readable"===t._ownerReadableStream._state?defaultReaderClosedPromiseReject(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function defaultReaderClosedPromiseResetToRejected(t,r){defaultReaderClosedPromiseInitializeAsRejected(t,r)}(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"));t._ownerReadableStream._reader=void 0;t._ownerReadableStream=void 0}function readerLockException(t){return new TypeError("Cannot "+t+" a stream using a released reader")}function defaultReaderClosedPromiseInitialize(t){t._closedPromise=newPromise((function(r,a){t._closedPromise_resolve=r;t._closedPromise_reject=a}))}function defaultReaderClosedPromiseInitializeAsRejected(t,r){defaultReaderClosedPromiseInitialize(t);defaultReaderClosedPromiseReject(t,r)}function defaultReaderClosedPromiseReject(t,r){if(void 0!==t._closedPromise_reject){setPromiseIsHandledToTrue(t._closedPromise);t._closedPromise_reject(r);t._closedPromise_resolve=void 0;t._closedPromise_reject=void 0}}function defaultReaderClosedPromiseResolve(t){if(void 0!==t._closedPromise_resolve){t._closedPromise_resolve(void 0);t._closedPromise_resolve=void 0;t._closedPromise_reject=void 0}}var p=r("[[AbortSteps]]"),m=r("[[ErrorSteps]]"),g=r("[[CancelSteps]]"),v=r("[[PullSteps]]"),y=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},b=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};function assertDictionary(t,r){if(void 0!==t&&!function isDictionary(t){return"object"==typeof t||"function"==typeof t}(t))throw new TypeError(r+" is not an object.")}function assertFunction(t,r){if("function"!=typeof t)throw new TypeError(r+" is not a function.")}function assertObject(t,r){if(!function isObject(t){return"object"==typeof t&&null!==t||"function"==typeof t}(t))throw new TypeError(r+" is not an object.")}function assertRequiredArgument(t,r,a){if(void 0===t)throw new TypeError("Parameter "+r+" is required in '"+a+"'.")}function assertRequiredField(t,r,a){if(void 0===t)throw new TypeError(r+" is required in '"+a+"'.")}function convertUnrestrictedDouble(t){return Number(t)}function censorNegativeZero(t){return 0===t?0:t}function convertUnsignedLongLongWithEnforceRange(t,r){var a=Number.MAX_SAFE_INTEGER,i=Number(t);i=censorNegativeZero(i);if(!y(i))throw new TypeError(r+" is not a finite number");if((i=function integerPart(t){return censorNegativeZero(b(t))}(i))<0||i>a)throw new TypeError(r+" is outside the accepted range of 0 to "+a+", inclusive");return y(i)&&0!==i?i:0}function assertReadableStream(t,r){if(!IsReadableStream(t))throw new TypeError(r+" is not a ReadableStream.")}function AcquireReadableStreamDefaultReader(t){return new C(t)}function ReadableStreamAddReadRequest(t,r){t._reader._readRequests.push(r)}function ReadableStreamFulfillReadRequest(t,r,a){var i=t._reader._readRequests.shift();a?i._closeSteps():i._chunkSteps(r)}function ReadableStreamGetNumReadRequests(t){return t._reader._readRequests.length}function ReadableStreamHasDefaultReader(t){var r=t._reader;return void 0!==r&&!!IsReadableStreamDefaultReader(r)}var S,w,C=function(){function ReadableStreamDefaultReader(t){assertRequiredArgument(t,1,"ReadableStreamDefaultReader");assertReadableStream(t,"First parameter");if(IsReadableStreamLocked(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");ReadableStreamReaderGenericInitialize(this,t);this._readRequests=new h}Object.defineProperty(ReadableStreamDefaultReader.prototype,"closed",{get:function(){return IsReadableStreamDefaultReader(this)?this._closedPromise:promiseRejectedWith(defaultReaderBrandCheckException("closed"))},enumerable:!1,configurable:!0});ReadableStreamDefaultReader.prototype.cancel=function(t){void 0===t&&(t=void 0);return IsReadableStreamDefaultReader(this)?void 0===this._ownerReadableStream?promiseRejectedWith(readerLockException("cancel")):ReadableStreamReaderGenericCancel(this,t):promiseRejectedWith(defaultReaderBrandCheckException("cancel"))};ReadableStreamDefaultReader.prototype.read=function(){if(!IsReadableStreamDefaultReader(this))return promiseRejectedWith(defaultReaderBrandCheckException("read"));if(void 0===this._ownerReadableStream)return promiseRejectedWith(readerLockException("read from"));var t,r,a=newPromise((function(a,i){t=a;r=i}));ReadableStreamDefaultReaderRead(this,{_chunkSteps:function(r){return t({value:r,done:!1})},_closeSteps:function(){return t({value:void 0,done:!0})},_errorSteps:function(t){return r(t)}});return a};ReadableStreamDefaultReader.prototype.releaseLock=function(){if(!IsReadableStreamDefaultReader(this))throw defaultReaderBrandCheckException("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");ReadableStreamReaderGenericRelease(this)}};return ReadableStreamDefaultReader}();Object.defineProperties(C.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}});"symbol"==typeof r.toStringTag&&Object.defineProperty(C.prototype,r.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function IsReadableStreamDefaultReader(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readRequests")}function ReadableStreamDefaultReaderRead(t,r){var a=t._ownerReadableStream;a._disturbed=!0;"closed"===a._state?r._closeSteps():"errored"===a._state?r._errorSteps(a._storedError):a._readableStreamController[v](r)}function defaultReaderBrandCheckException(t){return new TypeError("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}if("symbol"==typeof r.asyncIterator){w=((S={})[r.asyncIterator]=function(){return this},S);Object.defineProperty(w,r.asyncIterator,{enumerable:!1})}var P=function(){function ReadableStreamAsyncIteratorImpl(t,r){this._ongoingPromise=void 0;this._isFinished=!1;this._reader=t;this._preventCancel=r}ReadableStreamAsyncIteratorImpl.prototype.next=function(){var t=this,nextSteps=function(){return t._nextSteps()};this._ongoingPromise=this._ongoingPromise?transformPromiseWith(this._ongoingPromise,nextSteps,nextSteps):nextSteps();return this._ongoingPromise};ReadableStreamAsyncIteratorImpl.prototype.return=function(t){var r=this,returnSteps=function(){return r._returnSteps(t)};return this._ongoingPromise?transformPromiseWith(this._ongoingPromise,returnSteps,returnSteps):returnSteps()};ReadableStreamAsyncIteratorImpl.prototype._nextSteps=function(){var t=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var r,a,i=this._reader;if(void 0===i._ownerReadableStream)return promiseRejectedWith(readerLockException("iterate"));var o=newPromise((function(t,i){r=t;a=i}));ReadableStreamDefaultReaderRead(i,{_chunkSteps:function(a){t._ongoingPromise=void 0;d((function(){return r({value:a,done:!1})}))},_closeSteps:function(){t._ongoingPromise=void 0;t._isFinished=!0;ReadableStreamReaderGenericRelease(i);r({value:void 0,done:!0})},_errorSteps:function(r){t._ongoingPromise=void 0;t._isFinished=!0;ReadableStreamReaderGenericRelease(i);a(r)}});return o};ReadableStreamAsyncIteratorImpl.prototype._returnSteps=function(t){if(this._isFinished)return Promise.resolve({value:t,done:!0});this._isFinished=!0;var r=this._reader;if(void 0===r._ownerReadableStream)return promiseRejectedWith(readerLockException("finish iterating"));if(!this._preventCancel){var a=ReadableStreamReaderGenericCancel(r,t);ReadableStreamReaderGenericRelease(r);return transformPromiseWith(a,(function(){return{value:t,done:!0}}))}ReadableStreamReaderGenericRelease(r);return promiseResolvedWith({value:t,done:!0})};return ReadableStreamAsyncIteratorImpl}(),k={next:function(){return IsReadableStreamAsyncIterator(this)?this._asyncIteratorImpl.next():promiseRejectedWith(streamAsyncIteratorBrandCheckException("next"))},return:function(t){return IsReadableStreamAsyncIterator(this)?this._asyncIteratorImpl.return(t):promiseRejectedWith(streamAsyncIteratorBrandCheckException("return"))}};void 0!==w&&Object.setPrototypeOf(k,w);function IsReadableStreamAsyncIterator(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_asyncIteratorImpl")}function streamAsyncIteratorBrandCheckException(t){return new TypeError("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}var R=Number.isNaN||function(t){return t!=t};function IsFiniteNonNegativeNumber(t){return!!function IsNonNegativeNumber(t){return"number"==typeof t&&(!R(t)&&!(t<0))}(t)&&t!==1/0}function DequeueValue(t){var r=t._queue.shift();t._queueTotalSize-=r.size;t._queueTotalSize<0&&(t._queueTotalSize=0);return r.value}function EnqueueValueWithSize(t,r,a){if(!IsFiniteNonNegativeNumber(a=Number(a)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t._queue.push({value:r,size:a});t._queueTotalSize+=a}function ResetQueue(t){t._queue=new h;t._queueTotalSize=0}function CreateArrayFromList(t){return t.slice()}var A=function(){function ReadableStreamBYOBRequest(){throw new TypeError("Illegal constructor")}Object.defineProperty(ReadableStreamBYOBRequest.prototype,"view",{get:function(){if(!IsReadableStreamBYOBRequest(this))throw byobRequestBrandCheckException("view");return this._view},enumerable:!1,configurable:!0});ReadableStreamBYOBRequest.prototype.respond=function(t){if(!IsReadableStreamBYOBRequest(this))throw byobRequestBrandCheckException("respond");assertRequiredArgument(t,1,"respond");t=convertUnsignedLongLongWithEnforceRange(t,"First parameter");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");this._view.buffer;!function ReadableByteStreamControllerRespond(t,r){if(!IsFiniteNonNegativeNumber(r=Number(r)))throw new RangeError("bytesWritten must be a finite");ReadableByteStreamControllerRespondInternal(t,r)}(this._associatedReadableByteStreamController,t)};ReadableStreamBYOBRequest.prototype.respondWithNewView=function(t){if(!IsReadableStreamBYOBRequest(this))throw byobRequestBrandCheckException("respondWithNewView");assertRequiredArgument(t,1,"respondWithNewView");if(!ArrayBuffer.isView(t))throw new TypeError("You can only respond with array buffer views");if(0===t.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===t.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");!function ReadableByteStreamControllerRespondWithNewView(t,r){var a=t._pendingPullIntos.peek();if(a.byteOffset+a.bytesFilled!==r.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(a.byteLength!==r.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");a.buffer=r.buffer;ReadableByteStreamControllerRespondInternal(t,r.byteLength)}(this._associatedReadableByteStreamController,t)};return ReadableStreamBYOBRequest}();Object.defineProperties(A.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}});"symbol"==typeof r.toStringTag&&Object.defineProperty(A.prototype,r.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var T=function(){function ReadableByteStreamController(){throw new TypeError("Illegal constructor")}Object.defineProperty(ReadableByteStreamController.prototype,"byobRequest",{get:function(){if(!IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("byobRequest");if(null===this._byobRequest&&this._pendingPullIntos.length>0){var t=this._pendingPullIntos.peek(),r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),a=Object.create(A.prototype);!function SetUpReadableStreamBYOBRequest(t,r,a){t._associatedReadableByteStreamController=r;t._view=a}(a,this,r);this._byobRequest=a}return this._byobRequest},enumerable:!1,configurable:!0});Object.defineProperty(ReadableByteStreamController.prototype,"desiredSize",{get:function(){if(!IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("desiredSize");return ReadableByteStreamControllerGetDesiredSize(this)},enumerable:!1,configurable:!0});ReadableByteStreamController.prototype.close=function(){if(!IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function ReadableByteStreamControllerClose(t){var r=t._controlledReadableByteStream;if(!t._closeRequested&&"readable"===r._state)if(t._queueTotalSize>0)t._closeRequested=!0;else{if(t._pendingPullIntos.length>0&&t._pendingPullIntos.peek().bytesFilled>0){var a=new TypeError("Insufficient bytes to fill elements in the given buffer");ReadableByteStreamControllerError(t,a);throw a}ReadableByteStreamControllerClearAlgorithms(t);ReadableStreamClose(r)}}(this)};ReadableByteStreamController.prototype.enqueue=function(t){if(!IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("enqueue");assertRequiredArgument(t,1,"enqueue");if(!ArrayBuffer.isView(t))throw new TypeError("chunk must be an array buffer view");if(0===t.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===t.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var r=this._controlledReadableByteStream._state;if("readable"!==r)throw new TypeError("The stream (in "+r+" state) is not in the readable state and cannot be enqueued to");!function ReadableByteStreamControllerEnqueue(t,r){var a=t._controlledReadableByteStream;if(!t._closeRequested&&"readable"===a._state){var i=r.buffer,o=r.byteOffset,l=r.byteLength,u=i;if(ReadableStreamHasDefaultReader(a))0===ReadableStreamGetNumReadRequests(a)?ReadableByteStreamControllerEnqueueChunkToQueue(t,u,o,l):ReadableStreamFulfillReadRequest(a,new Uint8Array(u,o,l),!1);else if(ReadableStreamHasBYOBReader(a)){ReadableByteStreamControllerEnqueueChunkToQueue(t,u,o,l);ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(t)}else ReadableByteStreamControllerEnqueueChunkToQueue(t,u,o,l);ReadableByteStreamControllerCallPullIfNeeded(t)}}(this,t)};ReadableByteStreamController.prototype.error=function(t){void 0===t&&(t=void 0);if(!IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("error");ReadableByteStreamControllerError(this,t)};ReadableByteStreamController.prototype[g]=function(t){this._pendingPullIntos.length>0&&(this._pendingPullIntos.peek().bytesFilled=0);ResetQueue(this);var r=this._cancelAlgorithm(t);ReadableByteStreamControllerClearAlgorithms(this);return r};ReadableByteStreamController.prototype[v]=function(t){var r=this._controlledReadableByteStream;if(this._queueTotalSize>0){var a=this._queue.shift();this._queueTotalSize-=a.byteLength;ReadableByteStreamControllerHandleQueueDrain(this);var i=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);t._chunkSteps(i)}else{var o=this._autoAllocateChunkSize;if(void 0!==o){var l=void 0;try{l=new ArrayBuffer(o)}catch(r){t._errorSteps(r);return}var u={buffer:l,byteOffset:0,byteLength:o,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(u)}ReadableStreamAddReadRequest(r,t);ReadableByteStreamControllerCallPullIfNeeded(this)}};return ReadableByteStreamController}();Object.defineProperties(T.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}});"symbol"==typeof r.toStringTag&&Object.defineProperty(T.prototype,r.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function IsReadableByteStreamController(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledReadableByteStream")}function IsReadableStreamBYOBRequest(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_associatedReadableByteStreamController")}function ReadableByteStreamControllerCallPullIfNeeded(t){if(function ReadableByteStreamControllerShouldCallPull(t){var r=t._controlledReadableByteStream;return"readable"===r._state&&(!t._closeRequested&&(!!t._started&&(!!(ReadableStreamHasDefaultReader(r)&&ReadableStreamGetNumReadRequests(r)>0)||(!!(ReadableStreamHasBYOBReader(r)&&ReadableStreamGetNumReadIntoRequests(r)>0)||ReadableByteStreamControllerGetDesiredSize(t)>0))))}(t))if(t._pulling)t._pullAgain=!0;else{t._pulling=!0;uponPromise(t._pullAlgorithm(),(function(){t._pulling=!1;if(t._pullAgain){t._pullAgain=!1;ReadableByteStreamControllerCallPullIfNeeded(t)}}),(function(r){ReadableByteStreamControllerError(t,r)}))}}function ReadableByteStreamControllerCommitPullIntoDescriptor(t,r){var a=!1;"closed"===t._state&&(a=!0);var i=ReadableByteStreamControllerConvertPullIntoDescriptor(r);"default"===r.readerType?ReadableStreamFulfillReadRequest(t,i,a):function ReadableStreamFulfillReadIntoRequest(t,r,a){var i=t._reader._readIntoRequests.shift();a?i._closeSteps(r):i._chunkSteps(r)}(t,i,a)}function ReadableByteStreamControllerConvertPullIntoDescriptor(t){var r=t.bytesFilled,a=t.elementSize;return new t.viewConstructor(t.buffer,t.byteOffset,r/a)}function ReadableByteStreamControllerEnqueueChunkToQueue(t,r,a,i){t._queue.push({buffer:r,byteOffset:a,byteLength:i});t._queueTotalSize+=i}function ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(t,r){var a=r.elementSize,i=r.bytesFilled-r.bytesFilled%a,o=Math.min(t._queueTotalSize,r.byteLength-r.bytesFilled),l=r.bytesFilled+o,u=l-l%a,c=o,d=!1;if(u>i){c=u-r.bytesFilled;d=!0}for(var h,p,m,g,v,y=t._queue;c>0;){var b=y.peek(),S=Math.min(c,b.byteLength),w=r.byteOffset+r.bytesFilled;h=r.buffer,p=w,m=b.buffer,g=b.byteOffset,v=S,new Uint8Array(h).set(new Uint8Array(m,g,v),p);if(b.byteLength===S)y.shift();else{b.byteOffset+=S;b.byteLength-=S}t._queueTotalSize-=S;ReadableByteStreamControllerFillHeadPullIntoDescriptor(t,S,r);c-=S}return d}function ReadableByteStreamControllerFillHeadPullIntoDescriptor(t,r,a){ReadableByteStreamControllerInvalidateBYOBRequest(t);a.bytesFilled+=r}function ReadableByteStreamControllerHandleQueueDrain(t){if(0===t._queueTotalSize&&t._closeRequested){ReadableByteStreamControllerClearAlgorithms(t);ReadableStreamClose(t._controlledReadableByteStream)}else ReadableByteStreamControllerCallPullIfNeeded(t)}function ReadableByteStreamControllerInvalidateBYOBRequest(t){if(null!==t._byobRequest){t._byobRequest._associatedReadableByteStreamController=void 0;t._byobRequest._view=null;t._byobRequest=null}}function ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(t){for(;t._pendingPullIntos.length>0;){if(0===t._queueTotalSize)return;var r=t._pendingPullIntos.peek();if(ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(t,r)){ReadableByteStreamControllerShiftPendingPullInto(t);ReadableByteStreamControllerCommitPullIntoDescriptor(t._controlledReadableByteStream,r)}}}function ReadableByteStreamControllerRespondInternal(t,r){var a=t._pendingPullIntos.peek();if("closed"===t._controlledReadableByteStream._state){if(0!==r)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");!function ReadableByteStreamControllerRespondInClosedState(t,r){r.buffer=r.buffer;var a=t._controlledReadableByteStream;if(ReadableStreamHasBYOBReader(a))for(;ReadableStreamGetNumReadIntoRequests(a)>0;)ReadableByteStreamControllerCommitPullIntoDescriptor(a,ReadableByteStreamControllerShiftPendingPullInto(t))}(t,a)}else!function ReadableByteStreamControllerRespondInReadableState(t,r,a){if(a.bytesFilled+r>a.byteLength)throw new RangeError("bytesWritten out of range");ReadableByteStreamControllerFillHeadPullIntoDescriptor(t,r,a);if(!(a.bytesFilled<a.elementSize)){ReadableByteStreamControllerShiftPendingPullInto(t);var i=a.bytesFilled%a.elementSize;if(i>0){var o=a.byteOffset+a.bytesFilled,l=a.buffer.slice(o-i,o);ReadableByteStreamControllerEnqueueChunkToQueue(t,l,0,l.byteLength)}a.buffer=a.buffer;a.bytesFilled-=i;ReadableByteStreamControllerCommitPullIntoDescriptor(t._controlledReadableByteStream,a);ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(t)}}(t,r,a);ReadableByteStreamControllerCallPullIfNeeded(t)}function ReadableByteStreamControllerShiftPendingPullInto(t){var r=t._pendingPullIntos.shift();ReadableByteStreamControllerInvalidateBYOBRequest(t);return r}function ReadableByteStreamControllerClearAlgorithms(t){t._pullAlgorithm=void 0;t._cancelAlgorithm=void 0}function ReadableByteStreamControllerError(t,r){var a=t._controlledReadableByteStream;if("readable"===a._state){!function ReadableByteStreamControllerClearPendingPullIntos(t){ReadableByteStreamControllerInvalidateBYOBRequest(t);t._pendingPullIntos=new h}(t);ResetQueue(t);ReadableByteStreamControllerClearAlgorithms(t);ReadableStreamError(a,r)}}function ReadableByteStreamControllerGetDesiredSize(t){var r=t._controlledReadableByteStream._state;return"errored"===r?null:"closed"===r?0:t._strategyHWM-t._queueTotalSize}function SetUpReadableByteStreamControllerFromUnderlyingSource(t,r,a){var i=Object.create(T.prototype),startAlgorithm=function(){},pullAlgorithm=function(){return promiseResolvedWith(void 0)},cancelAlgorithm=function(){return promiseResolvedWith(void 0)};void 0!==r.start&&(startAlgorithm=function(){return r.start(i)});void 0!==r.pull&&(pullAlgorithm=function(){return r.pull(i)});void 0!==r.cancel&&(cancelAlgorithm=function(t){return r.cancel(t)});var o=r.autoAllocateChunkSize;!function SetUpReadableByteStreamController(t,r,a,i,o,l,u){r._controlledReadableByteStream=t;r._pullAgain=!1;r._pulling=!1;r._byobRequest=null;r._queue=r._queueTotalSize=void 0;ResetQueue(r);r._closeRequested=!1;r._started=!1;r._strategyHWM=l;r._pullAlgorithm=i;r._cancelAlgorithm=o;r._autoAllocateChunkSize=u;r._pendingPullIntos=new h;t._readableStreamController=r;uponPromise(promiseResolvedWith(a()),(function(){r._started=!0;ReadableByteStreamControllerCallPullIfNeeded(r)}),(function(t){ReadableByteStreamControllerError(r,t)}))}(t,i,startAlgorithm,pullAlgorithm,cancelAlgorithm,a,o)}function byobRequestBrandCheckException(t){return new TypeError("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function byteStreamControllerBrandCheckException(t){return new TypeError("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function ReadableStreamAddReadIntoRequest(t,r){t._reader._readIntoRequests.push(r)}function ReadableStreamGetNumReadIntoRequests(t){return t._reader._readIntoRequests.length}function ReadableStreamHasBYOBReader(t){var r=t._reader;return void 0!==r&&!!IsReadableStreamBYOBReader(r)}var E=function(){function ReadableStreamBYOBReader(t){assertRequiredArgument(t,1,"ReadableStreamBYOBReader");assertReadableStream(t,"First parameter");if(IsReadableStreamLocked(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!IsReadableByteStreamController(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");ReadableStreamReaderGenericInitialize(this,t);this._readIntoRequests=new h}Object.defineProperty(ReadableStreamBYOBReader.prototype,"closed",{get:function(){return IsReadableStreamBYOBReader(this)?this._closedPromise:promiseRejectedWith(byobReaderBrandCheckException("closed"))},enumerable:!1,configurable:!0});ReadableStreamBYOBReader.prototype.cancel=function(t){void 0===t&&(t=void 0);return IsReadableStreamBYOBReader(this)?void 0===this._ownerReadableStream?promiseRejectedWith(readerLockException("cancel")):ReadableStreamReaderGenericCancel(this,t):promiseRejectedWith(byobReaderBrandCheckException("cancel"))};ReadableStreamBYOBReader.prototype.read=function(t){if(!IsReadableStreamBYOBReader(this))return promiseRejectedWith(byobReaderBrandCheckException("read"));if(!ArrayBuffer.isView(t))return promiseRejectedWith(new TypeError("view must be an array buffer view"));if(0===t.byteLength)return promiseRejectedWith(new TypeError("view must have non-zero byteLength"));if(0===t.buffer.byteLength)return promiseRejectedWith(new TypeError("view's buffer must have non-zero byteLength"));if(void 0===this._ownerReadableStream)return promiseRejectedWith(readerLockException("read from"));var r,a,i=newPromise((function(t,i){r=t;a=i}));!function ReadableStreamBYOBReaderRead(t,r,a){var i=t._ownerReadableStream;i._disturbed=!0;"errored"===i._state?a._errorSteps(i._storedError):function ReadableByteStreamControllerPullInto(t,r,a){var i=t._controlledReadableByteStream,o=1;r.constructor!==DataView&&(o=r.constructor.BYTES_PER_ELEMENT);var l=r.constructor,u={buffer:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength,bytesFilled:0,elementSize:o,viewConstructor:l,readerType:"byob"};if(t._pendingPullIntos.length>0){t._pendingPullIntos.push(u);ReadableStreamAddReadIntoRequest(i,a)}else if("closed"!==i._state){if(t._queueTotalSize>0){if(ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(t,u)){var c=ReadableByteStreamControllerConvertPullIntoDescriptor(u);ReadableByteStreamControllerHandleQueueDrain(t);a._chunkSteps(c);return}if(t._closeRequested){var d=new TypeError("Insufficient bytes to fill elements in the given buffer");ReadableByteStreamControllerError(t,d);a._errorSteps(d);return}}t._pendingPullIntos.push(u);ReadableStreamAddReadIntoRequest(i,a);ReadableByteStreamControllerCallPullIfNeeded(t)}else{var h=new l(u.buffer,u.byteOffset,0);a._closeSteps(h)}}(i._readableStreamController,r,a)}(this,t,{_chunkSteps:function(t){return r({value:t,done:!1})},_closeSteps:function(t){return r({value:t,done:!0})},_errorSteps:function(t){return a(t)}});return i};ReadableStreamBYOBReader.prototype.releaseLock=function(){if(!IsReadableStreamBYOBReader(this))throw byobReaderBrandCheckException("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");ReadableStreamReaderGenericRelease(this)}};return ReadableStreamBYOBReader}();Object.defineProperties(E.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}});"symbol"==typeof r.toStringTag&&Object.defineProperty(E.prototype,r.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function IsReadableStreamBYOBReader(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readIntoRequests")}function byobReaderBrandCheckException(t){return new TypeError("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}function ExtractHighWaterMark(t,r){var a=t.highWaterMark;if(void 0===a)return r;if(R(a)||a<0)throw new RangeError("Invalid highWaterMark");return a}function ExtractSizeAlgorithm(t){var r=t.size;return r||function(){return 1}}function convertQueuingStrategy(t,r){assertDictionary(t,r);var a=null==t?void 0:t.highWaterMark,i=null==t?void 0:t.size;return{highWaterMark:void 0===a?void 0:convertUnrestrictedDouble(a),size:void 0===i?void 0:convertQueuingStrategySize(i,r+" has member 'size' that")}}function convertQueuingStrategySize(t,r){assertFunction(t,r);return function(r){return convertUnrestrictedDouble(t(r))}}function convertUnderlyingSinkAbortCallback(t,r,a){assertFunction(t,a);return function(a){return promiseCall(t,r,[a])}}function convertUnderlyingSinkCloseCallback(t,r,a){assertFunction(t,a);return function(){return promiseCall(t,r,[])}}function convertUnderlyingSinkStartCallback(t,r,a){assertFunction(t,a);return function(a){return reflectCall(t,r,[a])}}function convertUnderlyingSinkWriteCallback(t,r,a){assertFunction(t,a);return function(a,i){return promiseCall(t,r,[a,i])}}function assertWritableStream(t,r){if(!IsWritableStream(t))throw new TypeError(r+" is not a WritableStream.")}var x=function(){function WritableStream(t,r){void 0===t&&(t={});void 0===r&&(r={});void 0===t?t=null:assertObject(t,"First parameter");var a=convertQueuingStrategy(r,"Second parameter"),i=function convertUnderlyingSink(t,r){assertDictionary(t,r);var a=null==t?void 0:t.abort,i=null==t?void 0:t.close,o=null==t?void 0:t.start,l=null==t?void 0:t.type,u=null==t?void 0:t.write;return{abort:void 0===a?void 0:convertUnderlyingSinkAbortCallback(a,t,r+" has member 'abort' that"),close:void 0===i?void 0:convertUnderlyingSinkCloseCallback(i,t,r+" has member 'close' that"),start:void 0===o?void 0:convertUnderlyingSinkStartCallback(o,t,r+" has member 'start' that"),write:void 0===u?void 0:convertUnderlyingSinkWriteCallback(u,t,r+" has member 'write' that"),type:l}}(t,"First parameter");InitializeWritableStream(this);if(void 0!==i.type)throw new RangeError("Invalid type is specified");var o=ExtractSizeAlgorithm(a);!function SetUpWritableStreamDefaultControllerFromUnderlyingSink(t,r,a,i){var o=Object.create(L.prototype),startAlgorithm=function(){},writeAlgorithm=function(){return promiseResolvedWith(void 0)},closeAlgorithm=function(){return promiseResolvedWith(void 0)},abortAlgorithm=function(){return promiseResolvedWith(void 0)};void 0!==r.start&&(startAlgorithm=function(){return r.start(o)});void 0!==r.write&&(writeAlgorithm=function(t){return r.write(t,o)});void 0!==r.close&&(closeAlgorithm=function(){return r.close()});void 0!==r.abort&&(abortAlgorithm=function(t){return r.abort(t)});SetUpWritableStreamDefaultController(t,o,startAlgorithm,writeAlgorithm,closeAlgorithm,abortAlgorithm,a,i)}(this,i,ExtractHighWaterMark(a,1),o)}Object.defineProperty(WritableStream.prototype,"locked",{get:function(){if(!IsWritableStream(this))throw streamBrandCheckException("locked");return IsWritableStreamLocked(this)},enumerable:!1,configurable:!0});WritableStream.prototype.abort=function(t){void 0===t&&(t=void 0);return IsWritableStream(this)?IsWritableStreamLocked(this)?promiseRejectedWith(new TypeError("Cannot abort a stream that already has a writer")):WritableStreamAbort(this,t):promiseRejectedWith(streamBrandCheckException("abort"))};WritableStream.prototype.close=function(){return IsWritableStream(this)?IsWritableStreamLocked(this)?promiseRejectedWith(new TypeError("Cannot close a stream that already has a writer")):WritableStreamCloseQueuedOrInFlight(this)?promiseRejectedWith(new TypeError("Cannot close an already-closing stream")):WritableStreamClose(this):promiseRejectedWith(streamBrandCheckException("close"))};WritableStream.prototype.getWriter=function(){if(!IsWritableStream(this))throw streamBrandCheckException("getWriter");return AcquireWritableStreamDefaultWriter(this)};return WritableStream}();Object.defineProperties(x.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}});"symbol"==typeof r.toStringTag&&Object.defineProperty(x.prototype,r.toStringTag,{value:"WritableStream",configurable:!0});function AcquireWritableStreamDefaultWriter(t){return new I(t)}function InitializeWritableStream(t){t._state="writable";t._storedError=void 0;t._writer=void 0;t._writableStreamController=void 0;t._writeRequests=new h;t._inFlightWriteRequest=void 0;t._closeRequest=void 0;t._inFlightCloseRequest=void 0;t._pendingAbortRequest=void 0;t._backpressure=!1}function IsWritableStream(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_writableStreamController")}function IsWritableStreamLocked(t){return void 0!==t._writer}function WritableStreamAbort(t,r){var a=t._state;if("closed"===a||"errored"===a)return promiseResolvedWith(void 0);if(void 0!==t._pendingAbortRequest)return t._pendingAbortRequest._promise;var i=!1;if("erroring"===a){i=!0;r=void 0}var o=newPromise((function(a,o){t._pendingAbortRequest={_promise:void 0,_resolve:a,_reject:o,_reason:r,_wasAlreadyErroring:i}}));t._pendingAbortRequest._promise=o;i||WritableStreamStartErroring(t,r);return o}function WritableStreamClose(t){var r=t._state;if("closed"===r||"errored"===r)return promiseRejectedWith(new TypeError("The stream (in "+r+" state) is not in the writable state and cannot be closed"));var a=newPromise((function(r,a){var i={_resolve:r,_reject:a};t._closeRequest=i})),i=t._writer;void 0!==i&&t._backpressure&&"writable"===r&&defaultWriterReadyPromiseResolve(i);!function WritableStreamDefaultControllerClose(t){EnqueueValueWithSize(t,O,0);WritableStreamDefaultControllerAdvanceQueueIfNeeded(t)}(t._writableStreamController);return a}function WritableStreamDealWithRejection(t,r){"writable"!==t._state?WritableStreamFinishErroring(t):WritableStreamStartErroring(t,r)}function WritableStreamStartErroring(t,r){var a=t._writableStreamController;t._state="erroring";t._storedError=r;var i=t._writer;void 0!==i&&WritableStreamDefaultWriterEnsureReadyPromiseRejected(i,r);!function WritableStreamHasOperationMarkedInFlight(t){return void 0!==t._inFlightWriteRequest||void 0!==t._inFlightCloseRequest}(t)&&a._started&&WritableStreamFinishErroring(t)}function WritableStreamFinishErroring(t){t._state="errored";t._writableStreamController[m]();var r=t._storedError;t._writeRequests.forEach((function(t){t._reject(r)}));t._writeRequests=new h;if(void 0!==t._pendingAbortRequest){var a=t._pendingAbortRequest;t._pendingAbortRequest=void 0;if(a._wasAlreadyErroring){a._reject(r);WritableStreamRejectCloseAndClosedPromiseIfNeeded(t)}else uponPromise(t._writableStreamController[p](a._reason),(function(){a._resolve();WritableStreamRejectCloseAndClosedPromiseIfNeeded(t)}),(function(r){a._reject(r);WritableStreamRejectCloseAndClosedPromiseIfNeeded(t)}))}else WritableStreamRejectCloseAndClosedPromiseIfNeeded(t)}function WritableStreamCloseQueuedOrInFlight(t){return void 0!==t._closeRequest||void 0!==t._inFlightCloseRequest}function WritableStreamRejectCloseAndClosedPromiseIfNeeded(t){if(void 0!==t._closeRequest){t._closeRequest._reject(t._storedError);t._closeRequest=void 0}var r=t._writer;void 0!==r&&defaultWriterClosedPromiseReject(r,t._storedError)}function WritableStreamUpdateBackpressure(t,r){var a=t._writer;void 0!==a&&r!==t._backpressure&&(r?function defaultWriterReadyPromiseReset(t){defaultWriterReadyPromiseInitialize(t)}(a):defaultWriterReadyPromiseResolve(a));t._backpressure=r}var I=function(){function WritableStreamDefaultWriter(t){assertRequiredArgument(t,1,"WritableStreamDefaultWriter");assertWritableStream(t,"First parameter");if(IsWritableStreamLocked(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t;t._writer=this;var r=t._state;if("writable"===r){!WritableStreamCloseQueuedOrInFlight(t)&&t._backpressure?defaultWriterReadyPromiseInitialize(this):defaultWriterReadyPromiseInitializeAsResolved(this);defaultWriterClosedPromiseInitialize(this)}else if("erroring"===r){defaultWriterReadyPromiseInitializeAsRejected(this,t._storedError);defaultWriterClosedPromiseInitialize(this)}else if("closed"===r){defaultWriterReadyPromiseInitializeAsResolved(this);!function defaultWriterClosedPromiseInitializeAsResolved(t){defaultWriterClosedPromiseInitialize(t);defaultWriterClosedPromiseResolve(t)}(this)}else{var a=t._storedError;defaultWriterReadyPromiseInitializeAsRejected(this,a);defaultWriterClosedPromiseInitializeAsRejected(this,a)}}Object.defineProperty(WritableStreamDefaultWriter.prototype,"closed",{get:function(){return IsWritableStreamDefaultWriter(this)?this._closedPromise:promiseRejectedWith(defaultWriterBrandCheckException("closed"))},enumerable:!1,configurable:!0});Object.defineProperty(WritableStreamDefaultWriter.prototype,"desiredSize",{get:function(){if(!IsWritableStreamDefaultWriter(this))throw defaultWriterBrandCheckException("desiredSize");if(void 0===this._ownerWritableStream)throw defaultWriterLockException("desiredSize");return function WritableStreamDefaultWriterGetDesiredSize(t){var r=t._ownerWritableStream,a=r._state;return"errored"===a||"erroring"===a?null:"closed"===a?0:WritableStreamDefaultControllerGetDesiredSize(r._writableStreamController)}(this)},enumerable:!1,configurable:!0});Object.defineProperty(WritableStreamDefaultWriter.prototype,"ready",{get:function(){return IsWritableStreamDefaultWriter(this)?this._readyPromise:promiseRejectedWith(defaultWriterBrandCheckException("ready"))},enumerable:!1,configurable:!0});WritableStreamDefaultWriter.prototype.abort=function(t){void 0===t&&(t=void 0);return IsWritableStreamDefaultWriter(this)?void 0===this._ownerWritableStream?promiseRejectedWith(defaultWriterLockException("abort")):function WritableStreamDefaultWriterAbort(t,r){return WritableStreamAbort(t._ownerWritableStream,r)}(this,t):promiseRejectedWith(defaultWriterBrandCheckException("abort"))};WritableStreamDefaultWriter.prototype.close=function(){if(!IsWritableStreamDefaultWriter(this))return promiseRejectedWith(defaultWriterBrandCheckException("close"));var t=this._ownerWritableStream;return void 0===t?promiseRejectedWith(defaultWriterLockException("close")):WritableStreamCloseQueuedOrInFlight(t)?promiseRejectedWith(new TypeError("Cannot close an already-closing stream")):WritableStreamDefaultWriterClose(this)};WritableStreamDefaultWriter.prototype.releaseLock=function(){if(!IsWritableStreamDefaultWriter(this))throw defaultWriterBrandCheckException("releaseLock");void 0!==this._ownerWritableStream&&WritableStreamDefaultWriterRelease(this)};WritableStreamDefaultWriter.prototype.write=function(t){void 0===t&&(t=void 0);return IsWritableStreamDefaultWriter(this)?void 0===this._ownerWritableStream?promiseRejectedWith(defaultWriterLockException("write to")):WritableStreamDefaultWriterWrite(this,t):promiseRejectedWith(defaultWriterBrandCheckException("write"))};return WritableStreamDefaultWriter}();Object.defineProperties(I.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}});"symbol"==typeof r.toStringTag&&Object.defineProperty(I.prototype,r.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function IsWritableStreamDefaultWriter(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_ownerWritableStream")}function WritableStreamDefaultWriterClose(t){return WritableStreamClose(t._ownerWritableStream)}function WritableStreamDefaultWriterEnsureClosedPromiseRejected(t,r){"pending"===t._closedPromiseState?defaultWriterClosedPromiseReject(t,r):function defaultWriterClosedPromiseResetToRejected(t,r){defaultWriterClosedPromiseInitializeAsRejected(t,r)}(t,r)}function WritableStreamDefaultWriterEnsureReadyPromiseRejected(t,r){"pending"===t._readyPromiseState?defaultWriterReadyPromiseReject(t,r):function defaultWriterReadyPromiseResetToRejected(t,r){defaultWriterReadyPromiseInitializeAsRejected(t,r)}(t,r)}function WritableStreamDefaultWriterRelease(t){var r=t._ownerWritableStream,a=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");WritableStreamDefaultWriterEnsureReadyPromiseRejected(t,a);WritableStreamDefaultWriterEnsureClosedPromiseRejected(t,a);r._writer=void 0;t._ownerWritableStream=void 0}function WritableStreamDefaultWriterWrite(t,r){var a=t._ownerWritableStream,i=a._writableStreamController,o=function WritableStreamDefaultControllerGetChunkSize(t,r){try{return t._strategySizeAlgorithm(r)}catch(r){WritableStreamDefaultControllerErrorIfNeeded(t,r);return 1}}(i,r);if(a!==t._ownerWritableStream)return promiseRejectedWith(defaultWriterLockException("write to"));var l=a._state;if("errored"===l)return promiseRejectedWith(a._storedError);if(WritableStreamCloseQueuedOrInFlight(a)||"closed"===l)return promiseRejectedWith(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===l)return promiseRejectedWith(a._storedError);var u=function WritableStreamAddWriteRequest(t){return newPromise((function(r,a){var i={_resolve:r,_reject:a};t._writeRequests.push(i)}))}(a);!function WritableStreamDefaultControllerWrite(t,r,a){try{EnqueueValueWithSize(t,r,a)}catch(r){WritableStreamDefaultControllerErrorIfNeeded(t,r);return}var i=t._controlledWritableStream;WritableStreamCloseQueuedOrInFlight(i)||"writable"!==i._state||WritableStreamUpdateBackpressure(i,WritableStreamDefaultControllerGetBackpressure(t));WritableStreamDefaultControllerAdvanceQueueIfNeeded(t)}(i,r,o);return u}var O={},L=function(){function WritableStreamDefaultController(){throw new TypeError("Illegal constructor")}WritableStreamDefaultController.prototype.error=function(t){void 0===t&&(t=void 0);if(!function IsWritableStreamDefaultController(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledWritableStream")}(this))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this._controlledWritableStream._state&&WritableStreamDefaultControllerError(this,t)};WritableStreamDefaultController.prototype[p]=function(t){var r=this._abortAlgorithm(t);WritableStreamDefaultControllerClearAlgorithms(this);return r};WritableStreamDefaultController.prototype[m]=function(){ResetQueue(this)};return WritableStreamDefaultController}();Object.defineProperties(L.prototype,{error:{enumerable:!0}});"symbol"==typeof r.toStringTag&&Object.defineProperty(L.prototype,r.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function SetUpWritableStreamDefaultController(t,r,a,i,o,l,u,c){r._controlledWritableStream=t;t._writableStreamController=r;r._queue=void 0;r._queueTotalSize=void 0;ResetQueue(r);r._started=!1;r._strategySizeAlgorithm=c;r._strategyHWM=u;r._writeAlgorithm=i;r._closeAlgorithm=o;r._abortAlgorithm=l;var d=WritableStreamDefaultControllerGetBackpressure(r);WritableStreamUpdateBackpressure(t,d);uponPromise(promiseResolvedWith(a()),(function(){r._started=!0;WritableStreamDefaultControllerAdvanceQueueIfNeeded(r)}),(function(a){r._started=!0;WritableStreamDealWithRejection(t,a)}))}function WritableStreamDefaultControllerClearAlgorithms(t){t._writeAlgorithm=void 0;t._closeAlgorithm=void 0;t._abortAlgorithm=void 0;t._strategySizeAlgorithm=void 0}function WritableStreamDefaultControllerGetDesiredSize(t){return t._strategyHWM-t._queueTotalSize}function WritableStreamDefaultControllerAdvanceQueueIfNeeded(t){var r=t._controlledWritableStream;if(t._started&&void 0===r._inFlightWriteRequest)if("erroring"!==r._state){if(0!==t._queue.length){var a=function PeekQueueValue(t){return t._queue.peek().value}(t);a===O?function WritableStreamDefaultControllerProcessClose(t){var r=t._controlledWritableStream;!function WritableStreamMarkCloseRequestInFlight(t){t._inFlightCloseRequest=t._closeRequest;t._closeRequest=void 0}(r);DequeueValue(t);var a=t._closeAlgorithm();WritableStreamDefaultControllerClearAlgorithms(t);uponPromise(a,(function(){!function WritableStreamFinishInFlightClose(t){t._inFlightCloseRequest._resolve(void 0);t._inFlightCloseRequest=void 0;if("erroring"===t._state){t._storedError=void 0;if(void 0!==t._pendingAbortRequest){t._pendingAbortRequest._resolve();t._pendingAbortRequest=void 0}}t._state="closed";var r=t._writer;void 0!==r&&defaultWriterClosedPromiseResolve(r)}(r)}),(function(t){!function WritableStreamFinishInFlightCloseWithError(t,r){t._inFlightCloseRequest._reject(r);t._inFlightCloseRequest=void 0;if(void 0!==t._pendingAbortRequest){t._pendingAbortRequest._reject(r);t._pendingAbortRequest=void 0}WritableStreamDealWithRejection(t,r)}(r,t)}))}(t):function WritableStreamDefaultControllerProcessWrite(t,r){var a=t._controlledWritableStream;!function WritableStreamMarkFirstWriteRequestInFlight(t){t._inFlightWriteRequest=t._writeRequests.shift()}(a);uponPromise(t._writeAlgorithm(r),(function(){!function WritableStreamFinishInFlightWrite(t){t._inFlightWriteRequest._resolve(void 0);t._inFlightWriteRequest=void 0}(a);var r=a._state;DequeueValue(t);if(!WritableStreamCloseQueuedOrInFlight(a)&&"writable"===r){var i=WritableStreamDefaultControllerGetBackpressure(t);WritableStreamUpdateBackpressure(a,i)}WritableStreamDefaultControllerAdvanceQueueIfNeeded(t)}),(function(r){"writable"===a._state&&WritableStreamDefaultControllerClearAlgorithms(t);!function WritableStreamFinishInFlightWriteWithError(t,r){t._inFlightWriteRequest._reject(r);t._inFlightWriteRequest=void 0;WritableStreamDealWithRejection(t,r)}(a,r)}))}(t,a)}}else WritableStreamFinishErroring(r)}function WritableStreamDefaultControllerErrorIfNeeded(t,r){"writable"===t._controlledWritableStream._state&&WritableStreamDefaultControllerError(t,r)}function WritableStreamDefaultControllerGetBackpressure(t){return WritableStreamDefaultControllerGetDesiredSize(t)<=0}function WritableStreamDefaultControllerError(t,r){var a=t._controlledWritableStream;WritableStreamDefaultControllerClearAlgorithms(t);WritableStreamStartErroring(a,r)}function streamBrandCheckException(t){return new TypeError("WritableStream.prototype."+t+" can only be used on a WritableStream")}function defaultWriterBrandCheckException(t){return new TypeError("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function defaultWriterLockException(t){return new TypeError("Cannot "+t+" a stream using a released writer")}function defaultWriterClosedPromiseInitialize(t){t._closedPromise=newPromise((function(r,a){t._closedPromise_resolve=r;t._closedPromise_reject=a;t._closedPromiseState="pending"}))}function defaultWriterClosedPromiseInitializeAsRejected(t,r){defaultWriterClosedPromiseInitialize(t);defaultWriterClosedPromiseReject(t,r)}function defaultWriterClosedPromiseReject(t,r){if(void 0!==t._closedPromise_reject){setPromiseIsHandledToTrue(t._closedPromise);t._closedPromise_reject(r);t._closedPromise_resolve=void 0;t._closedPromise_reject=void 0;t._closedPromiseState="rejected"}}function defaultWriterClosedPromiseResolve(t){if(void 0!==t._closedPromise_resolve){t._closedPromise_resolve(void 0);t._closedPromise_resolve=void 0;t._closedPromise_reject=void 0;t._closedPromiseState="resolved"}}function defaultWriterReadyPromiseInitialize(t){t._readyPromise=newPromise((function(r,a){t._readyPromise_resolve=r;t._readyPromise_reject=a}));t._readyPromiseState="pending"}function defaultWriterReadyPromiseInitializeAsRejected(t,r){defaultWriterReadyPromiseInitialize(t);defaultWriterReadyPromiseReject(t,r)}function defaultWriterReadyPromiseInitializeAsResolved(t){defaultWriterReadyPromiseInitialize(t);defaultWriterReadyPromiseResolve(t)}function defaultWriterReadyPromiseReject(t,r){if(void 0!==t._readyPromise_reject){setPromiseIsHandledToTrue(t._readyPromise);t._readyPromise_reject(r);t._readyPromise_resolve=void 0;t._readyPromise_reject=void 0;t._readyPromiseState="rejected"}}function defaultWriterReadyPromiseResolve(t){if(void 0!==t._readyPromise_resolve){t._readyPromise_resolve(void 0);t._readyPromise_resolve=void 0;t._readyPromise_reject=void 0;t._readyPromiseState="fulfilled"}}var D="undefined"!=typeof DOMException?DOMException:void 0,M=function isDOMExceptionConstructor(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{new t;return!0}catch(t){return!1}}(D)?D:function createDOMExceptionPolyfill(){var t=function DOMException(t,r){this.message=t||"";this.name=r||"Error";Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};t.prototype=Object.create(Error.prototype);Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0});return t}();function ReadableStreamPipeTo(t,r,a,i,o,l){var u=AcquireReadableStreamDefaultReader(t),c=AcquireWritableStreamDefaultWriter(r);t._disturbed=!0;var d=!1,h=promiseResolvedWith(void 0);return newPromise((function(p,m){var g;if(void 0!==l){g=function(){var a=new M("Aborted","AbortError"),l=[];i||l.push((function(){return"writable"===r._state?WritableStreamAbort(r,a):promiseResolvedWith(void 0)}));o||l.push((function(){return"readable"===t._state?ReadableStreamCancel(t,a):promiseResolvedWith(void 0)}));shutdownWithAction((function(){return Promise.all(l.map((function(t){return t()})))}),!0,a)};if(l.aborted){g();return}l.addEventListener("abort",g)}isOrBecomesErrored(t,u._closedPromise,(function(t){i?shutdown(!0,t):shutdownWithAction((function(){return WritableStreamAbort(r,t)}),!0,t)}));isOrBecomesErrored(r,c._closedPromise,(function(r){o?shutdown(!0,r):shutdownWithAction((function(){return ReadableStreamCancel(t,r)}),!0,r)}));!function isOrBecomesClosed(t,r,a){"closed"===t._state?a():uponFulfillment(r,a)}(t,u._closedPromise,(function(){a?shutdown():shutdownWithAction((function(){return function WritableStreamDefaultWriterCloseWithErrorPropagation(t){var r=t._ownerWritableStream,a=r._state;return WritableStreamCloseQueuedOrInFlight(r)||"closed"===a?promiseResolvedWith(void 0):"errored"===a?promiseRejectedWith(r._storedError):WritableStreamDefaultWriterClose(t)}(c)}))}));if(WritableStreamCloseQueuedOrInFlight(r)||"closed"===r._state){var v=new TypeError("the destination writable stream closed before all data could be piped to it");o?shutdown(!0,v):shutdownWithAction((function(){return ReadableStreamCancel(t,v)}),!0,v)}setPromiseIsHandledToTrue(function pipeLoop(){return newPromise((function(t,r){!function next(a){a?t():PerformPromiseThen(function pipeStep(){return d?promiseResolvedWith(!0):PerformPromiseThen(c._readyPromise,(function(){return newPromise((function(t,r){ReadableStreamDefaultReaderRead(u,{_chunkSteps:function(r){h=PerformPromiseThen(WritableStreamDefaultWriterWrite(c,r),void 0,noop);t(!1)},_closeSteps:function(){return t(!0)},_errorSteps:r})}))}))}(),next,r)}(!1)}))}());function waitForWritesToFinish(){var t=h;return PerformPromiseThen(h,(function(){return t!==h?waitForWritesToFinish():void 0}))}function isOrBecomesErrored(t,r,a){"errored"===t._state?a(t._storedError):uponRejection(r,a)}function shutdownWithAction(t,a,i){if(!d){d=!0;"writable"!==r._state||WritableStreamCloseQueuedOrInFlight(r)?doTheRest():uponFulfillment(waitForWritesToFinish(),doTheRest)}function doTheRest(){uponPromise(t(),(function(){return finalize(a,i)}),(function(t){return finalize(!0,t)}))}}function shutdown(t,a){if(!d){d=!0;"writable"!==r._state||WritableStreamCloseQueuedOrInFlight(r)?finalize(t,a):uponFulfillment(waitForWritesToFinish(),(function(){return finalize(t,a)}))}}function finalize(t,r){WritableStreamDefaultWriterRelease(c);ReadableStreamReaderGenericRelease(u);void 0!==l&&l.removeEventListener("abort",g);t?m(r):p(void 0)}}))}var B=function(){function ReadableStreamDefaultController(){throw new TypeError("Illegal constructor")}Object.defineProperty(ReadableStreamDefaultController.prototype,"desiredSize",{get:function(){if(!IsReadableStreamDefaultController(this))throw defaultControllerBrandCheckException("desiredSize");return ReadableStreamDefaultControllerGetDesiredSize(this)},enumerable:!1,configurable:!0});ReadableStreamDefaultController.prototype.close=function(){if(!IsReadableStreamDefaultController(this))throw defaultControllerBrandCheckException("close");if(!ReadableStreamDefaultControllerCanCloseOrEnqueue(this))throw new TypeError("The stream is not in a state that permits close");ReadableStreamDefaultControllerClose(this)};ReadableStreamDefaultController.prototype.enqueue=function(t){void 0===t&&(t=void 0);if(!IsReadableStreamDefaultController(this))throw defaultControllerBrandCheckException("enqueue");if(!ReadableStreamDefaultControllerCanCloseOrEnqueue(this))throw new TypeError("The stream is not in a state that permits enqueue");return ReadableStreamDefaultControllerEnqueue(this,t)};ReadableStreamDefaultController.prototype.error=function(t){void 0===t&&(t=void 0);if(!IsReadableStreamDefaultController(this))throw defaultControllerBrandCheckException("error");ReadableStreamDefaultControllerError(this,t)};ReadableStreamDefaultController.prototype[g]=function(t){ResetQueue(this);var r=this._cancelAlgorithm(t);ReadableStreamDefaultControllerClearAlgorithms(this);return r};ReadableStreamDefaultController.prototype[v]=function(t){var r=this._controlledReadableStream;if(this._queue.length>0){var a=DequeueValue(this);if(this._closeRequested&&0===this._queue.length){ReadableStreamDefaultControllerClearAlgorithms(this);ReadableStreamClose(r)}else ReadableStreamDefaultControllerCallPullIfNeeded(this);t._chunkSteps(a)}else{ReadableStreamAddReadRequest(r,t);ReadableStreamDefaultControllerCallPullIfNeeded(this)}};return ReadableStreamDefaultController}();Object.defineProperties(B.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}});"symbol"==typeof r.toStringTag&&Object.defineProperty(B.prototype,r.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function IsReadableStreamDefaultController(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledReadableStream")}function ReadableStreamDefaultControllerCallPullIfNeeded(t){if(ReadableStreamDefaultControllerShouldCallPull(t))if(t._pulling)t._pullAgain=!0;else{t._pulling=!0;uponPromise(t._pullAlgorithm(),(function(){t._pulling=!1;if(t._pullAgain){t._pullAgain=!1;ReadableStreamDefaultControllerCallPullIfNeeded(t)}}),(function(r){ReadableStreamDefaultControllerError(t,r)}))}}function ReadableStreamDefaultControllerShouldCallPull(t){var r=t._controlledReadableStream;return!!ReadableStreamDefaultControllerCanCloseOrEnqueue(t)&&!!t._started&&(!!(IsReadableStreamLocked(r)&&ReadableStreamGetNumReadRequests(r)>0)||ReadableStreamDefaultControllerGetDesiredSize(t)>0)}function ReadableStreamDefaultControllerClearAlgorithms(t){t._pullAlgorithm=void 0;t._cancelAlgorithm=void 0;t._strategySizeAlgorithm=void 0}function ReadableStreamDefaultControllerClose(t){if(ReadableStreamDefaultControllerCanCloseOrEnqueue(t)){var r=t._controlledReadableStream;t._closeRequested=!0;if(0===t._queue.length){ReadableStreamDefaultControllerClearAlgorithms(t);ReadableStreamClose(r)}}}function ReadableStreamDefaultControllerEnqueue(t,r){if(ReadableStreamDefaultControllerCanCloseOrEnqueue(t)){var a=t._controlledReadableStream;if(IsReadableStreamLocked(a)&&ReadableStreamGetNumReadRequests(a)>0)ReadableStreamFulfillReadRequest(a,r,!1);else{var i=void 0;try{i=t._strategySizeAlgorithm(r)}catch(r){ReadableStreamDefaultControllerError(t,r);throw r}try{EnqueueValueWithSize(t,r,i)}catch(r){ReadableStreamDefaultControllerError(t,r);throw r}}ReadableStreamDefaultControllerCallPullIfNeeded(t)}}function ReadableStreamDefaultControllerError(t,r){var a=t._controlledReadableStream;if("readable"===a._state){ResetQueue(t);ReadableStreamDefaultControllerClearAlgorithms(t);ReadableStreamError(a,r)}}function ReadableStreamDefaultControllerGetDesiredSize(t){var r=t._controlledReadableStream._state;return"errored"===r?null:"closed"===r?0:t._strategyHWM-t._queueTotalSize}function ReadableStreamDefaultControllerCanCloseOrEnqueue(t){var r=t._controlledReadableStream._state;return!t._closeRequested&&"readable"===r}function SetUpReadableStreamDefaultController(t,r,a,i,o,l,u){r._controlledReadableStream=t;r._queue=void 0;r._queueTotalSize=void 0;ResetQueue(r);r._started=!1;r._closeRequested=!1;r._pullAgain=!1;r._pulling=!1;r._strategySizeAlgorithm=u;r._strategyHWM=l;r._pullAlgorithm=i;r._cancelAlgorithm=o;t._readableStreamController=r;uponPromise(promiseResolvedWith(a()),(function(){r._started=!0;ReadableStreamDefaultControllerCallPullIfNeeded(r)}),(function(t){ReadableStreamDefaultControllerError(r,t)}))}function defaultControllerBrandCheckException(t){return new TypeError("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}function convertUnderlyingSourceCancelCallback(t,r,a){assertFunction(t,a);return function(a){return promiseCall(t,r,[a])}}function convertUnderlyingSourcePullCallback(t,r,a){assertFunction(t,a);return function(a){return promiseCall(t,r,[a])}}function convertUnderlyingSourceStartCallback(t,r,a){assertFunction(t,a);return function(a){return reflectCall(t,r,[a])}}function convertReadableStreamType(t,r){if("bytes"!=(t=""+t))throw new TypeError(r+" '"+t+"' is not a valid enumeration value for ReadableStreamType");return t}function convertReadableStreamReaderMode(t,r){if("byob"!=(t=""+t))throw new TypeError(r+" '"+t+"' is not a valid enumeration value for ReadableStreamReaderMode");return t}function convertPipeOptions(t,r){assertDictionary(t,r);var a=null==t?void 0:t.preventAbort,i=null==t?void 0:t.preventCancel,o=null==t?void 0:t.preventClose,l=null==t?void 0:t.signal;void 0!==l&&function assertAbortSignal(t,r){if(!function isAbortSignal(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}(t))throw new TypeError(r+" is not an AbortSignal.")}(l,r+" has member 'signal' that");return{preventAbort:Boolean(a),preventCancel:Boolean(i),preventClose:Boolean(o),signal:l}}var N=function(){function ReadableStream(t,r){void 0===t&&(t={});void 0===r&&(r={});void 0===t?t=null:assertObject(t,"First parameter");var a=convertQueuingStrategy(r,"Second parameter"),i=function convertUnderlyingDefaultOrByteSource(t,r){assertDictionary(t,r);var a=t,i=null==a?void 0:a.autoAllocateChunkSize,o=null==a?void 0:a.cancel,l=null==a?void 0:a.pull,u=null==a?void 0:a.start,c=null==a?void 0:a.type;return{autoAllocateChunkSize:void 0===i?void 0:convertUnsignedLongLongWithEnforceRange(i,r+" has member 'autoAllocateChunkSize' that"),cancel:void 0===o?void 0:convertUnderlyingSourceCancelCallback(o,a,r+" has member 'cancel' that"),pull:void 0===l?void 0:convertUnderlyingSourcePullCallback(l,a,r+" has member 'pull' that"),start:void 0===u?void 0:convertUnderlyingSourceStartCallback(u,a,r+" has member 'start' that"),type:void 0===c?void 0:convertReadableStreamType(c,r+" has member 'type' that")}}(t,"First parameter");InitializeReadableStream(this);if("bytes"===i.type){if(void 0!==a.size)throw new RangeError("The strategy for a byte stream cannot have a size function");SetUpReadableByteStreamControllerFromUnderlyingSource(this,i,ExtractHighWaterMark(a,0))}else{var o=ExtractSizeAlgorithm(a);!function SetUpReadableStreamDefaultControllerFromUnderlyingSource(t,r,a,i){var o=Object.create(B.prototype),startAlgorithm=function(){},pullAlgorithm=function(){return promiseResolvedWith(void 0)},cancelAlgorithm=function(){return promiseResolvedWith(void 0)};void 0!==r.start&&(startAlgorithm=function(){return r.start(o)});void 0!==r.pull&&(pullAlgorithm=function(){return r.pull(o)});void 0!==r.cancel&&(cancelAlgorithm=function(t){return r.cancel(t)});SetUpReadableStreamDefaultController(t,o,startAlgorithm,pullAlgorithm,cancelAlgorithm,a,i)}(this,i,ExtractHighWaterMark(a,1),o)}}Object.defineProperty(ReadableStream.prototype,"locked",{get:function(){if(!IsReadableStream(this))throw streamBrandCheckException$1("locked");return IsReadableStreamLocked(this)},enumerable:!1,configurable:!0});ReadableStream.prototype.cancel=function(t){void 0===t&&(t=void 0);return IsReadableStream(this)?IsReadableStreamLocked(this)?promiseRejectedWith(new TypeError("Cannot cancel a stream that already has a reader")):ReadableStreamCancel(this,t):promiseRejectedWith(streamBrandCheckException$1("cancel"))};ReadableStream.prototype.getReader=function(t){void 0===t&&(t=void 0);if(!IsReadableStream(this))throw streamBrandCheckException$1("getReader");return void 0===function convertReaderOptions(t,r){assertDictionary(t,r);var a=null==t?void 0:t.mode;return{mode:void 0===a?void 0:convertReadableStreamReaderMode(a,r+" has member 'mode' that")}}(t,"First parameter").mode?AcquireReadableStreamDefaultReader(this):function AcquireReadableStreamBYOBReader(t){return new E(t)}(this)};ReadableStream.prototype.pipeThrough=function(t,r){void 0===r&&(r={});if(!IsReadableStream(this))throw streamBrandCheckException$1("pipeThrough");assertRequiredArgument(t,1,"pipeThrough");var a=function convertReadableWritablePair(t,r){assertDictionary(t,r);var a=null==t?void 0:t.readable;assertRequiredField(a,"readable","ReadableWritablePair");assertReadableStream(a,r+" has member 'readable' that");var i=null==t?void 0:t.writable;assertRequiredField(i,"writable","ReadableWritablePair");assertWritableStream(i,r+" has member 'writable' that");return{readable:a,writable:i}}(t,"First parameter"),i=convertPipeOptions(r,"Second parameter");if(IsReadableStreamLocked(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(IsWritableStreamLocked(a.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");setPromiseIsHandledToTrue(ReadableStreamPipeTo(this,a.writable,i.preventClose,i.preventAbort,i.preventCancel,i.signal));return a.readable};ReadableStream.prototype.pipeTo=function(t,r){void 0===r&&(r={});if(!IsReadableStream(this))return promiseRejectedWith(streamBrandCheckException$1("pipeTo"));if(void 0===t)return promiseRejectedWith("Parameter 1 is required in 'pipeTo'.");if(!IsWritableStream(t))return promiseRejectedWith(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var a;try{a=convertPipeOptions(r,"Second parameter")}catch(t){return promiseRejectedWith(t)}return IsReadableStreamLocked(this)?promiseRejectedWith(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):IsWritableStreamLocked(t)?promiseRejectedWith(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):ReadableStreamPipeTo(this,t,a.preventClose,a.preventAbort,a.preventCancel,a.signal)};ReadableStream.prototype.tee=function(){if(!IsReadableStream(this))throw streamBrandCheckException$1("tee");var t=function ReadableStreamTee(t,r){var a,i,o,l,u,c=AcquireReadableStreamDefaultReader(t),h=!1,p=!1,m=!1,g=newPromise((function(t){u=t}));function pullAlgorithm(){if(h)return promiseResolvedWith(void 0);h=!0;ReadableStreamDefaultReaderRead(c,{_chunkSteps:function(t){d((function(){h=!1;var r=t,a=t;p||ReadableStreamDefaultControllerEnqueue(o._readableStreamController,r);m||ReadableStreamDefaultControllerEnqueue(l._readableStreamController,a);u(void 0)}))},_closeSteps:function(){h=!1;p||ReadableStreamDefaultControllerClose(o._readableStreamController);m||ReadableStreamDefaultControllerClose(l._readableStreamController)},_errorSteps:function(){h=!1}});return promiseResolvedWith(void 0)}function startAlgorithm(){}o=CreateReadableStream(startAlgorithm,pullAlgorithm,(function cancel1Algorithm(r){p=!0;a=r;if(m){var o=CreateArrayFromList([a,i]),l=ReadableStreamCancel(t,o);u(l)}return g}));l=CreateReadableStream(startAlgorithm,pullAlgorithm,(function cancel2Algorithm(r){m=!0;i=r;if(p){var o=CreateArrayFromList([a,i]),l=ReadableStreamCancel(t,o);u(l)}return g}));uponRejection(c._closedPromise,(function(t){ReadableStreamDefaultControllerError(o._readableStreamController,t);ReadableStreamDefaultControllerError(l._readableStreamController,t);u(void 0)}));return[o,l]}(this);return CreateArrayFromList(t)};ReadableStream.prototype.values=function(t){void 0===t&&(t=void 0);if(!IsReadableStream(this))throw streamBrandCheckException$1("values");return function AcquireReadableStreamAsyncIterator(t,r){var a=AcquireReadableStreamDefaultReader(t),i=new P(a,r),o=Object.create(k);o._asyncIteratorImpl=i;return o}(this,function convertIteratorOptions(t,r){assertDictionary(t,r);var a=null==t?void 0:t.preventCancel;return{preventCancel:Boolean(a)}}(t,"First parameter").preventCancel)};return ReadableStream}();Object.defineProperties(N.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}});"symbol"==typeof r.toStringTag&&Object.defineProperty(N.prototype,r.toStringTag,{value:"ReadableStream",configurable:!0});"symbol"==typeof r.asyncIterator&&Object.defineProperty(N.prototype,r.asyncIterator,{value:N.prototype.values,writable:!0,configurable:!0});function CreateReadableStream(t,r,a,i,o){void 0===i&&(i=1);void 0===o&&(o=function(){return 1});var l=Object.create(N.prototype);InitializeReadableStream(l);SetUpReadableStreamDefaultController(l,Object.create(B.prototype),t,r,a,i,o);return l}function InitializeReadableStream(t){t._state="readable";t._reader=void 0;t._storedError=void 0;t._disturbed=!1}function IsReadableStream(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readableStreamController")}function IsReadableStreamLocked(t){return void 0!==t._reader}function ReadableStreamCancel(t,r){t._disturbed=!0;if("closed"===t._state)return promiseResolvedWith(void 0);if("errored"===t._state)return promiseRejectedWith(t._storedError);ReadableStreamClose(t);return transformPromiseWith(t._readableStreamController[g](r),noop)}function ReadableStreamClose(t){t._state="closed";var r=t._reader;if(void 0!==r){if(IsReadableStreamDefaultReader(r)){r._readRequests.forEach((function(t){t._closeSteps()}));r._readRequests=new h}defaultReaderClosedPromiseResolve(r)}}function ReadableStreamError(t,r){t._state="errored";t._storedError=r;var a=t._reader;if(void 0!==a){if(IsReadableStreamDefaultReader(a)){a._readRequests.forEach((function(t){t._errorSteps(r)}));a._readRequests=new h}else{a._readIntoRequests.forEach((function(t){t._errorSteps(r)}));a._readIntoRequests=new h}defaultReaderClosedPromiseReject(a,r)}}function streamBrandCheckException$1(t){return new TypeError("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}function convertQueuingStrategyInit(t,r){assertDictionary(t,r);var a=null==t?void 0:t.highWaterMark;assertRequiredField(a,"highWaterMark","QueuingStrategyInit");return{highWaterMark:convertUnrestrictedDouble(a)}}var W=function size(t){return t.byteLength},j=function(){function ByteLengthQueuingStrategy(t){assertRequiredArgument(t,1,"ByteLengthQueuingStrategy");t=convertQueuingStrategyInit(t,"First parameter");this._byteLengthQueuingStrategyHighWaterMark=t.highWaterMark}Object.defineProperty(ByteLengthQueuingStrategy.prototype,"highWaterMark",{get:function(){if(!IsByteLengthQueuingStrategy(this))throw byteLengthBrandCheckException("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0});Object.defineProperty(ByteLengthQueuingStrategy.prototype,"size",{get:function(){if(!IsByteLengthQueuingStrategy(this))throw byteLengthBrandCheckException("size");return W},enumerable:!1,configurable:!0});return ByteLengthQueuingStrategy}();Object.defineProperties(j.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}});"symbol"==typeof r.toStringTag&&Object.defineProperty(j.prototype,r.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function byteLengthBrandCheckException(t){return new TypeError("ByteLengthQueuingStrategy.prototype."+t+" can only be used on a ByteLengthQueuingStrategy")}function IsByteLengthQueuingStrategy(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_byteLengthQueuingStrategyHighWaterMark")}var V=function size(){return 1},U=function(){function CountQueuingStrategy(t){assertRequiredArgument(t,1,"CountQueuingStrategy");t=convertQueuingStrategyInit(t,"First parameter");this._countQueuingStrategyHighWaterMark=t.highWaterMark}Object.defineProperty(CountQueuingStrategy.prototype,"highWaterMark",{get:function(){if(!IsCountQueuingStrategy(this))throw countBrandCheckException("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0});Object.defineProperty(CountQueuingStrategy.prototype,"size",{get:function(){if(!IsCountQueuingStrategy(this))throw countBrandCheckException("size");return V},enumerable:!1,configurable:!0});return CountQueuingStrategy}();Object.defineProperties(U.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}});"symbol"==typeof r.toStringTag&&Object.defineProperty(U.prototype,r.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function countBrandCheckException(t){return new TypeError("CountQueuingStrategy.prototype."+t+" can only be used on a CountQueuingStrategy")}function IsCountQueuingStrategy(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_countQueuingStrategyHighWaterMark")}function convertTransformerFlushCallback(t,r,a){assertFunction(t,a);return function(a){return promiseCall(t,r,[a])}}function convertTransformerStartCallback(t,r,a){assertFunction(t,a);return function(a){return reflectCall(t,r,[a])}}function convertTransformerTransformCallback(t,r,a){assertFunction(t,a);return function(a,i){return promiseCall(t,r,[a,i])}}var q=function(){function TransformStream(t,r,a){void 0===t&&(t={});void 0===r&&(r={});void 0===a&&(a={});void 0===t&&(t=null);var i=convertQueuingStrategy(r,"Second parameter"),o=convertQueuingStrategy(a,"Third parameter"),l=function convertTransformer(t,r){assertDictionary(t,r);var a=null==t?void 0:t.flush,i=null==t?void 0:t.readableType,o=null==t?void 0:t.start,l=null==t?void 0:t.transform,u=null==t?void 0:t.writableType;return{flush:void 0===a?void 0:convertTransformerFlushCallback(a,t,r+" has member 'flush' that"),readableType:i,start:void 0===o?void 0:convertTransformerStartCallback(o,t,r+" has member 'start' that"),transform:void 0===l?void 0:convertTransformerTransformCallback(l,t,r+" has member 'transform' that"),writableType:u}}(t,"First parameter");if(void 0!==l.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==l.writableType)throw new RangeError("Invalid writableType specified");var u,c=ExtractHighWaterMark(o,0),d=ExtractSizeAlgorithm(o),h=ExtractHighWaterMark(i,1),p=ExtractSizeAlgorithm(i);!function InitializeTransformStream(t,r,a,i,o,l){function startAlgorithm(){return r}function writeAlgorithm(r){return function TransformStreamDefaultSinkWriteAlgorithm(t,r){var a=t._transformStreamController;return t._backpressure?transformPromiseWith(t._backpressureChangePromise,(function(){var i=t._writable;if("erroring"===i._state)throw i._storedError;return TransformStreamDefaultControllerPerformTransform(a,r)})):TransformStreamDefaultControllerPerformTransform(a,r)}(t,r)}function abortAlgorithm(r){return function TransformStreamDefaultSinkAbortAlgorithm(t,r){TransformStreamError(t,r);return promiseResolvedWith(void 0)}(t,r)}function closeAlgorithm(){return function TransformStreamDefaultSinkCloseAlgorithm(t){var r=t._readable,a=t._transformStreamController,i=a._flushAlgorithm();TransformStreamDefaultControllerClearAlgorithms(a);return transformPromiseWith(i,(function(){if("errored"===r._state)throw r._storedError;ReadableStreamDefaultControllerClose(r._readableStreamController)}),(function(a){TransformStreamError(t,a);throw r._storedError}))}(t)}t._writable=function CreateWritableStream(t,r,a,i,o,l){void 0===o&&(o=1);void 0===l&&(l=function(){return 1});var u=Object.create(x.prototype);InitializeWritableStream(u);SetUpWritableStreamDefaultController(u,Object.create(L.prototype),t,r,a,i,o,l);return u}(startAlgorithm,writeAlgorithm,closeAlgorithm,abortAlgorithm,a,i);function pullAlgorithm(){return function TransformStreamDefaultSourcePullAlgorithm(t){TransformStreamSetBackpressure(t,!1);return t._backpressureChangePromise}(t)}function cancelAlgorithm(r){TransformStreamErrorWritableAndUnblockWrite(t,r);return promiseResolvedWith(void 0)}t._readable=CreateReadableStream(startAlgorithm,pullAlgorithm,cancelAlgorithm,o,l);t._backpressure=void 0;t._backpressureChangePromise=void 0;t._backpressureChangePromise_resolve=void 0;TransformStreamSetBackpressure(t,!0);t._transformStreamController=void 0}(this,newPromise((function(t){u=t})),h,p,c,d);!function SetUpTransformStreamDefaultControllerFromTransformer(t,r){var a=Object.create(G.prototype),transformAlgorithm=function(t){try{TransformStreamDefaultControllerEnqueue(a,t);return promiseResolvedWith(void 0)}catch(t){return promiseRejectedWith(t)}},flushAlgorithm=function(){return promiseResolvedWith(void 0)};void 0!==r.transform&&(transformAlgorithm=function(t){return r.transform(t,a)});void 0!==r.flush&&(flushAlgorithm=function(){return r.flush(a)});!function SetUpTransformStreamDefaultController(t,r,a,i){r._controlledTransformStream=t;t._transformStreamController=r;r._transformAlgorithm=a;r._flushAlgorithm=i}(t,a,transformAlgorithm,flushAlgorithm)}(this,l);void 0!==l.start?u(l.start(this._transformStreamController)):u(void 0)}Object.defineProperty(TransformStream.prototype,"readable",{get:function(){if(!IsTransformStream(this))throw streamBrandCheckException$2("readable");return this._readable},enumerable:!1,configurable:!0});Object.defineProperty(TransformStream.prototype,"writable",{get:function(){if(!IsTransformStream(this))throw streamBrandCheckException$2("writable");return this._writable},enumerable:!1,configurable:!0});return TransformStream}();Object.defineProperties(q.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}});"symbol"==typeof r.toStringTag&&Object.defineProperty(q.prototype,r.toStringTag,{value:"TransformStream",configurable:!0});function IsTransformStream(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_transformStreamController")}function TransformStreamError(t,r){ReadableStreamDefaultControllerError(t._readable._readableStreamController,r);TransformStreamErrorWritableAndUnblockWrite(t,r)}function TransformStreamErrorWritableAndUnblockWrite(t,r){TransformStreamDefaultControllerClearAlgorithms(t._transformStreamController);WritableStreamDefaultControllerErrorIfNeeded(t._writable._writableStreamController,r);t._backpressure&&TransformStreamSetBackpressure(t,!1)}function TransformStreamSetBackpressure(t,r){void 0!==t._backpressureChangePromise&&t._backpressureChangePromise_resolve();t._backpressureChangePromise=newPromise((function(r){t._backpressureChangePromise_resolve=r}));t._backpressure=r}var G=function(){function TransformStreamDefaultController(){throw new TypeError("Illegal constructor")}Object.defineProperty(TransformStreamDefaultController.prototype,"desiredSize",{get:function(){if(!IsTransformStreamDefaultController(this))throw defaultControllerBrandCheckException$1("desiredSize");return ReadableStreamDefaultControllerGetDesiredSize(this._controlledTransformStream._readable._readableStreamController)},enumerable:!1,configurable:!0});TransformStreamDefaultController.prototype.enqueue=function(t){void 0===t&&(t=void 0);if(!IsTransformStreamDefaultController(this))throw defaultControllerBrandCheckException$1("enqueue");TransformStreamDefaultControllerEnqueue(this,t)};TransformStreamDefaultController.prototype.error=function(t){void 0===t&&(t=void 0);if(!IsTransformStreamDefaultController(this))throw defaultControllerBrandCheckException$1("error");!function TransformStreamDefaultControllerError(t,r){TransformStreamError(t._controlledTransformStream,r)}(this,t)};TransformStreamDefaultController.prototype.terminate=function(){if(!IsTransformStreamDefaultController(this))throw defaultControllerBrandCheckException$1("terminate");!function TransformStreamDefaultControllerTerminate(t){var r=t._controlledTransformStream;ReadableStreamDefaultControllerClose(r._readable._readableStreamController);var a=new TypeError("TransformStream terminated");TransformStreamErrorWritableAndUnblockWrite(r,a)}(this)};return TransformStreamDefaultController}();Object.defineProperties(G.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}});"symbol"==typeof r.toStringTag&&Object.defineProperty(G.prototype,r.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function IsTransformStreamDefaultController(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledTransformStream")}function TransformStreamDefaultControllerClearAlgorithms(t){t._transformAlgorithm=void 0;t._flushAlgorithm=void 0}function TransformStreamDefaultControllerEnqueue(t,r){var a=t._controlledTransformStream,i=a._readable._readableStreamController;if(!ReadableStreamDefaultControllerCanCloseOrEnqueue(i))throw new TypeError("Readable side is not in a state that permits enqueue");try{ReadableStreamDefaultControllerEnqueue(i,r)}catch(t){TransformStreamErrorWritableAndUnblockWrite(a,t);throw a._readable._storedError}(function ReadableStreamDefaultControllerHasBackpressure(t){return!ReadableStreamDefaultControllerShouldCallPull(t)})(i)!==a._backpressure&&TransformStreamSetBackpressure(a,!0)}function TransformStreamDefaultControllerPerformTransform(t,r){return transformPromiseWith(t._transformAlgorithm(r),void 0,(function(r){TransformStreamError(t._controlledTransformStream,r);throw r}))}function defaultControllerBrandCheckException$1(t){return new TypeError("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function streamBrandCheckException$2(t){return new TypeError("TransformStream.prototype."+t+" can only be used on a TransformStream")}t.ByteLengthQueuingStrategy=j;t.CountQueuingStrategy=U;t.ReadableByteStreamController=T;t.ReadableStream=N;t.ReadableStreamBYOBReader=E;t.ReadableStreamBYOBRequest=A;t.ReadableStreamDefaultController=B;t.ReadableStreamDefaultReader=C;t.TransformStream=q;t.TransformStreamDefaultController=G;t.WritableStream=x;t.WritableStreamDefaultController=L;t.WritableStreamDefaultWriter=I;Object.defineProperty(t,"__esModule",{value:!0})})(r)},(t,r,a)=>{a(122);var i=a(126);t.exports=i("String","padStart")},(t,r,a)=>{"use strict";var i=a(8),o=a(123).start;i({target:"String",proto:!0,forced:a(125)},{padStart:function padStart(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},(t,r,a)=>{var i=a(45),o=a(124),l=a(18),u=Math.ceil,createMethod=function(t){return function(r,a,c){var d,h,p=String(l(r)),m=p.length,g=void 0===c?" ":String(c),v=i(a);if(v<=m||""==g)return p;d=v-m;(h=o.call(g,u(d/g.length))).length>d&&(h=h.slice(0,d));return t?p+h:h+p}};t.exports={start:createMethod(!1),end:createMethod(!0)}},(t,r,a)=>{"use strict";var i=a(46),o=a(18);t.exports="".repeat||function repeat(t){var r=String(o(this)),a="",l=i(t);if(l<0||l==1/0)throw RangeError("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(r+=r))1&l&&(a+=r);return a}},(t,r,a)=>{var i=a(94);t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i)},(t,r,a)=>{var i=a(9),o=a(74),l=Function.call;t.exports=function(t,r,a){return o(l,i[t].prototype[r],a)}},(t,r,a)=>{a(128);var i=a(126);t.exports=i("String","padEnd")},(t,r,a)=>{"use strict";var i=a(8),o=a(123).end;i({target:"String",proto:!0,forced:a(125)},{padEnd:function padEnd(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},(t,r,a)=>{a(130);var i=a(41);t.exports=i.Object.values},(t,r,a)=>{var i=a(8),o=a(131).values;i({target:"Object",stat:!0},{values:function values(t){return o(t)}})},(t,r,a)=>{var i=a(11),o=a(59),l=a(15),u=a(13).f,createMethod=function(t){return function(r){for(var a,c=l(r),d=o(c),h=d.length,p=0,m=[];h>p;){a=d[p++];i&&!u.call(c,a)||m.push(t?[a,c[a]]:c[a])}return m}};t.exports={entries:createMethod(!0),values:createMethod(!1)}},(t,r,a)=>{a(133);var i=a(41);t.exports=i.Object.entries},(t,r,a)=>{var i=a(8),o=a(131).entries;i({target:"Object",stat:!0},{entries:function entries(t){return o(t)}})},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.getDocument=getDocument;exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory;exports.version=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultCMapReaderFactory=exports.DefaultCanvasFactory=exports.build=void 0;var _regenerator=_interopRequireDefault(__w_pdfjs_require__(2)),_util=__w_pdfjs_require__(4),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(135),_node_utils=__w_pdfjs_require__(136),_annotation_storage=__w_pdfjs_require__(138),_api_compatibility=__w_pdfjs_require__(139),_canvas=__w_pdfjs_require__(140),_worker_options=__w_pdfjs_require__(142),_is_node=__w_pdfjs_require__(137),_message_handler=__w_pdfjs_require__(143),_metadata=__w_pdfjs_require__(144),_optional_content_config=__w_pdfjs_require__(146),_transport_stream=__w_pdfjs_require__(147),_webgl=__w_pdfjs_require__(148);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function asyncGeneratorStep(t,r,a,i,o,l,u){try{var c=t[l](u),d=c.value}catch(t){a(t);return}c.done?r(d):Promise.resolve(d).then(i,o)}function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,o){var l=t.apply(r,a);function _next(t){asyncGeneratorStep(l,i,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,i,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t,r){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){a&&(t=a);var i=0,o=function F(){};return{s:o,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){a=t[Symbol.iterator]()},n:function n(){var t=a.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==a.return||a.return()}finally{if(c)throw l}}}}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}function _slicedToArray(t,r){return _arrayWithHoles(t)||_iterableToArrayLimit(t,r)||_unsupportedIterableToArray(t,r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);return"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _iterableToArrayLimit(t,r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var a=[],i=!0,o=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){a.push(u.value);if(r&&a.length===r)break}}catch(t){o=!0;l=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw l}}return a}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,ServiceWorkerOptions={showUnverifiedSignatures:!1};window.ServiceWorkerOptions=ServiceWorkerOptions;var DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;var DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory,createPDFNetworkStream;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;function setPDFNetworkStreamFactory(t){createPDFNetworkStream=t}function getDocument(t){var r,a=new PDFDocumentLoadingTask;if("string"==typeof t)r={url:t};else if((0,_util.isArrayBuffer)(t))r={data:t};else if(t instanceof PDFDataRangeTransport)r={range:t};else{if("object"!==_typeof(t))throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!t.url&&!t.data&&!t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");r=t}var i=Object.create(null),o=null,l=null;for(var u in r)if("url"!==u||"undefined"==typeof window)if("range"!==u)if("worker"!==u)if("data"!==u||r[u]instanceof Uint8Array)i[u]=r[u];else{var c=r[u];if("string"==typeof c)i[u]=(0,_util.stringToBytes)(c);else if("object"!==_typeof(c)||null===c||isNaN(c.length)){if(!(0,_util.isArrayBuffer)(c))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");i[u]=new Uint8Array(c)}else i[u]=new Uint8Array(c)}else l=r[u];else o=r[u];else i[u]=new URL(r[u],window.location).href;i.rangeChunkSize=i.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE;i.CMapReaderFactory=i.CMapReaderFactory||DefaultCMapReaderFactory;i.ignoreErrors=!0!==i.stopAtErrors;i.fontExtraProperties=!0===i.fontExtraProperties;i.pdfBug=!0===i.pdfBug;Number.isInteger(i.maxImageSize)||(i.maxImageSize=-1);"boolean"!=typeof i.isEvalSupported&&(i.isEvalSupported=!0);"boolean"!=typeof i.disableFontFace&&(i.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1);void 0===i.ownerDocument&&(i.ownerDocument=globalThis.document);"boolean"!=typeof i.disableRange&&(i.disableRange=!1);"boolean"!=typeof i.disableStream&&(i.disableStream=!1);"boolean"!=typeof i.disableAutoFetch&&(i.disableAutoFetch=!1);(0,_util.setVerbosityLevel)(i.verbosity);if(!l){var d={verbosity:i.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};l=d.port?PDFWorker.fromPort(d):new PDFWorker(d);a._worker=l}var h=a.docId;l.promise.then((function(){if(a.destroyed)throw new Error("Loading aborted");var t=_fetchDocument(l,i,o,h),r=new Promise((function(t){var r;o?r=new _transport_stream.PDFDataTransportStream({length:i.length,initialData:i.initialData,progressiveDone:i.progressiveDone,disableRange:i.disableRange,disableStream:i.disableStream},o):i.data||(r=createPDFNetworkStream({url:i.url,length:i.length,httpHeaders:i.httpHeaders,withCredentials:i.withCredentials,rangeChunkSize:i.rangeChunkSize,disableRange:i.disableRange,disableStream:i.disableStream}));t(r)}));return Promise.all([t,r]).then((function(t){var r=_slicedToArray(t,2),o=r[0],u=r[1];if(a.destroyed)throw new Error("Loading aborted");var c=new _message_handler.MessageHandler(h,o,l.port);c.postMessageTransfers=l.postMessageTransfers;var d=new WorkerTransport(c,a,u,i);a._transport=d;c.send("showUnverifiedSignatures",window.ServiceWorkerOptions.showUnverifiedSignatures);c.send("Ready",null)}))})).catch(a._capability.reject);return a}function _fetchDocument(t,r,a,i){if(t.destroyed)return Promise.reject(new Error("Worker was destroyed"));if(a){r.length=a.length;r.initialData=a.initialData;r.progressiveDone=a.progressiveDone}return t.messageHandler.sendWithPromise("GetDocRequest",{docId:i,apiVersion:"2.7.673",source:{data:r.data,url:r.url,password:r.password,disableAutoFetch:r.disableAutoFetch,rangeChunkSize:r.rangeChunkSize,length:r.length},maxImageSize:r.maxImageSize,disableFontFace:r.disableFontFace,postMessageTransfers:t.postMessageTransfers,docBaseUrl:r.docBaseUrl,ignoreErrors:r.ignoreErrors,isEvalSupported:r.isEvalSupported,fontExtraProperties:r.fontExtraProperties}).then((function(r){if(t.destroyed)throw new Error("Worker was destroyed");return r}))}var PDFDocumentLoadingTask=function PDFDocumentLoadingTaskClosure(){var t=0;return function(){function PDFDocumentLoadingTask(){_classCallCheck(this,PDFDocumentLoadingTask);this._capability=(0,_util.createPromiseCapability)();this._transport=null;this._worker=null;this.docId="d"+t++;this.destroyed=!1;this.onPassword=null;this.onProgress=null;this.onUnsupportedFeature=null}_createClass(PDFDocumentLoadingTask,[{key:"destroy",value:function destroy(){var t=this;this.destroyed=!0;return(this._transport?this._transport.destroy():Promise.resolve()).then((function(){t._transport=null;if(t._worker){t._worker.destroy();t._worker=null}}))}},{key:"promise",get:function get(){return this._capability.promise}}]);return PDFDocumentLoadingTask}()}(),PDFDataRangeTransport=function(){function PDFDataRangeTransport(t,r){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,PDFDataRangeTransport);this.length=t;this.initialData=r;this.progressiveDone=a;this._rangeListeners=[];this._progressListeners=[];this._progressiveReadListeners=[];this._progressiveDoneListeners=[];this._readyCapability=(0,_util.createPromiseCapability)()}_createClass(PDFDataRangeTransport,[{key:"addRangeListener",value:function addRangeListener(t){this._rangeListeners.push(t)}},{key:"addProgressListener",value:function addProgressListener(t){this._progressListeners.push(t)}},{key:"addProgressiveReadListener",value:function addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}},{key:"addProgressiveDoneListener",value:function addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}},{key:"onDataRange",value:function onDataRange(t,r){var a,i=_createForOfIteratorHelper(this._rangeListeners);try{for(i.s();!(a=i.n()).done;){(0,a.value)(t,r)}}catch(t){i.e(t)}finally{i.f()}}},{key:"onDataProgress",value:function onDataProgress(t,r){var a=this;this._readyCapability.promise.then((function(){var i,o=_createForOfIteratorHelper(a._progressListeners);try{for(o.s();!(i=o.n()).done;){(0,i.value)(t,r)}}catch(t){o.e(t)}finally{o.f()}}))}},{key:"onDataProgressiveRead",value:function onDataProgressiveRead(t){var r=this;this._readyCapability.promise.then((function(){var a,i=_createForOfIteratorHelper(r._progressiveReadListeners);try{for(i.s();!(a=i.n()).done;){(0,a.value)(t)}}catch(t){i.e(t)}finally{i.f()}}))}},{key:"onDataProgressiveDone",value:function onDataProgressiveDone(){var t=this;this._readyCapability.promise.then((function(){var r,a=_createForOfIteratorHelper(t._progressiveDoneListeners);try{for(a.s();!(r=a.n()).done;){(0,r.value)()}}catch(t){a.e(t)}finally{a.f()}}))}},{key:"transportReady",value:function transportReady(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function requestDataRange(t,r){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function abort(){}}]);return PDFDataRangeTransport}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function PDFDocumentProxy(t,r){_classCallCheck(this,PDFDocumentProxy);this._pdfInfo=t;this._transport=r}_createClass(PDFDocumentProxy,[{key:"getPage",value:function getPage(t){return this._transport.getPage(t)}},{key:"getPageIndex",value:function getPageIndex(t){return this._transport.getPageIndex(t)}},{key:"getDestinations",value:function getDestinations(){return this._transport.getDestinations()}},{key:"getDestination",value:function getDestination(t){return this._transport.getDestination(t)}},{key:"getPageLabels",value:function getPageLabels(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function getPageLayout(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function getPageMode(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function getViewerPreferences(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function getOpenAction(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function getAttachments(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function getJavaScript(){return this._transport.getJavaScript()}},{key:"getJSActions",value:function getJSActions(){return this._transport.getDocJSActions()}},{key:"getOutline",value:function getOutline(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}},{key:"getPermissions",value:function getPermissions(){return this._transport.getPermissions()}},{key:"getMetadata",value:function getMetadata(){return this._transport.getMetadata()}},{key:"getMarkInfo",value:function getMarkInfo(){return this._transport.getMarkInfo()}},{key:"getData",value:function getData(){return this._transport.getData()}},{key:"getDownloadInfo",value:function getDownloadInfo(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function getStats(){return this._transport.getStats()}},{key:"cleanup",value:function cleanup(){return this._transport.startCleanup()}},{key:"destroy",value:function destroy(){return this.loadingTask.destroy()}},{key:"saveDocument",value:function saveDocument(t){return this._transport.saveDocument(t)}},{key:"getFieldObjects",value:function getFieldObjects(){return this._transport.getFieldObjects()}},{key:"hasJSActions",value:function hasJSActions(){return this._transport.hasJSActions()}},{key:"getCalculationOrderIds",value:function getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}},{key:"annotationStorage",get:function get(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}},{key:"numPages",get:function get(){return this._pdfInfo.numPages}},{key:"fingerprint",get:function get(){return this._pdfInfo.fingerprint}},{key:"loadingParams",get:function get(){return this._transport.loadingParams}},{key:"loadingTask",get:function get(){return this._transport.loadingTask}}]);return PDFDocumentProxy}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function PDFPageProxy(t,r,a,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_classCallCheck(this,PDFPageProxy);this._pageIndex=t;this._pageInfo=r;this._ownerDocument=i;this._transport=a;this._stats=o?new _display_utils.StatTimer:null;this._pdfBug=o;this.commonObjs=a.commonObjs;this.objs=new PDFObjects;this.cleanupAfterRender=!1;this.pendingCleanup=!1;this._intentStates=new Map;this.destroyed=!1}_createClass(PDFPageProxy,[{key:"getViewport",value:function getViewport(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.scale,a=t.rotation,i=void 0===a?this.rotate:a,o=t.offsetX,l=void 0===o?0:o,u=t.offsetY,c=void 0===u?0:u,d=t.dontFlip,h=void 0!==d&&d;return new _display_utils.PageViewport({viewBox:this.view,scale:r,rotation:i,offsetX:l,offsetY:c,dontFlip:h})}},{key:"getAnnotations",value:function getAnnotations(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.intent,a=void 0===r?null:r;if(!this.annotationsPromise||this.annotationsIntent!==a){this.annotationsPromise=this._transport.getAnnotations(this._pageIndex,a);this.annotationsIntent=a}return this.annotationsPromise}},{key:"getJSActions",value:function getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}},{key:"render",value:function render(t){var r=this,a=t.canvasContext,i=t.viewport,o=t.intent,l=void 0===o?"display":o,u=t.enableWebGL,c=void 0!==u&&u,d=t.renderInteractiveForms,h=void 0!==d&&d,p=t.transform,m=void 0===p?null:p,g=t.imageLayer,v=void 0===g?null:g,y=t.canvasFactory,b=void 0===y?null:y,S=t.background,w=void 0===S?null:S,C=t.annotationStorage,P=void 0===C?null:C,k=t.optionalContentConfigPromise,R=void 0===k?null:k;this._stats&&this._stats.time("Overall");var A="print"===l?"print":"display";this.pendingCleanup=!1;R||(R=this._transport.getOptionalContentConfig());var T=this._intentStates.get(A);if(!T){T=Object.create(null);this._intentStates.set(A,T)}if(T.streamReaderCancelTimeout){clearTimeout(T.streamReaderCancelTimeout);T.streamReaderCancelTimeout=null}var E=b||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),x=new _webgl.WebGLContext({enable:c});if(!T.displayReadyCapability){T.displayReadyCapability=(0,_util.createPromiseCapability)();T.operatorList={fnArray:[],argsArray:[],lastChunk:!1};this._stats&&this._stats.time("Page Request");this._pumpOperatorList({pageIndex:this._pageIndex,intent:A,renderInteractiveForms:!0===h,annotationStorage:(null==P?void 0:P.getAll())||null})}var I=function complete(t){var a=T.renderTasks.indexOf(O);a>=0&&T.renderTasks.splice(a,1);(r.cleanupAfterRender||"print"===A)&&(r.pendingCleanup=!0);r._tryCleanup();if(t){O.capability.reject(t);r._abortOperatorList({intentState:T,reason:t})}else O.capability.resolve();if(r._stats){r._stats.timeEnd("Rendering");r._stats.timeEnd("Overall")}},O=new InternalRenderTask({callback:I,params:{canvasContext:a,viewport:i,transform:m,imageLayer:v,background:w},objs:this.objs,commonObjs:this.commonObjs,operatorList:T.operatorList,pageIndex:this._pageIndex,canvasFactory:E,webGLContext:x,useRequestAnimationFrame:"print"!==A,pdfBug:this._pdfBug});T.renderTasks||(T.renderTasks=[]);T.renderTasks.push(O);var L=O.task;Promise.all([T.displayReadyCapability.promise,R]).then((function(t){var a=_slicedToArray(t,2),i=a[0],o=a[1];if(r.pendingCleanup)I();else{r._stats&&r._stats.time("Rendering");O.initializeGraphics({transparency:i,optionalContentConfig:o});O.operatorListChanged()}})).catch(I);return L}},{key:"getOperatorList",value:function getOperatorList(){var t,r="oplist",a=this._intentStates.get(r);if(!a){a=Object.create(null);this._intentStates.set(r,a)}if(!a.opListReadCapability){(t=Object.create(null)).operatorListChanged=function operatorListChanged(){if(a.operatorList.lastChunk){a.opListReadCapability.resolve(a.operatorList);var r=a.renderTasks.indexOf(t);r>=0&&a.renderTasks.splice(r,1)}};a.opListReadCapability=(0,_util.createPromiseCapability)();a.renderTasks=[];a.renderTasks.push(t);a.operatorList={fnArray:[],argsArray:[],lastChunk:!1};this._stats&&this._stats.time("Page Request");this._pumpOperatorList({pageIndex:this._pageIndex,intent:r})}return a.opListReadCapability.promise}},{key:"streamTextContent",value:function streamTextContent(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.normalizeWhitespace,a=void 0!==r&&r,i=t.disableCombineTextItems,o=void 0!==i&&i,l=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===a,combineTextItems:!0!==o},{highWaterMark:l,size:function size(t){return t.items.length}})}},{key:"getTextContent",value:function getTextContent(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.streamTextContent(t);return new Promise((function(t,a){var i=r.getReader(),o={items:[],styles:Object.create(null)};!function pump(){i.read().then((function(r){var a,i=r.value;if(r.done)t(o);else{Object.assign(o.styles,i.styles);(a=o.items).push.apply(a,_toConsumableArray(i.items));pump()}}),a)}()}))}},{key:"_destroy",value:function _destroy(){this.destroyed=!0;this._transport.pageCache[this._pageIndex]=null;var t,r=[],a=_createForOfIteratorHelper(this._intentStates);try{for(a.s();!(t=a.n()).done;){var i=_slicedToArray(t.value,2),o=i[0],l=i[1];this._abortOperatorList({intentState:l,reason:new Error("Page was destroyed."),force:!0});if("oplist"!==o){var u,c=_createForOfIteratorHelper(l.renderTasks);try{for(c.s();!(u=c.n()).done;){var d=u.value;r.push(d.completed);d.cancel()}}catch(t){c.e(t)}finally{c.f()}}}}catch(t){a.e(t)}finally{a.f()}this.objs.clear();this.annotationsPromise=null;this._jsActionsPromise=null;this.pendingCleanup=!1;return Promise.all(r)}},{key:"cleanup",value:function cleanup(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.pendingCleanup=!0;return this._tryCleanup(t)}},{key:"_tryCleanup",value:function _tryCleanup(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.pendingCleanup)return!1;var r,a=_createForOfIteratorHelper(this._intentStates.values());try{for(a.s();!(r=a.n()).done;){var i=r.value,o=i.renderTasks,l=i.operatorList;if(0!==o.length||!l.lastChunk)return!1}}catch(t){a.e(t)}finally{a.f()}this._intentStates.clear();this.objs.clear();this.annotationsPromise=null;this._jsActionsPromise=null;t&&this._stats&&(this._stats=new _display_utils.StatTimer);this.pendingCleanup=!1;return!0}},{key:"_startRenderPage",value:function _startRenderPage(t,r){var a=this._intentStates.get(r);if(a){this._stats&&this._stats.timeEnd("Page Request");a.displayReadyCapability&&a.displayReadyCapability.resolve(t)}}},{key:"_renderPageChunk",value:function _renderPageChunk(t,r){for(var a=0,i=t.length;a<i;a++){r.operatorList.fnArray.push(t.fnArray[a]);r.operatorList.argsArray.push(t.argsArray[a])}r.operatorList.lastChunk=t.lastChunk;for(var o=0;o<r.renderTasks.length;o++)r.renderTasks[o].operatorListChanged();t.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function _pumpOperatorList(t){var r=this;(0,_util.assert)(t.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');var a=this._transport.messageHandler.sendWithStream("GetOperatorList",t).getReader(),i=this._intentStates.get(t.intent);i.streamReader=a;!function pump(){a.read().then((function(t){var a=t.value;if(t.done)i.streamReader=null;else if(!r._transport.destroyed){r._renderPageChunk(a,i);pump()}}),(function(t){i.streamReader=null;if(!r._transport.destroyed){if(i.operatorList){i.operatorList.lastChunk=!0;for(var a=0;a<i.renderTasks.length;a++)i.renderTasks[a].operatorListChanged();r._tryCleanup()}if(i.displayReadyCapability)i.displayReadyCapability.reject(t);else{if(!i.opListReadCapability)throw t;i.opListReadCapability.reject(t)}}}))}()}},{key:"_abortOperatorList",value:function _abortOperatorList(t){var r=this,a=t.intentState,i=t.reason,o=t.force,l=void 0!==o&&o;(0,_util.assert)(i instanceof Error||"object"===_typeof(i)&&null!==i,'PDFPageProxy._abortOperatorList: Expected "reason" argument.');if(a.streamReader){if(!l){if(0!==a.renderTasks.length)return;if(i instanceof _display_utils.RenderingCancelledException){a.streamReaderCancelTimeout=setTimeout((function(){r._abortOperatorList({intentState:a,reason:i,force:!0});a.streamReaderCancelTimeout=null}),RENDERING_CANCELLED_TIMEOUT);return}}a.streamReader.cancel(new _util.AbortException(null==i?void 0:i.message));a.streamReader=null;if(!this._transport.destroyed){var u,c=_createForOfIteratorHelper(this._intentStates);try{for(c.s();!(u=c.n()).done;){var d=_slicedToArray(u.value,2),h=d[0];if(d[1]===a){this._intentStates.delete(h);break}}}catch(t){c.e(t)}finally{c.f()}this.cleanup()}}}},{key:"pageNumber",get:function get(){return this._pageIndex+1}},{key:"rotate",get:function get(){return this._pageInfo.rotate}},{key:"ref",get:function get(){return this._pageInfo.ref}},{key:"userUnit",get:function get(){return this._pageInfo.userUnit}},{key:"view",get:function get(){return this._pageInfo.view}},{key:"stats",get:function get(){return this._stats}}]);return PDFPageProxy}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function LoopbackPort(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_classCallCheck(this,LoopbackPort);this._listeners=[];this._defer=t;this._deferred=Promise.resolve(void 0)}_createClass(LoopbackPort,[{key:"postMessage",value:function postMessage(t,r){var a=this;if(this._defer){var i=new WeakMap,o={data:function cloneValue(t){if("object"!==_typeof(t)||null===t)return t;if(i.has(t))return i.get(t);var a,o;if((a=t.buffer)&&(0,_util.isArrayBuffer)(a)){o=null!=r&&r.includes(a)?new t.constructor(a,t.byteOffset,t.byteLength):new t.constructor(t);i.set(t,o);return o}o=Array.isArray(t)?[]:{};i.set(t,o);for(var l in t){for(var u=void 0,c=t;!(u=Object.getOwnPropertyDescriptor(c,l));)c=Object.getPrototypeOf(c);if(void 0!==u.value)if("function"!=typeof u.value)o[l]=cloneValue(u.value);else if(t.hasOwnProperty&&t.hasOwnProperty(l))throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(t[l]))}return o}(t)};this._deferred.then((function(){a._listeners.forEach((function(t){t.call(a,o)}))}))}else this._listeners.forEach((function(r){r.call(a,{data:t})}))}},{key:"addEventListener",value:function addEventListener(t,r){this._listeners.push(r)}},{key:"removeEventListener",value:function removeEventListener(t,r){var a=this._listeners.indexOf(r);this._listeners.splice(a,1)}},{key:"terminate",value:function terminate(){this._listeners.length=0}}]);return LoopbackPort}();exports.LoopbackPort=LoopbackPort;var PDFWorker=function PDFWorkerClosure(){var pdfWorkerPorts=new WeakMap,isWorkerDisabled=!1,fallbackWorkerSrc,nextFakeWorkerId=0,fakeWorkerCapability;if(_is_node.isNodeJS&&"function"==typeof require){isWorkerDisabled=!0;fallbackWorkerSrc="./pdf.worker.js"}else if("object"===("undefined"==typeof document?"undefined":_typeof(document))&&"currentScript"in document){var _document$currentScri,pdfjsFilePath=null===(_document$currentScri=document.currentScript)||void 0===_document$currentScri?void 0:_document$currentScri.src;pdfjsFilePath&&(fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}function _getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return"Function"===_worker_options.GlobalWorkerOptions.workerSrc.constructor.name?_worker_options.GlobalWorkerOptions.workerSrc():_worker_options.GlobalWorkerOptions.workerSrc;if(void 0!==fallbackWorkerSrc){_is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.');return fallbackWorkerSrc}throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){var t;try{var r;t=null===(r=globalThis.pdfjsWorker)||void 0===r?void 0:r.WorkerMessageHandler}catch(t){}return t||null}function setupFakeWorkerGlobal(){if(fakeWorkerCapability)return fakeWorkerCapability.promise;fakeWorkerCapability=(0,_util.createPromiseCapability)();var loader=function(){var _ref12=_asyncToGenerator(_regenerator.default.mark((function _callee(){var mainWorkerMessageHandler,worker;return _regenerator.default.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:mainWorkerMessageHandler=getMainThreadWorkerMessageHandler();if(!mainWorkerMessageHandler){_context.next=3;break}return _context.abrupt("return",mainWorkerMessageHandler);case 3:if(!_is_node.isNodeJS||"function"!=typeof require){_context.next=6;break}worker=eval("require")(_getWorkerSrc());return _context.abrupt("return",worker.WorkerMessageHandler);case 6:_context.next=8;return(0,_display_utils.loadScript)(_getWorkerSrc());case 8:return _context.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context.stop()}}),_callee)})));return function loader(){return _ref12.apply(this,arguments)}}();loader().then(fakeWorkerCapability.resolve,fakeWorkerCapability.reject);return fakeWorkerCapability.promise}function createCDNWrapper(t){var r="importScripts('"+t+"');";return URL.createObjectURL(new Blob([r]))}var PDFWorker=function(){function PDFWorker(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.name,a=void 0===r?null:r,i=t.port,o=void 0===i?null:i,l=t.verbosity,u=void 0===l?(0,_util.getVerbosityLevel)():l;_classCallCheck(this,PDFWorker);if(o&&pdfWorkerPorts.has(o))throw new Error("Cannot use more than one PDFWorker per port");this.name=a;this.destroyed=!1;this.postMessageTransfers=!0;this.verbosity=u;this._readyCapability=(0,_util.createPromiseCapability)();this._port=null;this._webWorker=null;this._messageHandler=null;if(o){pdfWorkerPorts.set(o,this);this._initializeFromPort(o)}else this._initialize()}_createClass(PDFWorker,[{key:"_initializeFromPort",value:function _initializeFromPort(t){this._port=t;this._messageHandler=new _message_handler.MessageHandler("main","worker",t);this._messageHandler.on("ready",(function(){}));this._readyCapability.resolve()}},{key:"_initialize",value:function _initialize(){var t=this;if("undefined"!=typeof Worker&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){var r=_getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,r)||(r=createCDNWrapper(new URL(r,window.location).href));var a=new Worker(r),i=new _message_handler.MessageHandler("main","worker",a),o=function terminateEarly(){a.removeEventListener("error",l);i.destroy();a.terminate();t.destroyed?t._readyCapability.reject(new Error("Worker was destroyed")):t._setupFakeWorker()},l=function onWorkerError(){t._webWorker||o()};a.addEventListener("error",l);i.on("test",(function(r){a.removeEventListener("error",l);if(t.destroyed)o();else if(r){t._messageHandler=i;t._port=a;t._webWorker=a;r.supportTransfers||(t.postMessageTransfers=!1);t._readyCapability.resolve();i.send("configure",{verbosity:t.verbosity})}else{t._setupFakeWorker();i.destroy();a.terminate()}}));i.on("ready",(function(r){a.removeEventListener("error",l);if(t.destroyed)o();else try{u()}catch(r){t._setupFakeWorker()}}));var u=function sendTest(){var r=new Uint8Array([t.postMessageTransfers?255:0]);try{i.send("test",r,[r.buffer])}catch(t){(0,_util.warn)("Cannot use postMessage transfers.");r[0]=0;i.send("test",r)}};u();return}catch(t){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function _setupFakeWorker(){var t=this;if(!isWorkerDisabled){(0,_util.warn)("Setting up fake worker.");isWorkerDisabled=!0}setupFakeWorkerGlobal().then((function(r){if(t.destroyed)t._readyCapability.reject(new Error("Worker was destroyed"));else{var a=new LoopbackPort;t._port=a;var i="fake"+nextFakeWorkerId++,o=new _message_handler.MessageHandler(i+"_worker",i,a);r.setup(o,a);var l=new _message_handler.MessageHandler(i,i+"_worker",a);t._messageHandler=l;t._readyCapability.resolve();l.send("configure",{verbosity:t.verbosity})}})).catch((function(r){t._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(r.message,'".')))}))}},{key:"destroy",value:function destroy(){this.destroyed=!0;if(this._webWorker){this._webWorker.terminate();this._webWorker=null}pdfWorkerPorts.delete(this._port);this._port=null;if(this._messageHandler){this._messageHandler.destroy();this._messageHandler=null}}},{key:"promise",get:function get(){return this._readyCapability.promise}},{key:"port",get:function get(){return this._port}},{key:"messageHandler",get:function get(){return this._messageHandler}}],[{key:"fromPort",value:function fromPort(t){if(!t||!t.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(t.port)?pdfWorkerPorts.get(t.port):new PDFWorker(t)}},{key:"getWorkerSrc",value:function getWorkerSrc(){return _getWorkerSrc()}}]);return PDFWorker}();return PDFWorker}();exports.PDFWorker=PDFWorker;var WorkerTransport=function(){function WorkerTransport(t,r,a,i){_classCallCheck(this,WorkerTransport);this.messageHandler=t;this.loadingTask=r;this.commonObjs=new PDFObjects;this.fontLoader=new _font_loader.FontLoader({docId:r.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:i.ownerDocument});this._params=i;var o=i.cMapUrl;"Function"===o.constructor.name&&(o=o());this.CMapReaderFactory=new i.CMapReaderFactory({baseUrl:o,isCompressed:i.cMapPacked});this.destroyed=!1;this.destroyCapability=null;this._passwordCapability=null;this._networkStream=a;this._fullReader=null;this._lastProgress=null;this.pageCache=[];this.pagePromises=[];this.downloadInfoCapability=(0,_util.createPromiseCapability)();this.setupMessageHandler()}_createClass(WorkerTransport,[{key:"destroy",value:function destroy(){var t=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0;this.destroyCapability=(0,_util.createPromiseCapability)();this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var r=[];this.pageCache.forEach((function(t){t&&r.push(t._destroy())}));this.pageCache.length=0;this.pagePromises.length=0;var a=this.messageHandler.sendWithPromise("Terminate",null);r.push(a);if(this.loadingTaskSettled){var i=this.loadingTask.promise.then((function(t){t.hasOwnProperty("annotationStorage")&&t.annotationStorage.resetModified()})).catch((function(){}));r.push(i)}Promise.all(r).then((function(){t.commonObjs.clear();t.fontLoader.clear();t._hasJSActionsPromise=null;t._networkStream&&t._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated."));if(t.messageHandler){t.messageHandler.destroy();t.messageHandler=null}t.destroyCapability.resolve()}),this.destroyCapability.reject);return this.destroyCapability.promise}},{key:"setupMessageHandler",value:function setupMessageHandler(){var t=this,r=this.messageHandler,a=this.loadingTask;r.on("GetReader",(function(r,a){(0,_util.assert)(t._networkStream,"GetReader - no `IPDFStream` instance available.");t._fullReader=t._networkStream.getFullReader();t._fullReader.onProgress=function(r){t._lastProgress={loaded:r.loaded,total:r.total}};a.onPull=function(){t._fullReader.read().then((function(t){var r=t.value;if(t.done)a.close();else{(0,_util.assert)((0,_util.isArrayBuffer)(r),"GetReader - expected an ArrayBuffer.");a.enqueue(new Uint8Array(r),1,[r])}})).catch((function(t){a.error(t)}))};a.onCancel=function(r){t._fullReader.cancel(r);a.ready.catch((function(r){if(!t.destroyed)throw r}))}}));r.on("ReaderHeadersReady",(function(r){var i=(0,_util.createPromiseCapability)(),o=t._fullReader;o.headersReady.then((function(){if(!o.isStreamingSupported||!o.isRangeSupported){t._lastProgress&&a.onProgress&&a.onProgress(t._lastProgress);o.onProgress=function(t){a.onProgress&&a.onProgress({loaded:t.loaded,total:t.total})}}i.resolve({isStreamingSupported:o.isStreamingSupported,isRangeSupported:o.isRangeSupported,contentLength:o.contentLength})}),i.reject);return i.promise}));r.on("GetRangeReader",(function(r,a){(0,_util.assert)(t._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var i=t._networkStream.getRangeReader(r.begin,r.end);if(i){a.onPull=function(){i.read().then((function(t){var r=t.value;if(t.done)a.close();else{(0,_util.assert)((0,_util.isArrayBuffer)(r),"GetRangeReader - expected an ArrayBuffer.");a.enqueue(new Uint8Array(r),1,[r])}})).catch((function(t){a.error(t)}))};a.onCancel=function(r){i.cancel(r);a.ready.catch((function(r){if(!t.destroyed)throw r}))}}else a.close()}));r.on("GetDoc",(function(r){var i=r.pdfInfo;t._numPages=i.numPages;a._capability.resolve(new PDFDocumentProxy(i,t))}));r.on("DocException",(function(t){var r;switch(t.name){case"PasswordException":r=new _util.PasswordException(t.message,t.code);break;case"InvalidPDFException":r=new _util.InvalidPDFException(t.message);break;case"MissingPDFException":r=new _util.MissingPDFException(t.message);break;case"UnexpectedResponseException":r=new _util.UnexpectedResponseException(t.message,t.status);break;case"UnknownErrorException":r=new _util.UnknownErrorException(t.message,t.details)}if(!(r instanceof Error)){(0,_util.warn)("DocException - expected a valid Error.")}a._capability.reject(r)}));r.on("PasswordRequest",(function(r){t._passwordCapability=(0,_util.createPromiseCapability)();if(a.onPassword){try{a.onPassword((function updatePassword(r){t._passwordCapability.resolve({password:r})}),r.code)}catch(r){t._passwordCapability.reject(r)}}else t._passwordCapability.reject(new _util.PasswordException(r.message,r.code));return t._passwordCapability.promise}));r.on("DataLoaded",(function(r){a.onProgress&&a.onProgress({loaded:r.length,total:r.length});t.downloadInfoCapability.resolve(r)}));r.on("StartRenderPage",(function(r){if(!t.destroyed){t.pageCache[r.pageIndex]._startRenderPage(r.transparency,r.intent)}}));r.on("commonobj",(function(a){var i;if(!t.destroyed){var o=_slicedToArray(a,3),l=o[0],u=o[1],c=o[2];if(!t.commonObjs.has(l))switch(u){case"Font":var d=t._params;if("error"in c){var h=c.error;(0,_util.warn)("Error during font loading: ".concat(h));t.commonObjs.resolve(l,h);break}var p=null;d.pdfBug&&null!==(i=globalThis.FontInspector)&&void 0!==i&&i.enabled&&(p={registerFont:function registerFont(t,r){globalThis.FontInspector.fontAdded(t,r)}});var m=new _font_loader.FontFaceObject(c,{isEvalSupported:d.isEvalSupported,disableFontFace:d.disableFontFace,ignoreErrors:d.ignoreErrors,onUnsupportedFeature:t._onUnsupportedFeature.bind(t),fontRegistry:p});t.fontLoader.bind(m).catch((function(t){return r.sendWithPromise("FontFallback",{id:l})})).finally((function(){!d.fontExtraProperties&&m.data&&(m.data=null);t.commonObjs.resolve(l,m)}));break;case"FontPath":case"Image":t.commonObjs.resolve(l,c);break;default:throw new Error("Got unknown common object type ".concat(u))}}}));r.on("obj",(function(r){var a;if(!t.destroyed){var i=_slicedToArray(r,4),o=i[0],l=i[1],u=i[2],c=i[3],d=t.pageCache[l];if(!d.objs.has(o))switch(u){case"Image":d.objs.resolve(o,c);(null==c||null===(a=c.data)||void 0===a?void 0:a.length)>8e6&&(d.cleanupAfterRender=!0);break;default:throw new Error("Got unknown object type ".concat(u))}}}));r.on("DocProgress",(function(r){t.destroyed||a.onProgress&&a.onProgress({loaded:r.loaded,total:r.total})}));r.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this));r.on("FetchBuiltInCMap",(function(r,a){if(t.destroyed)a.error(new Error("Worker was destroyed"));else{var i=!1;a.onPull=function(){if(i)a.close();else{i=!0;t.CMapReaderFactory.fetch(r).then((function(t){a.enqueue(t,1,[t.cMapData.buffer])})).catch((function(t){a.error(t)}))}}}}))}},{key:"_onUnsupportedFeature",value:function _onUnsupportedFeature(t){var r=t.featureId;this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(r)}},{key:"getData",value:function getData(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function getPage(t){var r=this;if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request"));var a=t-1;if(a in this.pagePromises)return this.pagePromises[a];var i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:a}).then((function(t){if(r.destroyed)throw new Error("Transport destroyed");var i=new PDFPageProxy(a,t,r,r._params.ownerDocument,r._params.pdfBug);r.pageCache[a]=i;return i}));this.pagePromises[a]=i;return i}},{key:"getPageIndex",value:function getPageIndex(t){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:t}).catch((function(t){return Promise.reject(new Error(t))}))}},{key:"getAnnotations",value:function getAnnotations(t,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:r})}},{key:"saveDocument",value:function saveDocument(t){var r,a;return this.messageHandler.sendWithPromise("SaveDocument",{numPages:this._numPages,annotationStorage:(null==t?void 0:t.getAll())||null,filename:null!==(r=null===(a=this._fullReader)||void 0===a?void 0:a.filename)&&void 0!==r?r:null}).finally((function(){t&&t.resetModified()}))}},{key:"getFieldObjects",value:function getFieldObjects(){return this.messageHandler.sendWithPromise("GetFieldObjects",null)}},{key:"hasJSActions",value:function hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}},{key:"getCalculationOrderIds",value:function getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}},{key:"getDestinations",value:function getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function getDestination(t){return"string"!=typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}},{key:"getPageLabels",value:function getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getDocJSActions",value:function getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}},{key:"getPageJSActions",value:function getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}},{key:"getOutline",value:function getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then((function(t){return new _optional_content_config.OptionalContentConfig(t)}))}},{key:"getPermissions",value:function getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function getMetadata(){var t=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then((function(r){var a,i,o,l;return{info:r[0],metadata:r[1]?new _metadata.Metadata(r[1]):null,contentDispositionFilename:null!==(a=null===(i=t._fullReader)||void 0===i?void 0:i.filename)&&void 0!==a?a:null,contentLength:null!==(o=null===(l=t._fullReader)||void 0===l?void 0:l.contentLength)&&void 0!==o?o:null}}))}},{key:"getMarkInfo",value:function getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}},{key:"getStats",value:function getStats(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:function startCleanup(){var t=this;return this.messageHandler.sendWithPromise("Cleanup",null).then((function(){for(var r=0,a=t.pageCache.length;r<a;r++){var i=t.pageCache[r];if(i){if(!i.cleanup())throw new Error("startCleanup: Page ".concat(r+1," is currently rendering."))}}t.commonObjs.clear();t.fontLoader.clear();t._hasJSActionsPromise=null}))}},{key:"loadingTaskSettled",get:function get(){return this.loadingTask._capability.settled}},{key:"loadingParams",get:function get(){var t=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:t.disableAutoFetch,disableFontFace:t.disableFontFace})}}]);return WorkerTransport}(),PDFObjects=function(){function PDFObjects(){_classCallCheck(this,PDFObjects);this._objs=Object.create(null)}_createClass(PDFObjects,[{key:"_ensureObj",value:function _ensureObj(t){return this._objs[t]?this._objs[t]:this._objs[t]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function get(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(r){this._ensureObj(t).capability.promise.then(r);return null}var a=this._objs[t];if(!a||!a.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(t,"."));return a.data}},{key:"has",value:function has(t){var r=this._objs[t];return(null==r?void 0:r.resolved)||!1}},{key:"resolve",value:function resolve(t,r){var a=this._ensureObj(t);a.resolved=!0;a.data=r;a.capability.resolve(r)}},{key:"clear",value:function clear(){this._objs=Object.create(null)}}]);return PDFObjects}(),RenderTask=function(){function RenderTask(t){_classCallCheck(this,RenderTask);this._internalRenderTask=t;this.onContinue=null}_createClass(RenderTask,[{key:"cancel",value:function cancel(){this._internalRenderTask.cancel()}},{key:"promise",get:function get(){return this._internalRenderTask.capability.promise}}]);return RenderTask}(),InternalRenderTask=function InternalRenderTaskClosure(){var t=new WeakSet;return function(){function InternalRenderTask(t){var r=t.callback,a=t.params,i=t.objs,o=t.commonObjs,l=t.operatorList,u=t.pageIndex,c=t.canvasFactory,d=t.webGLContext,h=t.useRequestAnimationFrame,p=void 0!==h&&h,m=t.pdfBug,g=void 0!==m&&m;_classCallCheck(this,InternalRenderTask);this.callback=r;this.params=a;this.objs=i;this.commonObjs=o;this.operatorListIdx=null;this.operatorList=l;this._pageIndex=u;this.canvasFactory=c;this.webGLContext=d;this._pdfBug=g;this.running=!1;this.graphicsReadyCallback=null;this.graphicsReady=!1;this._useRequestAnimationFrame=!0===p&&"undefined"!=typeof window;this.cancelled=!1;this.capability=(0,_util.createPromiseCapability)();this.task=new RenderTask(this);this._continueBound=this._continue.bind(this);this._scheduleNextBound=this._scheduleNext.bind(this);this._nextBound=this._next.bind(this);this._canvas=a.canvasContext.canvas}_createClass(InternalRenderTask,[{key:"initializeGraphics",value:function initializeGraphics(r){var a,i=r.transparency,o=void 0!==i&&i,l=r.optionalContentConfig;if(!this.cancelled){if(this._canvas){if(t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");t.add(this._canvas)}if(this._pdfBug&&null!==(a=globalThis.StepperManager)&&void 0!==a&&a.enabled){this.stepper=globalThis.StepperManager.create(this._pageIndex);this.stepper.init(this.operatorList);this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint()}var u=this.params,c=u.canvasContext,d=u.viewport,h=u.transform,p=u.imageLayer,m=u.background;this.gfx=new _canvas.CanvasGraphics(c,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,p,l);this.gfx.beginDrawing({transform:h,viewport:d,transparency:o,background:m});this.operatorListIdx=0;this.graphicsReady=!0;this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function cancel(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.running=!1;this.cancelled=!0;this.gfx&&this.gfx.endDrawing();this._canvas&&t.delete(this._canvas);this.callback(r||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function operatorListChanged(){if(this.graphicsReady){this.stepper&&this.stepper.updateOperatorList(this.operatorList);this.running||this._continue()}else this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function _continue(){this.running=!0;this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function _scheduleNext(){var t=this;this._useRequestAnimationFrame?window.requestAnimationFrame((function(){t._nextBound().catch(t.cancel.bind(t))})):Promise.resolve().then(this._nextBound).catch(this.cancel.bind(this))}},{key:"_next",value:(r=_asyncToGenerator(_regenerator.default.mark((function _callee2(){return _regenerator.default.wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:if(!this.cancelled){r.next=2;break}return r.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper);if(this.operatorListIdx===this.operatorList.argsArray.length){this.running=!1;if(this.operatorList.lastChunk){this.gfx.endDrawing();this._canvas&&t.delete(this._canvas);this.callback()}}case 4:case"end":return r.stop()}}),_callee2,this)}))),function _next(){return r.apply(this,arguments)})},{key:"completed",get:function get(){return this.capability.promise.catch((function(){}))}}]);var r;return InternalRenderTask}()}(),version="2.7.673";exports.version=version;var build="e50f03ecd";exports.build=build},(t,r,a)=>{"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(r,"__esModule",{value:!0});r.FontLoader=r.FontFaceObject=void 0;var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(a(2)),o=a(4);function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){t.__proto__=r;return t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){return!r||"object"!==_typeof(r)&&"function"!=typeof r?function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):r}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function asyncGeneratorStep(t,r,a,i,o,l,u){try{var c=t[l](u),d=c.value}catch(t){a(t);return}c.done?r(d):Promise.resolve(d).then(i,o)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}var l,u=function(){function BaseFontLoader(t){var r=t.docId,a=t.onUnsupportedFeature,i=t.ownerDocument,l=void 0===i?globalThis.document:i;_classCallCheck(this,BaseFontLoader);this.constructor===BaseFontLoader&&(0,o.unreachable)("Cannot initialize BaseFontLoader.");this.docId=r;this._onUnsupportedFeature=a;this._document=l;this.nativeFontFaces=[];this.styleElement=null}_createClass(BaseFontLoader,[{key:"addNativeFontFace",value:function addNativeFontFace(t){this.nativeFontFaces.push(t);this._document.fonts.add(t)}},{key:"insertRule",value:function insertRule(t){var r=this.styleElement;if(!r){(r=this.styleElement=this._document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_".concat(this.docId);this._document.documentElement.getElementsByTagName("head")[0].appendChild(r)}var a=r.sheet;a.insertRule(t,a.cssRules.length)}},{key:"clear",value:function clear(){var t=this;this.nativeFontFaces.forEach((function(r){t._document.fonts.delete(r)}));this.nativeFontFaces.length=0;if(this.styleElement){this.styleElement.remove();this.styleElement=null}}},{key:"bind",value:(t=function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,o){var l=t.apply(r,a);function _next(t){asyncGeneratorStep(l,i,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,i,o,_next,_throw,"throw",t)}_next(void 0)}))}}(i.default.mark((function _callee(t){var r,a,l=this;return i.default.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if(!t.attached&&!t.missingFile){i.next=2;break}return i.abrupt("return");case 2:t.attached=!0;if(!this.isFontLoadingAPISupported){i.next=19;break}if(!(r=t.createNativeFontFace())){i.next=18;break}this.addNativeFontFace(r);i.prev=7;i.next=10;return r.loaded;case 10:i.next=18;break;case 12:i.prev=12;i.t0=i.catch(7);this._onUnsupportedFeature({featureId:o.UNSUPPORTED_FEATURES.errorFontLoadNative});(0,o.warn)("Failed to load font '".concat(r.family,"': '").concat(i.t0,"'."));t.disableFontFace=!0;throw i.t0;case 18:return i.abrupt("return");case 19:if(!(a=t.createFontFaceRule())){i.next=26;break}this.insertRule(a);if(!this.isSyncFontLoadingSupported){i.next=24;break}return i.abrupt("return");case 24:i.next=26;return new Promise((function(r){var i=l._queueLoadingCallback(r);l._prepareFontLoadEvent([a],[t],i)}));case 26:case"end":return i.stop()}}),_callee,this,[[7,12]])}))),function bind(r){return t.apply(this,arguments)})},{key:"_queueLoadingCallback",value:function _queueLoadingCallback(t){(0,o.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"_prepareFontLoadEvent",value:function _prepareFontLoadEvent(t,r,a){(0,o.unreachable)("Abstract method `_prepareFontLoadEvent`.")}},{key:"isFontLoadingAPISupported",get:function get(){var t;return(0,o.shadow)(this,"isFontLoadingAPISupported",!(null===(t=this._document)||void 0===t||!t.fonts))}},{key:"isSyncFontLoadingSupported",get:function get(){(0,o.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function get(){(0,o.unreachable)("Abstract method `_loadTestFont`.")}}]);var t;return BaseFontLoader}();r.FontLoader=l;r.FontLoader=l=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});r&&_setPrototypeOf(t,r)}(GenericFontLoader,t);var r=_createSuper(GenericFontLoader);function GenericFontLoader(t){var a;_classCallCheck(this,GenericFontLoader);(a=r.call(this,t)).loadingContext={requests:[],nextRequestId:0};a.loadTestFontId=0;return a}_createClass(GenericFontLoader,[{key:"_queueLoadingCallback",value:function _queueLoadingCallback(t){var r=this.loadingContext,a={id:"pdfjs-font-loading-".concat(r.nextRequestId++),done:!1,complete:function completeRequest(){(0,o.assert)(!a.done,"completeRequest() cannot be called twice.");a.done=!0;for(;r.requests.length>0&&r.requests[0].done;){var t=r.requests.shift();setTimeout(t.callback,0)}},callback:t};r.requests.push(a);return a}},{key:"_prepareFontLoadEvent",value:function _prepareFontLoadEvent(t,r,a){var i,l,u=this;function int32(t,r){return t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|255&t.charCodeAt(r+3)}function spliceString(t,r,a,i){return t.substring(0,r)+i+t.substring(r+a)}var c=this._document.createElement("canvas");c.width=1;c.height=1;var d=c.getContext("2d"),h=0;var p="lt".concat(Date.now()).concat(this.loadTestFontId++),m=this._loadTestFont,g=1482184792,v=int32(m=spliceString(m,976,p.length,p),16);for(i=0,l=p.length-3;i<l;i+=4)v=v-g+int32(p,i)|0;i<p.length&&(v=v-g+int32(p+"XXX",i)|0);m=spliceString(m,16,4,(0,o.string32)(v));var y="url(data:font/opentype;base64,".concat(btoa(m),");"),b='@font-face {font-family:"'.concat(p,'";src:').concat(y,"}");this.insertRule(b);var S=[];for(i=0,l=r.length;i<l;i++)S.push(r[i].loadedName);S.push(p);var w=this._document.createElement("div");w.style.visibility="hidden";w.style.width=w.style.height="10px";w.style.position="absolute";w.style.top=w.style.left="0px";for(i=0,l=S.length;i<l;++i){var C=this._document.createElement("span");C.textContent="Hi";C.style.fontFamily=S[i];w.appendChild(C)}this._document.body.appendChild(w);!function isFontReady(t,r){if(++h>30){(0,o.warn)("Load test font never loaded.");r()}else{d.font="30px "+t;d.fillText(".",0,20);d.getImageData(0,0,1,1).data[3]>0?r():setTimeout(isFontReady.bind(null,t,r))}}(p,(function(){u._document.body.removeChild(w);a.complete()}))}},{key:"isSyncFontLoadingSupported",get:function get(){var t=!1;if("undefined"==typeof navigator)t=!0;else{var r=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null==r?void 0:r[1])>=14&&(t=!0)}return(0,o.shadow)(this,"isSyncFontLoadingSupported",t)}},{key:"_loadTestFont",get:function get(){return(0,o.shadow)(this,"_loadTestFont",function getLoadTestFont(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")}())}}]);return GenericFontLoader}(u);var c=function(){function FontFaceObject(t,r){var a=r.isEvalSupported,i=void 0===a||a,o=r.disableFontFace,l=void 0!==o&&o,u=r.ignoreErrors,c=void 0!==u&&u,d=r.onUnsupportedFeature,h=void 0===d?null:d,p=r.fontRegistry,m=void 0===p?null:p;_classCallCheck(this,FontFaceObject);this.compiledGlyphs=Object.create(null);for(var g in t)this[g]=t[g];this.isEvalSupported=!1!==i;this.disableFontFace=!0===l;this.ignoreErrors=!0===c;this._onUnsupportedFeature=h;this.fontRegistry=m}_createClass(FontFaceObject,[{key:"createNativeFontFace",value:function createNativeFontFace(){if(!this.data||this.disableFontFace)return null;var t=new FontFace(this.loadedName,this.data,{});this.fontRegistry&&this.fontRegistry.registerFont(this);return t}},{key:"createFontFaceRule",value:function createFontFaceRule(){if(!this.data||this.disableFontFace)return null;var t=(0,o.bytesToString)(new Uint8Array(this.data)),r="url(data:".concat(this.mimetype,";base64,").concat(btoa(t),");"),a='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(r,"}");this.fontRegistry&&this.fontRegistry.registerFont(this,r);return a}},{key:"getPathGenerator",value:function getPathGenerator(t,r){if(void 0!==this.compiledGlyphs[r])return this.compiledGlyphs[r];var a,i;try{a=t.get(this.loadedName+"_path_"+r)}catch(t){if(!this.ignoreErrors)throw t;this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:o.UNSUPPORTED_FEATURES.errorFontGetPath});(0,o.warn)('getPathGenerator - ignoring character: "'.concat(t,'".'));return this.compiledGlyphs[r]=function(t,r){}}if(this.isEvalSupported&&o.IsEvalSupportedCached.value){for(var l,u="",c=0,d=a.length;c<d;c++){l=void 0!==(i=a[c]).args?i.args.join(","):"";u+="c."+i.cmd+"("+l+");\n"}return this.compiledGlyphs[r]=new Function("c","size",u)}return this.compiledGlyphs[r]=function(t,r){for(var o=0,l=a.length;o<l;o++){"scale"===(i=a[o]).cmd&&(i.args=[r,-r]);t[i.cmd].apply(t,i.args)}}}}]);return FontFaceObject}();r.FontFaceObject=c},(t,r,a)=>{"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(r,"__esModule",{value:!0});r.NodeCMapReaderFactory=r.NodeCanvasFactory=void 0;var i=a(1),o=a(137),l=a(4);function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){t.__proto__=r;return t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){return!r||"object"!==_typeof(r)&&"function"!=typeof r?function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):r}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}var u=function NodeCanvasFactory(){_classCallCheck(this,NodeCanvasFactory);(0,l.unreachable)("Not implemented: NodeCanvasFactory")};r.NodeCanvasFactory=u;var c=function NodeCMapReaderFactory(){_classCallCheck(this,NodeCMapReaderFactory);(0,l.unreachable)("Not implemented: NodeCMapReaderFactory")};r.NodeCMapReaderFactory=c;if(o.isNodeJS){r.NodeCanvasFactory=u=function(t){_inherits(NodeCanvasFactory,t);var r=_createSuper(NodeCanvasFactory);function NodeCanvasFactory(){_classCallCheck(this,NodeCanvasFactory);return r.apply(this,arguments)}_createClass(NodeCanvasFactory,[{key:"create",value:function create(t,r){if(t<=0||r<=0)throw new Error("Invalid canvas size");var a=require("canvas").createCanvas(t,r);return{canvas:a,context:a.getContext("2d")}}}]);return NodeCanvasFactory}(i.BaseCanvasFactory);r.NodeCMapReaderFactory=c=function(t){_inherits(NodeCMapReaderFactory,t);var r=_createSuper(NodeCMapReaderFactory);function NodeCMapReaderFactory(){_classCallCheck(this,NodeCMapReaderFactory);return r.apply(this,arguments)}_createClass(NodeCMapReaderFactory,[{key:"_fetchData",value:function _fetchData(t,r){return new Promise((function(a,i){require("fs").readFile(t,(function(t,o){!t&&o?a({cMapData:new Uint8Array(o),compressionType:r}):i(new Error(t))}))}))}}]);return NodeCMapReaderFactory}(i.BaseCMapReaderFactory)}},(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.isNodeJS=void 0;function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=!("object"!==("undefined"==typeof process?"undefined":_typeof(process))||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);r.isNodeJS=a},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.AnnotationStorage=void 0;var i=a(4);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var a=[],i=!0,o=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){a.push(u.value);if(r&&a.length===r)break}}catch(t){o=!0;l=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw l}}return a}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}var o=function(){function AnnotationStorage(){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,AnnotationStorage);this._storage=new Map;this._modified=!1;this.onSetModified=null;this.onResetModified=null}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(AnnotationStorage,[{key:"getOrCreateValue",value:function getOrCreateValue(t,r){if(this._storage.has(t))return this._storage.get(t);this._storage.set(t,r);return r}},{key:"setValue",value:function setValue(t,r){var a=this._storage.get(t),i=!1;if(void 0!==a)for(var o=0,l=Object.entries(r);o<l.length;o++){var u=_slicedToArray(l[o],2),c=u[0],d=u[1];if(a[c]!==d){i=!0;a[c]=d}}else{this._storage.set(t,r);i=!0}i&&this._setModified()}},{key:"getAll",value:function getAll(){return 0===this._storage.size?null:(0,i.objectFromEntries)(this._storage)}},{key:"_setModified",value:function _setModified(){if(!this._modified){this._modified=!0;"function"==typeof this.onSetModified&&this.onSetModified()}}},{key:"resetModified",value:function resetModified(){if(this._modified){this._modified=!1;"function"==typeof this.onResetModified&&this.onResetModified()}}},{key:"size",get:function get(){return this._storage.size}}]);return AnnotationStorage}();r.AnnotationStorage=o},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.apiCompatibilityParams=void 0;var i=a(137),o=Object.create(null);!function checkFontFace(){i.isNodeJS&&(o.disableFontFace=!0)}();var l=Object.freeze(o);r.apiCompatibilityParams=l},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.CanvasGraphics=void 0;var i=a(4),o=a(141);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _createForOfIteratorHelper(t,r){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){a&&(t=a);var i=0,o=function F(){};return{s:o,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){a=t[Symbol.iterator]()},n:function n(){var t=a.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==a.return||a.return()}finally{if(c)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var l=4096,u=16;function addContextCurrentTransform(t){if(!t.mozCurrentTransform){t._originalSave=t.save;t._originalRestore=t.restore;t._originalRotate=t.rotate;t._originalScale=t.scale;t._originalTranslate=t.translate;t._originalTransform=t.transform;t._originalSetTransform=t.setTransform;t._transformMatrix=t._transformMatrix||[1,0,0,1,0,0];t._transformStack=[];Object.defineProperty(t,"mozCurrentTransform",{get:function getCurrentTransform(){return this._transformMatrix}});Object.defineProperty(t,"mozCurrentTransformInverse",{get:function getCurrentTransformInverse(){var t=this._transformMatrix,r=t[0],a=t[1],i=t[2],o=t[3],l=t[4],u=t[5],c=r*o-a*i,d=a*i-r*o;return[o/c,a/d,i/d,r/c,(o*l-i*u)/d,(a*l-r*u)/c]}});t.save=function ctxSave(){var t=this._transformMatrix;this._transformStack.push(t);this._transformMatrix=t.slice(0,6);this._originalSave()};t.restore=function ctxRestore(){var t=this._transformStack.pop();if(t){this._transformMatrix=t;this._originalRestore()}};t.translate=function ctxTranslate(t,r){var a=this._transformMatrix;a[4]=a[0]*t+a[2]*r+a[4];a[5]=a[1]*t+a[3]*r+a[5];this._originalTranslate(t,r)};t.scale=function ctxScale(t,r){var a=this._transformMatrix;a[0]=a[0]*t;a[1]=a[1]*t;a[2]=a[2]*r;a[3]=a[3]*r;this._originalScale(t,r)};t.transform=function ctxTransform(r,a,i,o,l,u){var c=this._transformMatrix;this._transformMatrix=[c[0]*r+c[2]*a,c[1]*r+c[3]*a,c[0]*i+c[2]*o,c[1]*i+c[3]*o,c[0]*l+c[2]*u+c[4],c[1]*l+c[3]*u+c[5]];t._originalTransform(r,a,i,o,l,u)};t.setTransform=function ctxSetTransform(r,a,i,o,l,u){this._transformMatrix=[r,a,i,o,l,u];t._originalSetTransform(r,a,i,o,l,u)};t.rotate=function ctxRotate(t){var r=Math.cos(t),a=Math.sin(t),i=this._transformMatrix;this._transformMatrix=[i[0]*r+i[2]*a,i[1]*r+i[3]*a,i[0]*-a+i[2]*r,i[1]*-a+i[3]*r,i[4],i[5]];this._originalRotate(t)}}}var c=function CachedCanvasesClosure(){function CachedCanvases(t){this.canvasFactory=t;this.cache=Object.create(null)}CachedCanvases.prototype={getCanvas:function CachedCanvases_getCanvas(t,r,a,i){var o;if(void 0!==this.cache[t]){o=this.cache[t];this.canvasFactory.reset(o,r,a);o.context.setTransform(1,0,0,1,0,0)}else{o=this.canvasFactory.create(r,a);this.cache[t]=o}i&&addContextCurrentTransform(o.context);return o},clear:function clear(){for(var t in this.cache){var r=this.cache[t];this.canvasFactory.destroy(r);delete this.cache[t]}}};return CachedCanvases}();var d=function CanvasExtraStateClosure(){function CanvasExtraState(){this.alphaIsShape=!1;this.fontSize=0;this.fontSizeScale=1;this.textMatrix=i.IDENTITY_MATRIX;this.textMatrixScale=1;this.fontMatrix=i.FONT_IDENTITY_MATRIX;this.leading=0;this.x=0;this.y=0;this.lineX=0;this.lineY=0;this.charSpacing=0;this.wordSpacing=0;this.textHScale=1;this.textRenderingMode=i.TextRenderingMode.FILL;this.textRise=0;this.fillColor="#000000";this.strokeColor="#000000";this.patternFill=!1;this.fillAlpha=1;this.strokeAlpha=1;this.lineWidth=1;this.activeSMask=null;this.resumeSMaskCtx=null;this.transferMaps=null}CanvasExtraState.prototype={clone:function CanvasExtraState_clone(){return Object.create(this)},setCurrentPoint:function CanvasExtraState_setCurrentPoint(t,r){this.x=t;this.y=r}};return CanvasExtraState}(),h=function CanvasGraphicsClosure(){function CanvasGraphics(t,r,a,i,o,l,u){this.ctx=t;this.current=new d;this.stateStack=[];this.pendingClip=null;this.pendingEOFill=!1;this.res=null;this.xobjs=null;this.commonObjs=r;this.objs=a;this.canvasFactory=i;this.webGLContext=o;this.imageLayer=l;this.groupStack=[];this.processingType3=null;this.baseTransform=null;this.baseTransformStack=[];this.groupLevel=0;this.smaskStack=[];this.smaskCounter=0;this.tempSMask=null;this.contentVisible=!0;this.markedContentStack=[];this.optionalContentConfig=u;this.cachedCanvases=new c(this.canvasFactory);t&&addContextCurrentTransform(t);this._cachedGetSinglePixelWidth=null}function putBinaryImageData(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("undefined"!=typeof ImageData&&r instanceof ImageData)t.putImageData(r,0,0);else{var o,l,c,d,h,p,m,g,v,y=r.height,b=r.width,S=y%u,w=(y-S)/u,C=0===S?w:w+1,P=t.createImageData(b,u),k=0,R=r.data,A=P.data;if(a)switch(a.length){case 1:p=a[0];m=a[0];g=a[0];v=a[0];break;case 4:p=a[0];m=a[1];g=a[2];v=a[3]}if(r.kind===i.ImageKind.GRAYSCALE_1BPP){var T=R.byteLength,E=new Uint32Array(A.buffer,0,A.byteLength>>2),x=E.length,I=b+7>>3,O=4294967295,L=i.IsLittleEndianCached.value?4278190080:255;if(v&&255===v[0]&&0===v[255]){var D=[L,O];O=D[0];L=D[1]}for(l=0;l<C;l++){d=l<w?u:S;o=0;for(c=0;c<d;c++){for(var M=T-k,B=0,N=M>I?b:8*M-7,W=-8&N,j=0,V=0;B<W;B+=8){V=R[k++];E[o++]=128&V?O:L;E[o++]=64&V?O:L;E[o++]=32&V?O:L;E[o++]=16&V?O:L;E[o++]=8&V?O:L;E[o++]=4&V?O:L;E[o++]=2&V?O:L;E[o++]=1&V?O:L}for(;B<N;B++){if(0===j){V=R[k++];j=128}E[o++]=V&j?O:L;j>>=1}}for(;o<x;)E[o++]=0;t.putImageData(P,0,l*u)}}else if(r.kind===i.ImageKind.RGBA_32BPP){var U=!!(p||m||g);c=0;h=b*u*4;for(l=0;l<w;l++){A.set(R.subarray(k,k+h));k+=h;if(U)for(var q=0;q<h;q+=4){p&&(A[q+0]=p[A[q+0]]);m&&(A[q+1]=m[A[q+1]]);g&&(A[q+2]=g[A[q+2]])}t.putImageData(P,0,c);c+=u}if(l<C){h=b*S*4;A.set(R.subarray(k,k+h));if(U)for(var G=0;G<h;G+=4){p&&(A[G+0]=p[A[G+0]]);m&&(A[G+1]=m[A[G+1]]);g&&(A[G+2]=g[A[G+2]])}t.putImageData(P,0,c)}}else{if(r.kind!==i.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(r.kind));var z=!!(p||m||g);h=b*(d=u);for(l=0;l<C;l++){l>=w&&(h=b*(d=S));o=0;for(c=h;c--;){A[o++]=R[k++];A[o++]=R[k++];A[o++]=R[k++];A[o++]=255}if(z)for(var H=0;H<o;H+=4){p&&(A[H+0]=p[A[H+0]]);m&&(A[H+1]=m[A[H+1]]);g&&(A[H+2]=g[A[H+2]])}t.putImageData(P,0,l*u)}}}}function putBinaryImageMask(t,r){for(var a=r.height,i=r.width,o=a%u,l=(a-o)/u,c=0===o?l:l+1,d=t.createImageData(i,u),h=0,p=r.data,m=d.data,g=0;g<c;g++){for(var v=g<l?u:o,y=3,b=0;b<v;b++)for(var S=void 0,w=0,C=0;C<i;C++){if(!w){S=p[h++];w=128}m[y]=S&w?0:255;y+=4;w>>=1}t.putImageData(d,0,g*u)}}function copyCtxState(t,r){for(var a=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],i=0,o=a.length;i<o;i++){var l=a[i];void 0!==t[l]&&(r[l]=t[l])}if(void 0!==t.setLineDash){r.setLineDash(t.getLineDash());r.lineDashOffset=t.lineDashOffset}}function resetCtxToDefault(t){t.strokeStyle="#000000";t.fillStyle="#000000";t.fillRule="nonzero";t.globalAlpha=1;t.lineWidth=1;t.lineCap="butt";t.lineJoin="miter";t.miterLimit=10;t.globalCompositeOperation="source-over";t.font="10px sans-serif";if(void 0!==t.setLineDash){t.setLineDash([]);t.lineDashOffset=0}}function composeSMaskBackdrop(t,r,a,i){for(var o=t.length,l=3;l<o;l+=4){var u=t[l];if(0===u){t[l-3]=r;t[l-2]=a;t[l-1]=i}else if(u<255){var c=255-u;t[l-3]=t[l-3]*u+r*c>>8;t[l-2]=t[l-2]*u+a*c>>8;t[l-1]=t[l-1]*u+i*c>>8}}}function composeSMaskAlpha(t,r,a){for(var i=t.length,o=3;o<i;o+=4){var l=a?a[t[o]]:t[o];r[o]=r[o]*l*.00392156862745098|0}}function composeSMaskLuminosity(t,r,a){for(var i=t.length,o=3;o<i;o+=4){var l=77*t[o-3]+152*t[o-2]+28*t[o-1];r[o]=a?r[o]*a[l>>8]>>8:r[o]*l>>16}}function composeSMask(t,r,a,i){var o=r.canvas,l=r.context;t.setTransform(r.scaleX,0,0,r.scaleY,r.offsetX,r.offsetY);var u=r.backdrop||null;if(r.transferMap||!i.isEnabled){!function genericComposeSMask(t,r,a,i,o,l,u){var c,d=!!l,h=d?l[0]:0,p=d?l[1]:0,m=d?l[2]:0;c="Luminosity"===o?composeSMaskLuminosity:composeSMaskAlpha;for(var g=Math.min(i,Math.ceil(1048576/a)),v=0;v<i;v+=g){var y=Math.min(g,i-v),b=t.getImageData(0,v,a,y),S=r.getImageData(0,v,a,y);d&&composeSMaskBackdrop(b.data,h,p,m);c(b.data,S.data,u);t.putImageData(S,0,v)}}(l,a,o.width,o.height,r.subtype,u,r.transferMap);t.drawImage(o,0,0)}else{var c=i.composeSMask({layer:a.canvas,mask:o,properties:{subtype:r.subtype,backdrop:u}});t.setTransform(1,0,0,1,0,0);t.drawImage(c,r.offsetX,r.offsetY)}}var t=["butt","round","square"],r=["miter","round","bevel"],a={},h={};CanvasGraphics.prototype={beginDrawing:function beginDrawing(t){var r=t.transform,a=t.viewport,i=t.transparency,o=void 0!==i&&i,l=t.background,u=void 0===l?null:l,c=this.ctx.canvas.width,d=this.ctx.canvas.height;this.ctx.save();this.ctx.fillStyle=u||"rgb(255, 255, 255)";this.ctx.fillRect(0,0,c,d);this.ctx.restore();if(o){var h=this.cachedCanvases.getCanvas("transparent",c,d,!0);this.compositeCtx=this.ctx;this.transparentCanvas=h.canvas;this.ctx=h.context;this.ctx.save();this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save();resetCtxToDefault(this.ctx);r&&this.ctx.transform.apply(this.ctx,r);this.ctx.transform.apply(this.ctx,a.transform);this.baseTransform=this.ctx.mozCurrentTransform.slice();this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]);this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function CanvasGraphics_executeOperatorList(t,r,a,o){var l=t.argsArray,u=t.fnArray,c=r||0,d=l.length;if(d===c)return c;for(var h,p=d-c>10&&"function"==typeof a,m=p?Date.now()+15:0,g=0,v=this.commonObjs,y=this.objs;;){if(void 0!==o&&c===o.nextBreakPoint){o.breakIt(c,a);return c}if((h=u[c])!==i.OPS.dependency)this[h].apply(this,l[c]);else{var b,S=_createForOfIteratorHelper(l[c]);try{for(S.s();!(b=S.n()).done;){var w=b.value,C=w.startsWith("g_")?v:y;if(!C.has(w)){C.get(w,a);return c}}}catch(t){S.e(t)}finally{S.f()}}if(++c===d)return c;if(p&&++g>10){if(Date.now()>m){a();return c}g=0}}},endDrawing:function CanvasGraphics_endDrawing(){for(;this.stateStack.length||null!==this.current.activeSMask;)this.restore();this.ctx.restore();if(this.transparentCanvas){this.ctx=this.compositeCtx;this.ctx.save();this.ctx.setTransform(1,0,0,1,0,0);this.ctx.drawImage(this.transparentCanvas,0,0);this.ctx.restore();this.transparentCanvas=null}this.cachedCanvases.clear();this.webGLContext.clear();this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function CanvasGraphics_setLineWidth(t){this.current.lineWidth=t;this.ctx.lineWidth=t},setLineCap:function CanvasGraphics_setLineCap(r){this.ctx.lineCap=t[r]},setLineJoin:function CanvasGraphics_setLineJoin(t){this.ctx.lineJoin=r[t]},setMiterLimit:function CanvasGraphics_setMiterLimit(t){this.ctx.miterLimit=t},setDash:function CanvasGraphics_setDash(t,r){var a=this.ctx;if(void 0!==a.setLineDash){a.setLineDash(t);a.lineDashOffset=r}},setRenderingIntent:function setRenderingIntent(t){},setFlatness:function setFlatness(t){},setGState:function CanvasGraphics_setGState(t){for(var r=0,a=t.length;r<a;r++){var i=t[r],o=i[0],l=i[1];switch(o){case"LW":this.setLineWidth(l);break;case"LC":this.setLineCap(l);break;case"LJ":this.setLineJoin(l);break;case"ML":this.setMiterLimit(l);break;case"D":this.setDash(l[0],l[1]);break;case"RI":this.setRenderingIntent(l);break;case"FL":this.setFlatness(l);break;case"Font":this.setFont(l[0],l[1]);break;case"CA":this.current.strokeAlpha=i[1];break;case"ca":this.current.fillAlpha=i[1];this.ctx.globalAlpha=i[1];break;case"BM":this.ctx.globalCompositeOperation=l;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup());this.current.activeSMask=l?this.tempSMask:null;this.current.activeSMask&&this.beginSMaskGroup();this.tempSMask=null;break;case"TR":this.current.transferMaps=l}}},beginSMaskGroup:function CanvasGraphics_beginSMaskGroup(){var t=this.current.activeSMask,r=t.canvas.width,a=t.canvas.height,i="smaskGroupAt"+this.groupLevel,o=this.cachedCanvases.getCanvas(i,r,a,!0),l=this.ctx,u=l.mozCurrentTransform;this.ctx.save();var c=o.context;c.scale(1/t.scaleX,1/t.scaleY);c.translate(-t.offsetX,-t.offsetY);c.transform.apply(c,u);t.startTransformInverse=c.mozCurrentTransformInverse;copyCtxState(l,c);this.ctx=c;this.setGState([["BM","source-over"],["ca",1],["CA",1]]);this.groupStack.push(l);this.groupLevel++},suspendSMaskGroup:function CanvasGraphics_endSMaskGroup(){var t=this.ctx;this.groupLevel--;this.ctx=this.groupStack.pop();composeSMask(this.ctx,this.current.activeSMask,t,this.webGLContext);this.ctx.restore();this.ctx.save();copyCtxState(t,this.ctx);this.current.resumeSMaskCtx=t;var r=i.Util.transform(this.current.activeSMask.startTransformInverse,t.mozCurrentTransform);this.ctx.transform.apply(this.ctx,r);t.save();t.setTransform(1,0,0,1,0,0);t.clearRect(0,0,t.canvas.width,t.canvas.height);t.restore()},resumeSMaskGroup:function CanvasGraphics_resumeSMaskGroup(){var t=this.current.resumeSMaskCtx,r=this.ctx;this.ctx=t;this.groupStack.push(r);this.groupLevel++},endSMaskGroup:function CanvasGraphics_endSMaskGroup(){var t=this.ctx;this.groupLevel--;this.ctx=this.groupStack.pop();composeSMask(this.ctx,this.current.activeSMask,t,this.webGLContext);this.ctx.restore();copyCtxState(t,this.ctx);var r=i.Util.transform(this.current.activeSMask.startTransformInverse,t.mozCurrentTransform);this.ctx.transform.apply(this.ctx,r)},save:function CanvasGraphics_save(){this.ctx.save();var t=this.current;this.stateStack.push(t);this.current=t.clone();this.current.resumeSMaskCtx=null},restore:function CanvasGraphics_restore(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup();null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup();if(0!==this.stateStack.length){this.current=this.stateStack.pop();this.ctx.restore();this.pendingClip=null;this._cachedGetSinglePixelWidth=null}else this.current.activeSMask=null},transform:function CanvasGraphics_transform(t,r,a,i,o,l){this.ctx.transform(t,r,a,i,o,l);this._cachedGetSinglePixelWidth=null},constructPath:function CanvasGraphics_constructPath(t,r){for(var a=this.ctx,o=this.current,l=o.x,u=o.y,c=0,d=0,h=t.length;c<h;c++)switch(0|t[c]){case i.OPS.rectangle:l=r[d++];u=r[d++];var p=r[d++],m=r[d++],g=l+p,v=u+m;a.moveTo(l,u);if(0===p||0===m)a.lineTo(g,v);else{a.lineTo(g,u);a.lineTo(g,v);a.lineTo(l,v)}a.closePath();break;case i.OPS.moveTo:l=r[d++];u=r[d++];a.moveTo(l,u);break;case i.OPS.lineTo:l=r[d++];u=r[d++];a.lineTo(l,u);break;case i.OPS.curveTo:l=r[d+4];u=r[d+5];a.bezierCurveTo(r[d],r[d+1],r[d+2],r[d+3],l,u);d+=6;break;case i.OPS.curveTo2:a.bezierCurveTo(l,u,r[d],r[d+1],r[d+2],r[d+3]);l=r[d+2];u=r[d+3];d+=4;break;case i.OPS.curveTo3:l=r[d+2];u=r[d+3];a.bezierCurveTo(r[d],r[d+1],l,u,l,u);d+=4;break;case i.OPS.closePath:a.closePath()}o.setCurrentPoint(l,u)},closePath:function CanvasGraphics_closePath(){this.ctx.closePath()},stroke:function CanvasGraphics_stroke(t){t=void 0===t||t;var r=this.ctx,a=this.current.strokeColor;r.globalAlpha=this.current.strokeAlpha;if(this.contentVisible)if("object"===_typeof(a)&&null!=a&&a.getPattern){r.save();var o=r.mozCurrentTransform,l=i.Util.singularValueDecompose2dScale(o)[0];r.strokeStyle=a.getPattern(r,this);var u=this.getSinglePixelWidth(),c=this.current.lineWidth*l;if(u<0&&-u>=c){r.resetTransform();r.lineWidth=Math.round(this._combinedScaleFactor)}else r.lineWidth=Math.max(u,c);r.stroke();r.restore()}else{var d=this.getSinglePixelWidth();if(d<0&&-d>=this.current.lineWidth){r.save();r.resetTransform();r.lineWidth=Math.round(this._combinedScaleFactor);r.stroke();r.restore()}else{r.lineWidth=Math.max(d,this.current.lineWidth);r.stroke()}}t&&this.consumePath();r.globalAlpha=this.current.fillAlpha},closeStroke:function CanvasGraphics_closeStroke(){this.closePath();this.stroke()},fill:function CanvasGraphics_fill(t){t=void 0===t||t;var r=this.ctx,a=this.current.fillColor,i=!1;if(this.current.patternFill){r.save();this.baseTransform&&r.setTransform.apply(r,this.baseTransform);r.fillStyle=a.getPattern(r,this);i=!0}if(this.contentVisible)if(this.pendingEOFill){r.fill("evenodd");this.pendingEOFill=!1}else r.fill();i&&r.restore();t&&this.consumePath()},eoFill:function CanvasGraphics_eoFill(){this.pendingEOFill=!0;this.fill()},fillStroke:function CanvasGraphics_fillStroke(){this.fill(!1);this.stroke(!1);this.consumePath()},eoFillStroke:function CanvasGraphics_eoFillStroke(){this.pendingEOFill=!0;this.fillStroke()},closeFillStroke:function CanvasGraphics_closeFillStroke(){this.closePath();this.fillStroke()},closeEOFillStroke:function CanvasGraphics_closeEOFillStroke(){this.pendingEOFill=!0;this.closePath();this.fillStroke()},endPath:function CanvasGraphics_endPath(){this.consumePath()},clip:function CanvasGraphics_clip(){this.pendingClip=a},eoClip:function CanvasGraphics_eoClip(){this.pendingClip=h},beginText:function CanvasGraphics_beginText(){this.current.textMatrix=i.IDENTITY_MATRIX;this.current.textMatrixScale=1;this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},endText:function CanvasGraphics_endText(){var t=this.pendingTextPaths,r=this.ctx;if(void 0!==t){r.save();r.beginPath();for(var a=0;a<t.length;a++){var i=t[a];r.setTransform.apply(r,i.transform);r.translate(i.x,i.y);i.addToPath(r,i.fontSize)}r.restore();r.clip();r.beginPath();delete this.pendingTextPaths}else r.beginPath()},setCharSpacing:function CanvasGraphics_setCharSpacing(t){this.current.charSpacing=t},setWordSpacing:function CanvasGraphics_setWordSpacing(t){this.current.wordSpacing=t},setHScale:function CanvasGraphics_setHScale(t){this.current.textHScale=t/100},setLeading:function CanvasGraphics_setLeading(t){this.current.leading=-t},setFont:function CanvasGraphics_setFont(t,r){var a=this.commonObjs.get(t),o=this.current;if(!a)throw new Error("Can't find font for ".concat(t));o.fontMatrix=a.fontMatrix||i.FONT_IDENTITY_MATRIX;0!==o.fontMatrix[0]&&0!==o.fontMatrix[3]||(0,i.warn)("Invalid font matrix for font "+t);if(r<0){r=-r;o.fontDirection=-1}else o.fontDirection=1;this.current.font=a;this.current.fontSize=r;if(!a.isType3Font){var l=a.loadedName||"sans-serif",u="normal";a.black?u="900":a.bold&&(u="bold");var c=a.italic?"italic":"normal",d='"'.concat(l,'", ').concat(a.fallbackName),h=r;r<16?h=16:r>100&&(h=100);this.current.fontSizeScale=r/h;this.ctx.font="".concat(c," ").concat(u," ").concat(h,"px ").concat(d)}},setTextRenderingMode:function CanvasGraphics_setTextRenderingMode(t){this.current.textRenderingMode=t},setTextRise:function CanvasGraphics_setTextRise(t){this.current.textRise=t},moveText:function CanvasGraphics_moveText(t,r){this.current.x=this.current.lineX+=t;this.current.y=this.current.lineY+=r},setLeadingMoveText:function CanvasGraphics_setLeadingMoveText(t,r){this.setLeading(-r);this.moveText(t,r)},setTextMatrix:function CanvasGraphics_setTextMatrix(t,r,a,i,o,l){this.current.textMatrix=[t,r,a,i,o,l];this.current.textMatrixScale=Math.sqrt(t*t+r*r);this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},nextLine:function CanvasGraphics_nextLine(){this.moveText(0,this.current.leading)},paintChar:function paintChar(t,r,a,o,l){var u,c=this.ctx,d=this.current,h=d.font,p=d.textRenderingMode,m=d.fontSize/d.fontSizeScale,g=p&i.TextRenderingMode.FILL_STROKE_MASK,v=!!(p&i.TextRenderingMode.ADD_TO_PATH_FLAG),y=d.patternFill&&!h.missingFile;(h.disableFontFace||v||y)&&(u=h.getPathGenerator(this.commonObjs,t));if(h.disableFontFace||y){c.save();c.translate(r,a);c.beginPath();u(c,m);o&&c.setTransform.apply(c,o);g!==i.TextRenderingMode.FILL&&g!==i.TextRenderingMode.FILL_STROKE||c.fill();if(g===i.TextRenderingMode.STROKE||g===i.TextRenderingMode.FILL_STROKE){if(l){c.resetTransform();c.lineWidth=Math.round(this._combinedScaleFactor)}c.stroke()}c.restore()}else{g!==i.TextRenderingMode.FILL&&g!==i.TextRenderingMode.FILL_STROKE||c.fillText(t,r,a);if(g===i.TextRenderingMode.STROKE||g===i.TextRenderingMode.FILL_STROKE)if(l){c.save();c.moveTo(r,a);c.resetTransform();c.lineWidth=Math.round(this._combinedScaleFactor);c.strokeText(t,0,0);c.restore()}else c.strokeText(t,r,a)}if(v){(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:c.mozCurrentTransform,x:r,y:a,fontSize:m,addToPath:u})}},get isFontSubpixelAAEnabled(){var t=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;t.scale(1.5,1);t.fillText("I",0,10);for(var r=t.getImageData(0,0,10,10).data,a=!1,o=3;o<r.length;o+=4)if(r[o]>0&&r[o]<255){a=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",a)},showText:function CanvasGraphics_showText(t){var r=this.current,a=r.font;if(a.isType3Font)return this.showType3Text(t);var o=r.fontSize;if(0!==o){var l,u=this.ctx,c=r.fontSizeScale,d=r.charSpacing,h=r.wordSpacing,p=r.fontDirection,m=r.textHScale*p,g=t.length,v=a.vertical,y=v?1:-1,b=a.defaultVMetrics,S=o*r.fontMatrix[0],w=r.textRenderingMode===i.TextRenderingMode.FILL&&!a.disableFontFace&&!r.patternFill;u.save();if(r.patternFill){u.save();var C=r.fillColor.getPattern(u,this);l=u.mozCurrentTransform;u.restore();u.fillStyle=C}u.transform.apply(u,r.textMatrix);u.translate(r.x,r.y+r.textRise);p>0?u.scale(m,-1):u.scale(m,1);var P=r.lineWidth,k=!1,R=r.textMatrixScale;if(0===R||0===P){var A=r.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;if(A===i.TextRenderingMode.STROKE||A===i.TextRenderingMode.FILL_STROKE){this._cachedGetSinglePixelWidth=null;k=(P=this.getSinglePixelWidth())<0}}else P/=R;if(1!==c){u.scale(c,c);P/=c}u.lineWidth=P;var T,E=0;for(T=0;T<g;++T){var x=t[T];if((0,i.isNum)(x))E+=y*x*o/1e3;else{var I=!1,O=(x.isSpace?h:0)+d,L=x.fontChar,D=x.accent,M=void 0,B=void 0,N=x.width;if(v){var W=x.vmetric||b,j=-(x.vmetric?W[1]:.5*N)*S,V=W[2]*S;N=W?-W[0]:N;M=j/c;B=(E+V)/c}else{M=E/c;B=0}if(a.remeasure&&N>0){var U=1e3*u.measureText(L).width/o*c;if(N<U&&this.isFontSubpixelAAEnabled){var q=N/U;I=!0;u.save();u.scale(q,1);M/=q}else N!==U&&(M+=(N-U)/2e3*o/c)}if(this.contentVisible&&(x.isInFont||a.missingFile))if(w&&!D)u.fillText(L,M,B);else{this.paintChar(L,M,B,l,k);if(D){var G=M+o*D.offset.x/c,z=B-o*D.offset.y/c;this.paintChar(D.fontChar,G,z,l,k)}}E+=v?N*S-O*p:N*S+O*p;I&&u.restore()}}v?r.y-=E:r.x+=E*m;u.restore()}},showType3Text:function CanvasGraphics_showType3Text(t){var r,a,o,l,u=this.ctx,c=this.current,d=c.font,h=c.fontSize,p=c.fontDirection,m=d.vertical?1:-1,g=c.charSpacing,v=c.wordSpacing,y=c.textHScale*p,b=c.fontMatrix||i.FONT_IDENTITY_MATRIX,S=t.length;if(!(c.textRenderingMode===i.TextRenderingMode.INVISIBLE)&&0!==h){this._cachedGetSinglePixelWidth=null;u.save();u.transform.apply(u,c.textMatrix);u.translate(c.x,c.y);u.scale(y,p);for(r=0;r<S;++r){a=t[r];if((0,i.isNum)(a)){l=m*a*h/1e3;this.ctx.translate(l,0);c.x+=l*y}else{var w=(a.isSpace?v:0)+g,C=d.charProcOperatorList[a.operatorListId];if(C){if(this.contentVisible){this.processingType3=a;this.save();u.scale(h,h);u.transform.apply(u,b);this.executeOperatorList(C);this.restore()}o=i.Util.applyTransform([a.width,0],b)[0]*h+w;u.translate(o,0);c.x+=o*y}else(0,i.warn)('Type3 character "'.concat(a.operatorListId,'" is not available.'))}}u.restore();this.processingType3=null}},setCharWidth:function CanvasGraphics_setCharWidth(t,r){},setCharWidthAndBounds:function CanvasGraphics_setCharWidthAndBounds(t,r,a,i,o,l){this.ctx.rect(a,i,o-a,l-i);this.clip();this.endPath()},getColorN_Pattern:function CanvasGraphics_getColorN_Pattern(t){var r,a=this;if("TilingPattern"===t[0]){var i=t[1],l=this.baseTransform||this.ctx.mozCurrentTransform.slice(),u={createCanvasGraphics:function createCanvasGraphics(t){return new CanvasGraphics(t,a.commonObjs,a.objs,a.canvasFactory,a.webGLContext)}};r=new o.TilingPattern(t,i,this.ctx,u,l)}else r=(0,o.getShadingPatternFromIR)(t);return r},setStrokeColorN:function CanvasGraphics_setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function CanvasGraphics_setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments);this.current.patternFill=!0},setStrokeRGBColor:function CanvasGraphics_setStrokeRGBColor(t,r,a){var o=i.Util.makeHexColor(t,r,a);this.ctx.strokeStyle=o;this.current.strokeColor=o},setFillRGBColor:function CanvasGraphics_setFillRGBColor(t,r,a){var o=i.Util.makeHexColor(t,r,a);this.ctx.fillStyle=o;this.current.fillColor=o;this.current.patternFill=!1},shadingFill:function CanvasGraphics_shadingFill(t){if(this.contentVisible){var r=this.ctx;this.save();var a=(0,o.getShadingPatternFromIR)(t);r.fillStyle=a.getPattern(r,this,!0);var l=r.mozCurrentTransformInverse;if(l){var u=r.canvas,c=u.width,d=u.height,h=i.Util.applyTransform([0,0],l),p=i.Util.applyTransform([0,d],l),m=i.Util.applyTransform([c,0],l),g=i.Util.applyTransform([c,d],l),v=Math.min(h[0],p[0],m[0],g[0]),y=Math.min(h[1],p[1],m[1],g[1]),b=Math.max(h[0],p[0],m[0],g[0]),S=Math.max(h[1],p[1],m[1],g[1]);this.ctx.fillRect(v,y,b-v,S-y)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()}},beginInlineImage:function CanvasGraphics_beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")},beginImageData:function CanvasGraphics_beginImageData(){(0,i.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function CanvasGraphics_paintFormXObjectBegin(t,r){if(this.contentVisible){this.save();this.baseTransformStack.push(this.baseTransform);Array.isArray(t)&&6===t.length&&this.transform.apply(this,t);this.baseTransform=this.ctx.mozCurrentTransform;if(r){var a=r[2]-r[0],i=r[3]-r[1];this.ctx.rect(r[0],r[1],a,i);this.clip();this.endPath()}}},paintFormXObjectEnd:function CanvasGraphics_paintFormXObjectEnd(){if(this.contentVisible){this.restore();this.baseTransform=this.baseTransformStack.pop()}},beginGroup:function CanvasGraphics_beginGroup(t){if(this.contentVisible){this.save();var r=this.ctx;t.isolated||(0,i.info)("TODO: Support non-isolated groups.");t.knockout&&(0,i.warn)("Knockout groups not supported.");var a=r.mozCurrentTransform;t.matrix&&r.transform.apply(r,t.matrix);if(!t.bbox)throw new Error("Bounding box is required.");var o=i.Util.getAxialAlignedBoundingBox(t.bbox,r.mozCurrentTransform),u=[0,0,r.canvas.width,r.canvas.height];o=i.Util.intersect(o,u)||[0,0,0,0];var c=Math.floor(o[0]),d=Math.floor(o[1]),h=Math.max(Math.ceil(o[2])-c,1),p=Math.max(Math.ceil(o[3])-d,1),m=1,g=1;if(h>l){m=h/l;h=l}if(p>l){g=p/l;p=l}var v="groupAt"+this.groupLevel;t.smask&&(v+="_smask_"+this.smaskCounter++%2);var y=this.cachedCanvases.getCanvas(v,h,p,!0),b=y.context;b.scale(1/m,1/g);b.translate(-c,-d);b.transform.apply(b,a);if(t.smask)this.smaskStack.push({canvas:y.canvas,context:b,offsetX:c,offsetY:d,scaleX:m,scaleY:g,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null});else{r.setTransform(1,0,0,1,0,0);r.translate(c,d);r.scale(m,g)}copyCtxState(r,b);this.ctx=b;this.setGState([["BM","source-over"],["ca",1],["CA",1]]);this.groupStack.push(r);this.groupLevel++;this.current.activeSMask=null}},endGroup:function CanvasGraphics_endGroup(t){if(this.contentVisible){this.groupLevel--;var r=this.ctx;this.ctx=this.groupStack.pop();void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1;t.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(r.canvas,0,0);this.restore()}},beginAnnotations:function CanvasGraphics_beginAnnotations(){this.save();this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function CanvasGraphics_endAnnotations(){this.restore()},beginAnnotation:function CanvasGraphics_beginAnnotation(t,r,a){this.save();resetCtxToDefault(this.ctx);this.current=new d;if(Array.isArray(t)&&4===t.length){var i=t[2]-t[0],o=t[3]-t[1];this.ctx.rect(t[0],t[1],i,o);this.clip();this.endPath()}this.transform.apply(this,r);this.transform.apply(this,a)},endAnnotation:function CanvasGraphics_endAnnotation(){this.restore()},paintImageMaskXObject:function CanvasGraphics_paintImageMaskXObject(t){if(this.contentVisible){var r=this.ctx,a=t.width,i=t.height,o=this.current.fillColor,l=this.current.patternFill,u=this.processingType3;u&&void 0===u.compiled&&(u.compiled=a<=1e3&&i<=1e3?function compileType3Glyph(t){var r,a,i,o,l=t.width,u=t.height,c=l+1,d=new Uint8Array(c*(u+1)),h=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),p=l+7&-8,m=t.data,g=new Uint8Array(p*u),v=0;for(r=0,a=m.length;r<a;r++)for(var y=m[r],b=128;b>0;){g[v++]=y&b?0:255;b>>=1}var S=0;if(0!==g[v=0]){d[0]=1;++S}for(i=1;i<l;i++){if(g[v]!==g[v+1]){d[i]=g[v]?2:1;++S}v++}if(0!==g[v]){d[i]=2;++S}for(r=1;r<u;r++){o=r*c;if(g[(v=r*p)-p]!==g[v]){d[o]=g[v]?1:8;++S}var w=(g[v]?4:0)+(g[v-p]?8:0);for(i=1;i<l;i++){if(h[w=(w>>2)+(g[v+1]?4:0)+(g[v-p+1]?8:0)]){d[o+i]=h[w];++S}v++}if(g[v-p]!==g[v]){d[o+i]=g[v]?2:4;++S}if(S>1e3)return null}o=r*c;if(0!==g[v=p*(u-1)]){d[o]=8;++S}for(i=1;i<l;i++){if(g[v]!==g[v+1]){d[o+i]=g[v]?4:8;++S}v++}if(0!==g[v]){d[o+i]=4;++S}if(S>1e3)return null;var C=new Int32Array([0,c,-1,0,-c,0,0,0,1]),P=[];for(r=0;S&&r<=u;r++){for(var k=r*c,R=k+l;k<R&&!d[k];)k++;if(k!==R){var A=[k%c,r],T=k,E=d[k];do{var x=C[E];do{k+=x}while(!d[k]);var I=d[k];if(5!==I&&10!==I){E=I;d[k]=0}else{E=I&51*E>>4;d[k]&=E>>2|E<<2}A.push(k%c);A.push(k/c|0);d[k]||--S}while(T!==k);P.push(A);--r}}return function drawOutline(t){t.save();t.scale(1/l,-1/u);t.translate(0,-u);t.beginPath();for(var r=0,a=P.length;r<a;r++){var i=P[r];t.moveTo(i[0],i[1]);for(var o=2,c=i.length;o<c;o+=2)t.lineTo(i[o],i[o+1])}t.fill();t.beginPath();t.restore()}}({data:t.data,width:a,height:i}):null);if(null!=u&&u.compiled)u.compiled(r);else{var c=this.cachedCanvases.getCanvas("maskCanvas",a,i),d=c.context;d.save();putBinaryImageMask(d,t);d.globalCompositeOperation="source-in";d.fillStyle=l?o.getPattern(d,this):o;d.fillRect(0,0,a,i);d.restore();this.paintInlineImageXObject(c.canvas)}}},paintImageMaskXObjectRepeat:function paintImageMaskXObjectRepeat(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0;if(this.contentVisible){var u=t.width,c=t.height,d=this.current.fillColor,h=this.current.patternFill,p=this.cachedCanvases.getCanvas("maskCanvas",u,c),m=p.context;m.save();putBinaryImageMask(m,t);m.globalCompositeOperation="source-in";m.fillStyle=h?d.getPattern(m,this):d;m.fillRect(0,0,u,c);m.restore();for(var g=this.ctx,v=0,y=l.length;v<y;v+=2){g.save();g.transform(r,a,i,o,l[v],l[v+1]);g.scale(1,-1);g.drawImage(p.canvas,0,0,u,c,0,-1,1,1);g.restore()}}},paintImageMaskXObjectGroup:function CanvasGraphics_paintImageMaskXObjectGroup(t){if(this.contentVisible)for(var r=this.ctx,a=this.current.fillColor,i=this.current.patternFill,o=0,l=t.length;o<l;o++){var u=t[o],c=u.width,d=u.height,h=this.cachedCanvases.getCanvas("maskCanvas",c,d),p=h.context;p.save();putBinaryImageMask(p,u);p.globalCompositeOperation="source-in";p.fillStyle=i?a.getPattern(p,this):a;p.fillRect(0,0,c,d);p.restore();r.save();r.transform.apply(r,u.transform);r.scale(1,-1);r.drawImage(h.canvas,0,0,c,d,0,-1,1,1);r.restore()}},paintImageXObject:function CanvasGraphics_paintImageXObject(t){if(this.contentVisible){var r=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);r?this.paintInlineImageXObject(r):(0,i.warn)("Dependent image isn't ready yet")}},paintImageXObjectRepeat:function CanvasGraphics_paintImageXObjectRepeat(t,r,a,o){if(this.contentVisible){var l=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);if(l){for(var u=l.width,c=l.height,d=[],h=0,p=o.length;h<p;h+=2)d.push({transform:[r,0,0,a,o[h],o[h+1]],x:0,y:0,w:u,h:c});this.paintInlineImageXObjectGroup(l,d)}else(0,i.warn)("Dependent image isn't ready yet")}},paintInlineImageXObject:function CanvasGraphics_paintInlineImageXObject(t){if(this.contentVisible){var r=t.width,a=t.height,i=this.ctx;this.save();i.scale(1/r,-1/a);var o,l,u,c=i.mozCurrentTransformInverse,d=c[0],h=c[1],p=Math.max(Math.sqrt(d*d+h*h),1),m=c[2],g=c[3],v=Math.max(Math.sqrt(m*m+g*g),1);if("function"==typeof HTMLElement&&t instanceof HTMLElement||!t.data)o=t;else{putBinaryImageData(u=(l=this.cachedCanvases.getCanvas("inlineImage",r,a)).context,t,this.current.transferMaps);o=l.canvas}for(var y=r,b=a,S="prescale1";p>2&&y>1||v>2&&b>1;){var w=y,C=b;p>2&&y>1&&(p/=y/(w=Math.ceil(y/2)));v>2&&b>1&&(v/=b/(C=Math.ceil(b/2)));(u=(l=this.cachedCanvases.getCanvas(S,w,C)).context).clearRect(0,0,w,C);u.drawImage(o,0,0,y,b,0,0,w,C);o=l.canvas;y=w;b=C;S="prescale1"===S?"prescale2":"prescale1"}i.drawImage(o,0,0,y,b,0,-a,r,a);if(this.imageLayer){var P=this.getCanvasPosition(0,-a);this.imageLayer.appendImage({imgData:t,left:P[0],top:P[1],width:r/c[0],height:a/c[3]})}this.restore()}},paintInlineImageXObjectGroup:function CanvasGraphics_paintInlineImageXObjectGroup(t,r){if(this.contentVisible){var a=this.ctx,i=t.width,o=t.height,l=this.cachedCanvases.getCanvas("inlineImage",i,o);putBinaryImageData(l.context,t,this.current.transferMaps);for(var u=0,c=r.length;u<c;u++){var d=r[u];a.save();a.transform.apply(a,d.transform);a.scale(1,-1);a.drawImage(l.canvas,d.x,d.y,d.w,d.h,0,-1,1,1);if(this.imageLayer){var h=this.getCanvasPosition(d.x,d.y);this.imageLayer.appendImage({imgData:t,left:h[0],top:h[1],width:i,height:o})}a.restore()}}},paintSolidColorImageMask:function CanvasGraphics_paintSolidColorImageMask(){this.contentVisible&&this.ctx.fillRect(0,0,1,1)},markPoint:function CanvasGraphics_markPoint(t){},markPointProps:function CanvasGraphics_markPointProps(t,r){},beginMarkedContent:function CanvasGraphics_beginMarkedContent(t){this.markedContentStack.push({visible:!0})},beginMarkedContentProps:function CanvasGraphics_beginMarkedContentProps(t,r){"OC"===t?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0});this.contentVisible=this.isContentVisible()},endMarkedContent:function CanvasGraphics_endMarkedContent(){this.markedContentStack.pop();this.contentVisible=this.isContentVisible()},beginCompat:function CanvasGraphics_beginCompat(){},endCompat:function CanvasGraphics_endCompat(){},consumePath:function CanvasGraphics_consumePath(){var t=this.ctx;if(this.pendingClip){this.pendingClip===h?t.clip("evenodd"):t.clip();this.pendingClip=null}t.beginPath()},getSinglePixelWidth:function getSinglePixelWidth(){if(null===this._cachedGetSinglePixelWidth){var t=this.ctx.mozCurrentTransform,r=Math.abs(t[0]*t[3]-t[2]*t[1]),a=Math.pow(t[0],2)+Math.pow(t[2],2),i=Math.pow(t[1],2)+Math.pow(t[3],2),o=Math.sqrt(Math.max(a,i))/r;a!==i&&this._combinedScaleFactor*o>1?this._cachedGetSinglePixelWidth=-this._combinedScaleFactor*o:r>Number.EPSILON?this._cachedGetSinglePixelWidth=1.0000001*o:this._cachedGetSinglePixelWidth=1}return this._cachedGetSinglePixelWidth},getCanvasPosition:function CanvasGraphics_getCanvasPosition(t,r){var a=this.ctx.mozCurrentTransform;return[a[0]*t+a[2]*r+a[4],a[1]*t+a[3]*r+a[5]]},isContentVisible:function CanvasGraphics_isContentVisible(){for(var t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};for(var p in i.OPS)CanvasGraphics.prototype[i.OPS[p]]=CanvasGraphics.prototype[p];return CanvasGraphics}();r.CanvasGraphics=h},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.getShadingPatternFromIR=function getShadingPatternFromIR(t){var r=o[t[0]];if(!r)throw new Error("Unknown IR type: ".concat(t[0]));return r.fromIR(t)};r.TilingPattern=void 0;var i=a(4),o={};function applyBoundingBox(t,r){if(r&&"undefined"!=typeof Path2D){var a=r[2]-r[0],i=r[3]-r[1],o=new Path2D;o.rect(r[0],r[1],a,i);t.clip(o)}}o.RadialAxial={fromIR:function RadialAxial_fromIR(t){var r=t[1],a=t[2],i=t[3],o=t[4],l=t[5],u=t[6],c=t[7];return{getPattern:function RadialAxial_getPattern(t){applyBoundingBox(t,a);var d;"axial"===r?d=t.createLinearGradient(o[0],o[1],l[0],l[1]):"radial"===r&&(d=t.createRadialGradient(o[0],o[1],u,l[0],l[1],c));for(var h=0,p=i.length;h<p;++h){var m=i[h];d.addColorStop(m[0],m[1])}return d}}}};var l=function createMeshCanvasClosure(){function drawTriangle(t,r,a,i,o,l,u,c){var d,h=r.coords,p=r.colors,m=t.data,g=4*t.width;if(h[a+1]>h[i+1]){d=a;a=i;i=d;d=l;l=u;u=d}if(h[i+1]>h[o+1]){d=i;i=o;o=d;d=u;u=c;c=d}if(h[a+1]>h[i+1]){d=a;a=i;i=d;d=l;l=u;u=d}var v=(h[a]+r.offsetX)*r.scaleX,y=(h[a+1]+r.offsetY)*r.scaleY,b=(h[i]+r.offsetX)*r.scaleX,S=(h[i+1]+r.offsetY)*r.scaleY,w=(h[o]+r.offsetX)*r.scaleX,C=(h[o+1]+r.offsetY)*r.scaleY;if(!(y>=C))for(var P,k,R,A,T,E,x,I,O=p[l],L=p[l+1],D=p[l+2],M=p[u],B=p[u+1],N=p[u+2],W=p[c],j=p[c+1],V=p[c+2],U=Math.round(y),q=Math.round(C),G=U;G<=q;G++){if(G<S){var z=void 0;P=v-(v-b)*(z=G<y?0:y===S?1:(y-G)/(y-S));k=O-(O-M)*z;R=L-(L-B)*z;A=D-(D-N)*z}else{var H=void 0;P=b-(b-w)*(H=G>C?1:S===C?0:(S-G)/(S-C));k=M-(M-W)*H;R=B-(B-j)*H;A=N-(N-V)*H}var Y=void 0;T=v-(v-w)*(Y=G<y?0:G>C?1:(y-G)/(y-C));E=O-(O-W)*Y;x=L-(L-j)*Y;I=D-(D-V)*Y;for(var Q=Math.round(Math.min(P,T)),X=Math.round(Math.max(P,T)),K=g*G+4*Q,$=Q;$<=X;$++){(Y=(P-$)/(P-T))<0?Y=0:Y>1&&(Y=1);m[K++]=k-(k-E)*Y|0;m[K++]=R-(R-x)*Y|0;m[K++]=A-(A-I)*Y|0;m[K++]=255}}}function drawFigure(t,r,a){var i,o,l=r.coords,u=r.colors;switch(r.type){case"lattice":var c=r.verticesPerRow,d=Math.floor(l.length/c)-1,h=c-1;for(i=0;i<d;i++)for(var p=i*c,m=0;m<h;m++,p++){drawTriangle(t,a,l[p],l[p+1],l[p+c],u[p],u[p+1],u[p+c]);drawTriangle(t,a,l[p+c+1],l[p+1],l[p+c],u[p+c+1],u[p+1],u[p+c])}break;case"triangles":for(i=0,o=l.length;i<o;i+=3)drawTriangle(t,a,l[i],l[i+1],l[i+2],u[i],u[i+1],u[i+2]);break;default:throw new Error("illegal figure")}}return function createMeshCanvas(t,r,a,i,o,l,u,c){var d,h,p,m,g=Math.floor(t[0]),v=Math.floor(t[1]),y=Math.ceil(t[2])-g,b=Math.ceil(t[3])-v,S=Math.min(Math.ceil(Math.abs(y*r[0]*1.1)),3e3),w=Math.min(Math.ceil(Math.abs(b*r[1]*1.1)),3e3),C=y/S,P=b/w,k={coords:a,colors:i,offsetX:-g,offsetY:-v,scaleX:1/C,scaleY:1/P},R=S+4,A=w+4;if(c.isEnabled){d=c.drawFigures({width:S,height:w,backgroundColor:l,figures:o,context:k});(h=u.getCanvas("mesh",R,A,!1)).context.drawImage(d,2,2);d=h.canvas}else{var T=(h=u.getCanvas("mesh",R,A,!1)).context,E=T.createImageData(S,w);if(l){var x=E.data;for(p=0,m=x.length;p<m;p+=4){x[p]=l[0];x[p+1]=l[1];x[p+2]=l[2];x[p+3]=255}}for(p=0;p<o.length;p++)drawFigure(E,o[p],k);T.putImageData(E,2,2);d=h.canvas}return{canvas:d,offsetX:g-2*C,offsetY:v-2*P,scaleX:C,scaleY:P}}}();o.Mesh={fromIR:function Mesh_fromIR(t){var r=t[2],a=t[3],o=t[4],u=t[5],c=t[6],d=t[7],h=t[8];return{getPattern:function Mesh_getPattern(t,p,m){applyBoundingBox(t,d);var g;if(m)g=i.Util.singularValueDecompose2dScale(t.mozCurrentTransform);else{g=i.Util.singularValueDecompose2dScale(p.baseTransform);if(c){var v=i.Util.singularValueDecompose2dScale(c);g=[g[0]*v[0],g[1]*v[1]]}}var y=l(u,g,r,a,o,m?null:h,p.cachedCanvases,p.webGLContext);if(!m){t.setTransform.apply(t,p.baseTransform);c&&t.transform.apply(t,c)}t.translate(y.offsetX,y.offsetY);t.scale(y.scaleX,y.scaleY);return t.createPattern(y.canvas,"no-repeat")}}}};o.Dummy={fromIR:function Dummy_fromIR(){return{getPattern:function Dummy_fromIR_getPattern(){return"hotpink"}}}};var u=function TilingPatternClosure(){var t=1,r=2;function TilingPattern(t,r,a,i,o){this.operatorList=t[2];this.matrix=t[3]||[1,0,0,1,0,0];this.bbox=t[4];this.xstep=t[5];this.ystep=t[6];this.paintType=t[7];this.tilingType=t[8];this.color=r;this.canvasGraphicsFactory=i;this.baseTransform=o;this.ctx=a}TilingPattern.prototype={createPatternCanvas:function TilinPattern_createPatternCanvas(t){var r=this.operatorList,a=this.bbox,o=this.xstep,l=this.ystep,u=this.paintType,c=this.tilingType,d=this.color,h=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+c);var p=a[0],m=a[1],g=a[2],v=a[3],y=i.Util.singularValueDecompose2dScale(this.matrix),b=i.Util.singularValueDecompose2dScale(this.baseTransform),S=[y[0]*b[0],y[1]*b[1]],w=this.getSizeAndScale(o,this.ctx.canvas.width,S[0]),C=this.getSizeAndScale(l,this.ctx.canvas.height,S[1]),P=t.cachedCanvases.getCanvas("pattern",w.size,C.size,!0),k=P.context,R=h.createCanvasGraphics(k);R.groupLevel=t.groupLevel;this.setFillAndStrokeStyleToContext(R,u,d);R.transform(w.scale,0,0,C.scale,0,0);R.transform(1,0,0,1,-p,-m);this.clipBbox(R,a,p,m,g,v);R.executeOperatorList(r);this.ctx.transform(1,0,0,1,p,m);this.ctx.scale(1/w.scale,1/C.scale);return P.canvas},getSizeAndScale:function TilingPattern_getSizeAndScale(t,r,a){t=Math.abs(t);var i=Math.max(3e3,r),o=Math.ceil(t*a);o>=i?o=i:a=o/t;return{scale:a,size:o}},clipBbox:function clipBbox(t,r,a,i,o,l){if(Array.isArray(r)&&4===r.length){var u=o-a,c=l-i;t.ctx.rect(a,i,u,c);t.clip();t.endPath()}},setFillAndStrokeStyleToContext:function setFillAndStrokeStyleToContext(a,o,l){var u=a.ctx,c=a.current;switch(o){case t:var d=this.ctx;u.fillStyle=d.fillStyle;u.strokeStyle=d.strokeStyle;c.fillColor=d.fillStyle;c.strokeColor=d.strokeStyle;break;case r:var h=i.Util.makeHexColor(l[0],l[1],l[2]);u.fillStyle=h;u.strokeStyle=h;c.fillColor=h;c.strokeColor=h;break;default:throw new i.FormatError("Unsupported paint type: ".concat(o))}},getPattern:function TilingPattern_getPattern(t,r){(t=this.ctx).setTransform.apply(t,this.baseTransform);t.transform.apply(t,this.matrix);var a=this.createPatternCanvas(r);return t.createPattern(a,"repeat")}};return TilingPattern}();r.TilingPattern=u},(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.GlobalWorkerOptions=void 0;var a=Object.create(null);r.GlobalWorkerOptions=a;a.workerPort=void 0===a.workerPort?null:a.workerPort;a.workerSrc=void 0===a.workerSrc?"":a.workerSrc},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.MessageHandler=void 0;var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(a(2)),o=a(4);function asyncGeneratorStep(t,r,a,i,o,l,u){try{var c=t[l](u),d=c.value}catch(t){a(t);return}c.done?r(d):Promise.resolve(d).then(i,o)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var l=1,u=2,c=1,d=2,h=3,p=4,m=5,g=6,v=7,y=8;function wrapReason(t){if("object"!==_typeof(t)||null===t)return t;switch(t.name){case"AbortException":return new o.AbortException(t.message);case"MissingPDFException":return new o.MissingPDFException(t.message);case"UnexpectedResponseException":return new o.UnexpectedResponseException(t.message,t.status);case"UnknownErrorException":return new o.UnknownErrorException(t.message,t.details);default:return new o.UnknownErrorException(t.message,t.toString())}}var b=function(){function MessageHandler(t,r,a){var i=this;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,MessageHandler);this.sourceName=t;this.targetName=r;this.comObj=a;this.callbackId=1;this.streamId=1;this.postMessageTransfers=!0;this.streamSinks=Object.create(null);this.streamControllers=Object.create(null);this.callbackCapabilities=Object.create(null);this.actionHandler=Object.create(null);this._onComObjOnMessage=function(t){var r=t.data;if(r.targetName===i.sourceName)if(r.stream)i._processStreamMessage(r);else if(r.callback){var o=r.callbackId,c=i.callbackCapabilities[o];if(!c)throw new Error("Cannot resolve callback ".concat(o));delete i.callbackCapabilities[o];if(r.callback===l)c.resolve(r.data);else{if(r.callback!==u)throw new Error("Unexpected callback case");c.reject(wrapReason(r.reason))}}else{var d=i.actionHandler[r.action];if(!d)throw new Error("Unknown action from worker: ".concat(r.action));if(r.callbackId){var h=i.sourceName,p=r.sourceName;new Promise((function(t){t(d(r.data))})).then((function(t){a.postMessage({sourceName:h,targetName:p,callback:l,callbackId:r.callbackId,data:t})}),(function(t){a.postMessage({sourceName:h,targetName:p,callback:u,callbackId:r.callbackId,reason:wrapReason(t)})}))}else r.streamId?i._createStreamSink(r):d(r.data)}};a.addEventListener("message",this._onComObjOnMessage)}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(MessageHandler,[{key:"on",value:function on(t,r){var a=this.actionHandler;if(a[t])throw new Error('There is already an actionName called "'.concat(t,'"'));a[t]=r}},{key:"send",value:function send(t,r,a){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:r},a)}},{key:"sendWithPromise",value:function sendWithPromise(t,r,a){var i=this.callbackId++,l=(0,o.createPromiseCapability)();this.callbackCapabilities[i]=l;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:i,data:r},a)}catch(t){l.reject(t)}return l.promise}},{key:"sendWithStream",value:function sendWithStream(t,r,a,i){var l=this,u=this.streamId++,d=this.sourceName,h=this.targetName,p=this.comObj;return new ReadableStream({start:function start(a){var c=(0,o.createPromiseCapability)();l.streamControllers[u]={controller:a,startCall:c,pullCall:null,cancelCall:null,isClosed:!1};l._postMessage({sourceName:d,targetName:h,action:t,streamId:u,data:r,desiredSize:a.desiredSize},i);return c.promise},pull:function pull(t){var r=(0,o.createPromiseCapability)();l.streamControllers[u].pullCall=r;p.postMessage({sourceName:d,targetName:h,stream:g,streamId:u,desiredSize:t.desiredSize});return r.promise},cancel:function cancel(t){(0,o.assert)(t instanceof Error,"cancel must have a valid reason");var r=(0,o.createPromiseCapability)();l.streamControllers[u].cancelCall=r;l.streamControllers[u].isClosed=!0;p.postMessage({sourceName:d,targetName:h,stream:c,streamId:u,reason:wrapReason(t)});return r.promise}},a)}},{key:"_createStreamSink",value:function _createStreamSink(t){var r=this,a=this.actionHandler[t.action],i=t.streamId,l=this.sourceName,u=t.sourceName,c=this.comObj,d={enqueue:function enqueue(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var d=this.desiredSize;this.desiredSize-=a;if(d>0&&this.desiredSize<=0){this.sinkCapability=(0,o.createPromiseCapability)();this.ready=this.sinkCapability.promise}r._postMessage({sourceName:l,targetName:u,stream:p,streamId:i,chunk:t},c)}},close:function close(){if(!this.isCancelled){this.isCancelled=!0;c.postMessage({sourceName:l,targetName:u,stream:h,streamId:i});delete r.streamSinks[i]}},error:function error(t){(0,o.assert)(t instanceof Error,"error must have a valid reason");if(!this.isCancelled){this.isCancelled=!0;c.postMessage({sourceName:l,targetName:u,stream:m,streamId:i,reason:wrapReason(t)})}},sinkCapability:(0,o.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};d.sinkCapability.resolve();d.ready=d.sinkCapability.promise;this.streamSinks[i]=d;new Promise((function(r){r(a(t.data,d))})).then((function(){c.postMessage({sourceName:l,targetName:u,stream:y,streamId:i,success:!0})}),(function(t){c.postMessage({sourceName:l,targetName:u,stream:y,streamId:i,reason:wrapReason(t)})}))}},{key:"_processStreamMessage",value:function _processStreamMessage(t){var r=t.streamId,a=this.sourceName,i=t.sourceName,l=this.comObj;switch(t.stream){case y:t.success?this.streamControllers[r].startCall.resolve():this.streamControllers[r].startCall.reject(wrapReason(t.reason));break;case v:t.success?this.streamControllers[r].pullCall.resolve():this.streamControllers[r].pullCall.reject(wrapReason(t.reason));break;case g:if(!this.streamSinks[r]){l.postMessage({sourceName:a,targetName:i,stream:v,streamId:r,success:!0});break}this.streamSinks[r].desiredSize<=0&&t.desiredSize>0&&this.streamSinks[r].sinkCapability.resolve();this.streamSinks[r].desiredSize=t.desiredSize;var u=this.streamSinks[t.streamId].onPull;new Promise((function(t){t(u&&u())})).then((function(){l.postMessage({sourceName:a,targetName:i,stream:v,streamId:r,success:!0})}),(function(t){l.postMessage({sourceName:a,targetName:i,stream:v,streamId:r,reason:wrapReason(t)})}));break;case p:(0,o.assert)(this.streamControllers[r],"enqueue should have stream controller");if(this.streamControllers[r].isClosed)break;this.streamControllers[r].controller.enqueue(t.chunk);break;case h:(0,o.assert)(this.streamControllers[r],"close should have stream controller");if(this.streamControllers[r].isClosed)break;this.streamControllers[r].isClosed=!0;this.streamControllers[r].controller.close();this._deleteStreamController(r);break;case m:(0,o.assert)(this.streamControllers[r],"error should have stream controller");this.streamControllers[r].controller.error(wrapReason(t.reason));this._deleteStreamController(r);break;case d:t.success?this.streamControllers[r].cancelCall.resolve():this.streamControllers[r].cancelCall.reject(wrapReason(t.reason));this._deleteStreamController(r);break;case c:if(!this.streamSinks[r])break;var b=this.streamSinks[t.streamId].onCancel;new Promise((function(r){r(b&&b(wrapReason(t.reason)))})).then((function(){l.postMessage({sourceName:a,targetName:i,stream:d,streamId:r,success:!0})}),(function(t){l.postMessage({sourceName:a,targetName:i,stream:d,streamId:r,reason:wrapReason(t)})}));this.streamSinks[r].sinkCapability.reject(wrapReason(t.reason));this.streamSinks[r].isCancelled=!0;delete this.streamSinks[r];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:(t=function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,o){var l=t.apply(r,a);function _next(t){asyncGeneratorStep(l,i,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,i,o,_next,_throw,"throw",t)}_next(void 0)}))}}(i.default.mark((function _callee(t){return i.default.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:r.next=2;return Promise.allSettled([this.streamControllers[t].startCall,this.streamControllers[t].pullCall,this.streamControllers[t].cancelCall].map((function(t){return t&&t.promise})));case 2:delete this.streamControllers[t];case 3:case"end":return r.stop()}}),_callee,this)}))),function _deleteStreamController(r){return t.apply(this,arguments)})},{key:"_postMessage",value:function _postMessage(t,r){r&&this.postMessageTransfers?this.comObj.postMessage(t,r):this.comObj.postMessage(t)}},{key:"destroy",value:function destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]);var t;return MessageHandler}();r.MessageHandler=b},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.Metadata=void 0;var i=a(4),o=a(145);function _createForOfIteratorHelper(t,r){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){a&&(t=a);var i=0,o=function F(){};return{s:o,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){a=t[Symbol.iterator]()},n:function n(){var t=a.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==a.return||a.return()}finally{if(c)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}var l=function(){function Metadata(t){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Metadata);(0,i.assert)("string"==typeof t,"Metadata: input is not a string");t=this._repair(t);var r=new o.SimpleXMLParser({lowerCaseName:!0}).parseFromString(t);this._metadataMap=new Map;r&&this._parse(r);this._data=t}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(Metadata,[{key:"_repair",value:function _repair(t){return t.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,(function(t,r){for(var a=r.replace(/\\([0-3])([0-7])([0-7])/g,(function(t,r,a,i){return String.fromCharCode(64*r+8*a+1*i)})).replace(/&(amp|apos|gt|lt|quot);/g,(function(t,r){switch(r){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error("_repair: ".concat(r," isn't defined."))})),i="",o=0,l=a.length;o<l;o+=2){var u=256*a.charCodeAt(o)+a.charCodeAt(o+1);i+=u>=32&&u<127&&60!==u&&62!==u&&38!==u?String.fromCharCode(u):"&#x"+(65536+u).toString(16).substring(1)+";"}return">"+i}))}},{key:"_getSequence",value:function _getSequence(t){var r=t.nodeName;return"rdf:bag"!==r&&"rdf:seq"!==r&&"rdf:alt"!==r?null:t.childNodes.filter((function(t){return"rdf:li"===t.nodeName}))}},{key:"_getCreators",value:function _getCreators(t){if("dc:creator"!==t.nodeName)return!1;if(!t.hasChildNodes())return!0;var r=t.childNodes[0],a=this._getSequence(r)||[];this._metadataMap.set(t.nodeName,a.map((function(t){return t.textContent.trim()})));return!0}},{key:"_parse",value:function _parse(t){var r=t.documentElement;if("rdf:rdf"!==r.nodeName){r=r.firstChild;for(;r&&"rdf:rdf"!==r.nodeName;)r=r.nextSibling}if(r&&"rdf:rdf"===r.nodeName&&r.hasChildNodes()){var a,i=_createForOfIteratorHelper(r.childNodes);try{for(i.s();!(a=i.n()).done;){var o=a.value;if("rdf:description"===o.nodeName){var l,u=_createForOfIteratorHelper(o.childNodes);try{for(u.s();!(l=u.n()).done;){var c=l.value,d=c.nodeName;"#text"!==d&&(this._getCreators(c)||this._metadataMap.set(d,c.textContent.trim()))}}catch(t){u.e(t)}finally{u.f()}}}}catch(t){i.e(t)}finally{i.f()}}}},{key:"getRaw",value:function getRaw(){return this._data}},{key:"get",value:function get(t){var r;return null!==(r=this._metadataMap.get(t))&&void 0!==r?r:null}},{key:"getAll",value:function getAll(){return(0,i.objectFromEntries)(this._metadataMap)}},{key:"has",value:function has(t){return this._metadataMap.has(t)}}]);return Metadata}();r.Metadata=l},(t,r,a)=>{"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(r,"__esModule",{value:!0});r.SimpleXMLParser=r.SimpleDOMNode=void 0;var i=a(4);function _get(t,r,a){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(t,r,a){var i=function _superPropBase(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&null!==(t=_getPrototypeOf(t)););return t}(t,r);if(i){var o=Object.getOwnPropertyDescriptor(i,r);return o.get?o.get.call(a):o.value}})(t,r,a||t)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){t.__proto__=r;return t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){return!r||"object"!==_typeof(r)&&"function"!=typeof r?function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):r}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _createForOfIteratorHelper(t,r){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){a&&(t=a);var i=0,o=function F(){};return{s:o,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){a=t[Symbol.iterator]()},n:function n(){var t=a.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==a.return||a.return()}finally{if(c)throw l}}}}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var a=[],i=!0,o=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){a.push(u.value);if(r&&a.length===r)break}}catch(t){o=!0;l=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw l}}return a}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);return"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}var o=0,l=-2,u=-3,c=-4,d=-5,h=-6,p=-9;function isWhitespace(t,r){var a=t[r];return" "===a||"\n"===a||"\r"===a||"\t"===a}var m=function(){function XMLParserBase(){_classCallCheck(this,XMLParserBase)}_createClass(XMLParserBase,[{key:"_resolveEntities",value:function _resolveEntities(t){var r=this;return t.replace(/&([^;]+);/g,(function(t,a){if("#x"===a.substring(0,2))return String.fromCodePoint(parseInt(a.substring(2),16));if("#"===a.substring(0,1))return String.fromCodePoint(parseInt(a.substring(1),10));switch(a){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return r.onResolveEntity(a)}))}},{key:"_parseContent",value:function _parseContent(t,r){var a=[],i=r;function skipWs(){for(;i<t.length&&isWhitespace(t,i);)++i}for(;i<t.length&&!isWhitespace(t,i)&&">"!==t[i]&&"/"!==t[i];)++i;var o=t.substring(r,i);skipWs();for(;i<t.length&&">"!==t[i]&&"/"!==t[i]&&"?"!==t[i];){skipWs();for(var l,u="";i<t.length&&!isWhitespace(t,i)&&"="!==t[i];){u+=t[i];++i}skipWs();if("="!==t[i])return null;++i;skipWs();var c=t[i];if('"'!==c&&"'"!==c)return null;var d=t.indexOf(c,++i);if(d<0)return null;l=t.substring(i,d);a.push({name:u,value:this._resolveEntities(l)});i=d+1;skipWs()}return{name:o,attributes:a,parsed:i-r}}},{key:"_parseProcessingInstruction",value:function _parseProcessingInstruction(t,r){var a=r;for(;a<t.length&&!isWhitespace(t,a)&&">"!==t[a]&&"/"!==t[a];)++a;var i=t.substring(r,a);!function skipWs(){for(;a<t.length&&isWhitespace(t,a);)++a}();for(var o=a;a<t.length&&("?"!==t[a]||">"!==t[a+1]);)++a;return{name:i,value:t.substring(o,a),parsed:a-r}}},{key:"parseXml",value:function parseXml(t){for(var r=0;r<t.length;){var a=r;if("<"===t[r]){var i=void 0;switch(t[++a]){case"/":++a;if((i=t.indexOf(">",a))<0){this.onError(p);return}this.onEndElement(t.substring(a,i));a=i+1;break;case"?":++a;var o=this._parseProcessingInstruction(t,a);if("?>"!==t.substring(a+o.parsed,a+o.parsed+2)){this.onError(u);return}this.onPi(o.name,o.value);a+=o.parsed+2;break;case"!":if("--"===t.substring(a+1,a+3)){if((i=t.indexOf("--\x3e",a+3))<0){this.onError(d);return}this.onComment(t.substring(a+3,i));a=i+3}else if("[CDATA["===t.substring(a+1,a+8)){if((i=t.indexOf("]]>",a+8))<0){this.onError(l);return}this.onCdata(t.substring(a+8,i));a=i+3}else{if("DOCTYPE"!==t.substring(a+1,a+8)){this.onError(h);return}var m=t.indexOf("[",a+8),g=!1;if((i=t.indexOf(">",a+8))<0){this.onError(c);return}if(m>0&&i>m){if((i=t.indexOf("]>",a+8))<0){this.onError(c);return}g=!0}var v=t.substring(a+8,i+(g?1:0));this.onDoctype(v);a=i+(g?2:1)}break;default:var y=this._parseContent(t,a);if(null===y){this.onError(h);return}var b=!1;if("/>"===t.substring(a+y.parsed,a+y.parsed+2))b=!0;else if(">"!==t.substring(a+y.parsed,a+y.parsed+1)){this.onError(p);return}this.onBeginElement(y.name,y.attributes,b);a+=y.parsed+(b?2:1)}}else{for(;a<t.length&&"<"!==t[a];)a++;var S=t.substring(r,a);this.onText(this._resolveEntities(S))}r=a}}},{key:"onResolveEntity",value:function onResolveEntity(t){return"&".concat(t,";")}},{key:"onPi",value:function onPi(t,r){}},{key:"onComment",value:function onComment(t){}},{key:"onCdata",value:function onCdata(t){}},{key:"onDoctype",value:function onDoctype(t){}},{key:"onText",value:function onText(t){}},{key:"onBeginElement",value:function onBeginElement(t,r,a){}},{key:"onEndElement",value:function onEndElement(t){}},{key:"onError",value:function onError(t){}}]);return XMLParserBase}(),g=function(){function SimpleDOMNode(t,r){_classCallCheck(this,SimpleDOMNode);this.nodeName=t;this.nodeValue=r;Object.defineProperty(this,"parentNode",{value:null,writable:!0})}_createClass(SimpleDOMNode,[{key:"hasChildNodes",value:function hasChildNodes(){return this.childNodes&&this.childNodes.length>0}},{key:"searchNode",value:function searchNode(t,r){if(r>=t.length)return this;for(var a=t[r],i=[],o=this;;){if(a.name===o.nodeName){if(0!==a.pos){if(0===i.length)return null;var l,u=0,c=_createForOfIteratorHelper(_slicedToArray(i.pop(),1)[0].childNodes);try{for(c.s();!(l=c.n()).done;){var d=l.value;if(a.name===d.nodeName){if(u===a.pos)return d.searchNode(t,r+1);u++}}}catch(t){c.e(t)}finally{c.f()}return o.searchNode(t,r+1)}var h=o.searchNode(t,r+1);if(null!==h)return h}if(o.childNodes&&0!==o.childNodes.length){i.push([o,0]);o=o.childNodes[0]}else{if(0===i.length)return null;for(;0!==i.length;){var p=_slicedToArray(i.pop(),2),m=p[0],g=p[1]+1;if(g<m.childNodes.length){i.push([m,g]);o=m.childNodes[g];break}}if(0===i.length)return null}}}},{key:"dump",value:function dump(t){if("#text"!==this.nodeName){t.push("<".concat(this.nodeName));if(this.attributes){var r,a=_createForOfIteratorHelper(this.attributes);try{for(a.s();!(r=a.n()).done;){var o=r.value;t.push(" ".concat(o.name,'="').concat((0,i.encodeToXmlString)(o.value),'"'))}}catch(t){a.e(t)}finally{a.f()}}if(this.hasChildNodes()){t.push(">");var l,u=_createForOfIteratorHelper(this.childNodes);try{for(u.s();!(l=u.n()).done;){l.value.dump(t)}}catch(t){u.e(t)}finally{u.f()}t.push("</".concat(this.nodeName,">"))}else this.nodeValue?t.push(">".concat((0,i.encodeToXmlString)(this.nodeValue),"</").concat(this.nodeName,">")):t.push("/>")}else t.push((0,i.encodeToXmlString)(this.nodeValue))}},{key:"firstChild",get:function get(){return this.childNodes&&this.childNodes[0]}},{key:"nextSibling",get:function get(){var t=this.parentNode.childNodes;if(t){var r=t.indexOf(this);if(-1!==r)return t[r+1]}}},{key:"textContent",get:function get(){return this.childNodes?this.childNodes.map((function(t){return t.textContent})).join(""):this.nodeValue||""}}]);return SimpleDOMNode}();r.SimpleDOMNode=g;var v=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});r&&_setPrototypeOf(t,r)}(SimpleXMLParser,t);var r=_createSuper(SimpleXMLParser);function SimpleXMLParser(t){var a,i=t.hasAttributes,l=void 0!==i&&i,u=t.lowerCaseName,c=void 0!==u&&u;_classCallCheck(this,SimpleXMLParser);(a=r.call(this))._currentFragment=null;a._stack=null;a._errorCode=o;a._hasAttributes=l;a._lowerCaseName=c;return a}_createClass(SimpleXMLParser,[{key:"parseFromString",value:function parseFromString(t){this._currentFragment=[];this._stack=[];this._errorCode=o;this.parseXml(t);if(this._errorCode===o){var r=_slicedToArray(this._currentFragment,1)[0];if(r)return{documentElement:r}}}},{key:"onResolveEntity",value:function onResolveEntity(t){switch(t){case"apos":return"'"}return _get(_getPrototypeOf(SimpleXMLParser.prototype),"onResolveEntity",this).call(this,t)}},{key:"onText",value:function onText(t){if(!function isWhitespaceString(t){for(var r=0,a=t.length;r<a;r++)if(!isWhitespace(t,r))return!1;return!0}(t)){var r=new g("#text",t);this._currentFragment.push(r)}}},{key:"onCdata",value:function onCdata(t){var r=new g("#text",t);this._currentFragment.push(r)}},{key:"onBeginElement",value:function onBeginElement(t,r,a){this._lowerCaseName&&(t=t.toLowerCase());var i=new g(t);i.childNodes=[];this._hasAttributes&&(i.attributes=r);this._currentFragment.push(i);if(!a){this._stack.push(this._currentFragment);this._currentFragment=i.childNodes}}},{key:"onEndElement",value:function onEndElement(t){this._currentFragment=this._stack.pop()||[];var r=this._currentFragment[this._currentFragment.length-1];if(r)for(var a=0,i=r.childNodes.length;a<i;a++)r.childNodes[a].parentNode=r}},{key:"onError",value:function onError(t){this._errorCode=t}}]);return SimpleXMLParser}(m);r.SimpleXMLParser=v},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.OptionalContentConfig=void 0;var i=a(4);function _createForOfIteratorHelper(t,r){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){a&&(t=a);var i=0,o=function F(){};return{s:o,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){a=t[Symbol.iterator]()},n:function n(){var t=a.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==a.return||a.return()}finally{if(c)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}var o=function OptionalContentGroup(t,r){_classCallCheck(this,OptionalContentGroup);this.visible=!0;this.name=t;this.intent=r},l=function(){function OptionalContentConfig(t){_classCallCheck(this,OptionalContentConfig);this.name=null;this.creator=null;this._order=null;this._groups=new Map;if(null!==t){this.name=t.name;this.creator=t.creator;this._order=t.order;var r,a=_createForOfIteratorHelper(t.groups);try{for(a.s();!(r=a.n()).done;){var i=r.value;this._groups.set(i.id,new o(i.name,i.intent))}}catch(t){a.e(t)}finally{a.f()}if("OFF"===t.baseState){var l,u=_createForOfIteratorHelper(this._groups);try{for(u.s();!(l=u.n()).done;){l.value.visible=!1}}catch(t){u.e(t)}finally{u.f()}}var c,d=_createForOfIteratorHelper(t.on);try{for(d.s();!(c=d.n()).done;){var h=c.value;this._groups.get(h).visible=!0}}catch(t){d.e(t)}finally{d.f()}var p,m=_createForOfIteratorHelper(t.off);try{for(m.s();!(p=m.n()).done;){var g=p.value;this._groups.get(g).visible=!1}}catch(t){m.e(t)}finally{m.f()}}}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(OptionalContentConfig,[{key:"isVisible",value:function isVisible(t){if("OCG"===t.type){if(!this._groups.has(t.id)){(0,i.warn)("Optional content group not found: ".concat(t.id));return!0}return this._groups.get(t.id).visible}if("OCMD"===t.type){t.expression&&(0,i.warn)("Visibility expression not supported yet.");if(!t.policy||"AnyOn"===t.policy){var r,a=_createForOfIteratorHelper(t.ids);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(!this._groups.has(o)){(0,i.warn)("Optional content group not found: ".concat(o));return!0}if(this._groups.get(o).visible)return!0}}catch(t){a.e(t)}finally{a.f()}return!1}if("AllOn"===t.policy){var l,u=_createForOfIteratorHelper(t.ids);try{for(u.s();!(l=u.n()).done;){var c=l.value;if(!this._groups.has(c)){(0,i.warn)("Optional content group not found: ".concat(c));return!0}if(!this._groups.get(c).visible)return!1}}catch(t){u.e(t)}finally{u.f()}return!0}if("AnyOff"===t.policy){var d,h=_createForOfIteratorHelper(t.ids);try{for(h.s();!(d=h.n()).done;){var p=d.value;if(!this._groups.has(p)){(0,i.warn)("Optional content group not found: ".concat(p));return!0}if(!this._groups.get(p).visible)return!0}}catch(t){h.e(t)}finally{h.f()}return!1}if("AllOff"===t.policy){var m,g=_createForOfIteratorHelper(t.ids);try{for(g.s();!(m=g.n()).done;){var v=m.value;if(!this._groups.has(v)){(0,i.warn)("Optional content group not found: ".concat(v));return!0}if(this._groups.get(v).visible)return!1}}catch(t){g.e(t)}finally{g.f()}return!0}(0,i.warn)("Unknown optional content policy ".concat(t.policy,"."));return!0}(0,i.warn)("Unknown group type ".concat(t.type,"."));return!0}},{key:"setVisibility",value:function setVisibility(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._groups.has(t)?this._groups.get(t).visible=!!r:(0,i.warn)("Optional content group not found: ".concat(t))}},{key:"getOrder",value:function getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}},{key:"getGroups",value:function getGroups(){return this._groups.size?(0,i.objectFromEntries)(this._groups):null}},{key:"getGroup",value:function getGroup(t){return this._groups.get(t)||null}}]);return OptionalContentConfig}();r.OptionalContentConfig=l},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFDataTransportStream=void 0;var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(a(2)),o=a(4);function asyncGeneratorStep(t,r,a,i,o,l,u){try{var c=t[l](u),d=c.value}catch(t){a(t);return}c.done?r(d):Promise.resolve(d).then(i,o)}function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,o){var l=t.apply(r,a);function _next(t){asyncGeneratorStep(l,i,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,i,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _createForOfIteratorHelper(t,r){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){a&&(t=a);var i=0,o=function F(){};return{s:o,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){a=t[Symbol.iterator]()},n:function n(){var t=a.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==a.return||a.return()}finally{if(c)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}var l=function(){function PDFDataTransportStream(t,r){var a=this;_classCallCheck(this,PDFDataTransportStream);(0,o.assert)(r,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');this._queuedChunks=[];this._progressiveDone=t.progressiveDone||!1;var i=t.initialData;if((null==i?void 0:i.length)>0){var l=new Uint8Array(i).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=r;this._isStreamingSupported=!t.disableStream;this._isRangeSupported=!t.disableRange;this._contentLength=t.length;this._fullRequestReader=null;this._rangeReaders=[];this._pdfDataRangeTransport.addRangeListener((function(t,r){a._onReceiveData({begin:t,chunk:r})}));this._pdfDataRangeTransport.addProgressListener((function(t,r){a._onProgress({loaded:t,total:r})}));this._pdfDataRangeTransport.addProgressiveReadListener((function(t){a._onReceiveData({chunk:t})}));this._pdfDataRangeTransport.addProgressiveDoneListener((function(){a._onProgressiveDone()}));this._pdfDataRangeTransport.transportReady()}_createClass(PDFDataTransportStream,[{key:"_onReceiveData",value:function _onReceiveData(t){var r=new Uint8Array(t.chunk).buffer;if(void 0===t.begin)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{var a=this._rangeReaders.some((function(a){if(a._begin!==t.begin)return!1;a._enqueue(r);return!0}));(0,o.assert)(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_onProgress",value:function _onProgress(t){if(void 0===t.total){var r=this._rangeReaders[0];null!=r&&r.onProgress&&r.onProgress({loaded:t.loaded})}else{var a=this._fullRequestReader;null!=a&&a.onProgress&&a.onProgress({loaded:t.loaded,total:t.total})}}},{key:"_onProgressiveDone",value:function _onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone();this._progressiveDone=!0}},{key:"_removeRangeReader",value:function _removeRangeReader(t){var r=this._rangeReaders.indexOf(t);r>=0&&this._rangeReaders.splice(r,1)}},{key:"getFullReader",value:function getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var t=this._queuedChunks;this._queuedChunks=null;return new u(this,t,this._progressiveDone)}},{key:"getRangeReader",value:function getRangeReader(t,r){if(r<=this._progressiveDataLength)return null;var a=new c(this,t,r);this._pdfDataRangeTransport.requestDataRange(t,r);this._rangeReaders.push(a);return a}},{key:"cancelAllRequests",value:function cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);this._rangeReaders.slice(0).forEach((function(r){r.cancel(t)}));this._pdfDataRangeTransport.abort()}},{key:"_progressiveDataLength",get:function get(){var t,r;return null!==(t=null===(r=this._fullRequestReader)||void 0===r?void 0:r._loaded)&&void 0!==t?t:0}}]);return PDFDataTransportStream}();r.PDFDataTransportStream=l;var u=function(){function PDFDataTransportStreamReader(t,r){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,PDFDataTransportStreamReader);this._stream=t;this._done=a||!1;this._filename=null;this._queuedChunks=r||[];this._loaded=0;var i,o=_createForOfIteratorHelper(this._queuedChunks);try{for(o.s();!(i=o.n()).done;){var l=i.value;this._loaded+=l.byteLength}}catch(t){o.e(t)}finally{o.f()}this._requests=[];this._headersReady=Promise.resolve();t._fullRequestReader=this;this.onProgress=null}_createClass(PDFDataTransportStreamReader,[{key:"_enqueue",value:function _enqueue(t){if(!this._done){if(this._requests.length>0){this._requests.shift().resolve({value:t,done:!1})}else this._queuedChunks.push(t);this._loaded+=t.byteLength}}},{key:"read",value:(t=_asyncToGenerator(i.default.mark((function _callee(){var t,r;return i.default.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if(!(this._queuedChunks.length>0)){a.next=3;break}t=this._queuedChunks.shift();return a.abrupt("return",{value:t,done:!1});case 3:if(!this._done){a.next=5;break}return a.abrupt("return",{value:void 0,done:!0});case 5:r=(0,o.createPromiseCapability)();this._requests.push(r);return a.abrupt("return",r.promise);case 8:case"end":return a.stop()}}),_callee,this)}))),function read(){return t.apply(this,arguments)})},{key:"cancel",value:function cancel(t){this._done=!0;this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})}));this._requests=[]}},{key:"progressiveDone",value:function progressiveDone(){this._done||(this._done=!0)}},{key:"headersReady",get:function get(){return this._headersReady}},{key:"filename",get:function get(){return this._filename}},{key:"isRangeSupported",get:function get(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function get(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function get(){return this._stream._contentLength}}]);var t;return PDFDataTransportStreamReader}(),c=function(){function PDFDataTransportStreamRangeReader(t,r,a){_classCallCheck(this,PDFDataTransportStreamRangeReader);this._stream=t;this._begin=r;this._end=a;this._queuedChunk=null;this._requests=[];this._done=!1;this.onProgress=null}_createClass(PDFDataTransportStreamRangeReader,[{key:"_enqueue",value:function _enqueue(t){if(!this._done){if(0===this._requests.length)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})}));this._requests=[]}this._done=!0;this._stream._removeRangeReader(this)}}},{key:"read",value:(t=_asyncToGenerator(i.default.mark((function _callee2(){var t,r;return i.default.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:if(!this._queuedChunk){a.next=4;break}t=this._queuedChunk;this._queuedChunk=null;return a.abrupt("return",{value:t,done:!1});case 4:if(!this._done){a.next=6;break}return a.abrupt("return",{value:void 0,done:!0});case 6:r=(0,o.createPromiseCapability)();this._requests.push(r);return a.abrupt("return",r.promise);case 9:case"end":return a.stop()}}),_callee2,this)}))),function read(){return t.apply(this,arguments)})},{key:"cancel",value:function cancel(t){this._done=!0;this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})}));this._requests=[];this._stream._removeRangeReader(this)}},{key:"isStreamingSupported",get:function get(){return!1}}]);var t;return PDFDataTransportStreamRangeReader}()},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.WebGLContext=void 0;var i=a(4);function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}var o=function(){function WebGLContext(t){var r=t.enable,a=void 0!==r&&r;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,WebGLContext);this._enabled=!0===a}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(WebGLContext,[{key:"composeSMask",value:function composeSMask(t){var r=t.layer,a=t.mask,i=t.properties;return l.composeSMask(r,a,i)}},{key:"drawFigures",value:function drawFigures(t){var r=t.width,a=t.height,i=t.backgroundColor,o=t.figures,u=t.context;return l.drawFigures(r,a,i,o,u)}},{key:"clear",value:function clear(){l.cleanup()}},{key:"isEnabled",get:function get(){var t=this._enabled;t&&(t=l.tryInitGL());return(0,i.shadow)(this,"isEnabled",t)}}]);return WebGLContext}();r.WebGLContext=o;var l=function WebGLUtilsClosure(){function loadShader(t,r,a){var i=t.createShader(a);t.shaderSource(i,r);t.compileShader(i);if(!t.getShaderParameter(i,t.COMPILE_STATUS)){var o=t.getShaderInfoLog(i);throw new Error("Error during shader compilation: "+o)}return i}function createVertexShader(t,r){return loadShader(t,r,t.VERTEX_SHADER)}function createFragmentShader(t,r){return loadShader(t,r,t.FRAGMENT_SHADER)}function createProgram(t,r){for(var a=t.createProgram(),i=0,o=r.length;i<o;++i)t.attachShader(a,r[i]);t.linkProgram(a);if(!t.getProgramParameter(a,t.LINK_STATUS)){var l=t.getProgramInfoLog(a);throw new Error("Error during program linking: "+l)}return a}function createTexture(t,r,a){t.activeTexture(a);var i=t.createTexture();t.bindTexture(t.TEXTURE_2D,i);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST);t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r);return i}var t,r;function generateGL(){if(!t){r=document.createElement("canvas");t=r.getContext("webgl",{premultipliedalpha:!1})}}var a=null;var i=null;return{tryInitGL:function tryInitGL(){try{generateGL();return!!t}catch(t){}return!1},composeSMask:function composeSMask(i,o,l){var u=i.width,c=i.height;a||function initSmaskGL(){generateGL();var i=r;r=null;var o=t;t=null;var l=createProgram(o,[createVertexShader(o,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             "),createFragmentShader(o,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ")]);o.useProgram(l);var u={};u.gl=o;u.canvas=i;u.resolutionLocation=o.getUniformLocation(l,"u_resolution");u.positionLocation=o.getAttribLocation(l,"a_position");u.backdropLocation=o.getUniformLocation(l,"u_backdrop");u.subtypeLocation=o.getUniformLocation(l,"u_subtype");var c=o.getAttribLocation(l,"a_texCoord"),d=o.getUniformLocation(l,"u_image"),h=o.getUniformLocation(l,"u_mask"),p=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,p);o.bufferData(o.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),o.STATIC_DRAW);o.enableVertexAttribArray(c);o.vertexAttribPointer(c,2,o.FLOAT,!1,0,0);o.uniform1i(d,0);o.uniform1i(h,1);a=u}();var d=a,h=d.canvas,p=d.gl;h.width=u;h.height=c;p.viewport(0,0,p.drawingBufferWidth,p.drawingBufferHeight);p.uniform2f(d.resolutionLocation,u,c);l.backdrop?p.uniform4f(d.resolutionLocation,l.backdrop[0],l.backdrop[1],l.backdrop[2],1):p.uniform4f(d.resolutionLocation,0,0,0,0);p.uniform1i(d.subtypeLocation,"Luminosity"===l.subtype?1:0);var m=createTexture(p,i,p.TEXTURE0),g=createTexture(p,o,p.TEXTURE1),v=p.createBuffer();p.bindBuffer(p.ARRAY_BUFFER,v);p.bufferData(p.ARRAY_BUFFER,new Float32Array([0,0,u,0,0,c,0,c,u,0,u,c]),p.STATIC_DRAW);p.enableVertexAttribArray(d.positionLocation);p.vertexAttribPointer(d.positionLocation,2,p.FLOAT,!1,0,0);p.clearColor(0,0,0,0);p.enable(p.BLEND);p.blendFunc(p.ONE,p.ONE_MINUS_SRC_ALPHA);p.clear(p.COLOR_BUFFER_BIT);p.drawArrays(p.TRIANGLES,0,6);p.flush();p.deleteTexture(m);p.deleteTexture(g);p.deleteBuffer(v);return h},drawFigures:function drawFigures(a,o,l,u,c){i||function initFiguresGL(){generateGL();var a=r;r=null;var o=t;t=null;var l=createProgram(o,[createVertexShader(o,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             "),createFragmentShader(o,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ")]);o.useProgram(l);var u={};u.gl=o;u.canvas=a;u.resolutionLocation=o.getUniformLocation(l,"u_resolution");u.scaleLocation=o.getUniformLocation(l,"u_scale");u.offsetLocation=o.getUniformLocation(l,"u_offset");u.positionLocation=o.getAttribLocation(l,"a_position");u.colorLocation=o.getAttribLocation(l,"a_color");i=u}();var d=i,h=d.canvas,p=d.gl;h.width=a;h.height=o;p.viewport(0,0,p.drawingBufferWidth,p.drawingBufferHeight);p.uniform2f(d.resolutionLocation,a,o);for(var m=0,g=0,v=u.length;g<v;g++)switch(u[g].type){case"lattice":m+=((u[g].coords.length/u[g].verticesPerRow|0)-1)*(u[g].verticesPerRow-1)*6;break;case"triangles":m+=u[g].coords.length}for(var y=new Float32Array(2*m),b=new Uint8Array(3*m),S=c.coords,w=c.colors,C=0,P=0,k=0,R=u.length;k<R;k++){var A=u[k],T=A.coords,E=A.colors;switch(A.type){case"lattice":for(var x=A.verticesPerRow,I=T.length/x|0,O=1;O<I;O++)for(var L=O*x+1,D=1;D<x;D++,L++){y[C]=S[T[L-x-1]];y[C+1]=S[T[L-x-1]+1];y[C+2]=S[T[L-x]];y[C+3]=S[T[L-x]+1];y[C+4]=S[T[L-1]];y[C+5]=S[T[L-1]+1];b[P]=w[E[L-x-1]];b[P+1]=w[E[L-x-1]+1];b[P+2]=w[E[L-x-1]+2];b[P+3]=w[E[L-x]];b[P+4]=w[E[L-x]+1];b[P+5]=w[E[L-x]+2];b[P+6]=w[E[L-1]];b[P+7]=w[E[L-1]+1];b[P+8]=w[E[L-1]+2];y[C+6]=y[C+2];y[C+7]=y[C+3];y[C+8]=y[C+4];y[C+9]=y[C+5];y[C+10]=S[T[L]];y[C+11]=S[T[L]+1];b[P+9]=b[P+3];b[P+10]=b[P+4];b[P+11]=b[P+5];b[P+12]=b[P+6];b[P+13]=b[P+7];b[P+14]=b[P+8];b[P+15]=w[E[L]];b[P+16]=w[E[L]+1];b[P+17]=w[E[L]+2];C+=12;P+=18}break;case"triangles":for(var M=0,B=T.length;M<B;M++){y[C]=S[T[M]];y[C+1]=S[T[M]+1];b[P]=w[E[M]];b[P+1]=w[E[M]+1];b[P+2]=w[E[M]+2];C+=2;P+=3}}}l?p.clearColor(l[0]/255,l[1]/255,l[2]/255,1):p.clearColor(0,0,0,0);p.clear(p.COLOR_BUFFER_BIT);var N=p.createBuffer();p.bindBuffer(p.ARRAY_BUFFER,N);p.bufferData(p.ARRAY_BUFFER,y,p.STATIC_DRAW);p.enableVertexAttribArray(d.positionLocation);p.vertexAttribPointer(d.positionLocation,2,p.FLOAT,!1,0,0);var W=p.createBuffer();p.bindBuffer(p.ARRAY_BUFFER,W);p.bufferData(p.ARRAY_BUFFER,b,p.STATIC_DRAW);p.enableVertexAttribArray(d.colorLocation);p.vertexAttribPointer(d.colorLocation,3,p.UNSIGNED_BYTE,!1,0,0);p.uniform2f(d.scaleLocation,c.scaleX,c.scaleY);p.uniform2f(d.offsetLocation,c.offsetX,c.offsetY);p.drawArrays(p.TRIANGLES,0,m);p.flush();p.deleteBuffer(N);p.deleteBuffer(W);return h},cleanup:function cleanup(){var t,r;if(null!==(t=a)&&void 0!==t&&t.canvas){a.canvas.width=0;a.canvas.height=0}if(null!==(r=i)&&void 0!==r&&r.canvas){i.canvas.width=0;i.canvas.height=0}a=null;i=null}}}()},(t,r,a)=>{"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(r,"__esModule",{value:!0});r.AnnotationLayer=void 0;var i=a(1),o=a(4),l=a(138),u=a(150);function _get(t,r,a){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(t,r,a){var i=function _superPropBase(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&null!==(t=_getPrototypeOf(t)););return t}(t,r);if(i){var o=Object.getOwnPropertyDescriptor(i,r);return o.get?o.get.call(a):o.value}})(t,r,a||t)}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var a=[],i=!0,o=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){a.push(u.value);if(r&&a.length===r)break}}catch(t){o=!0;l=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw l}}return a}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){t.__proto__=r;return t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){return!r||"object"!==_typeof(r)&&"function"!=typeof r?_assertThisInitialized(t):r}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _createForOfIteratorHelper(t,r){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){a&&(t=a);var i=0,o=function F(){};return{s:o,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){a=t[Symbol.iterator]()},n:function n(){var t=a.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==a.return||a.return()}finally{if(c)throw l}}}}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);return"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}var c=function(){function AnnotationElementFactory(){_classCallCheck(this,AnnotationElementFactory)}_createClass(AnnotationElementFactory,null,[{key:"create",value:function create(t){switch(t.data.annotationType){case o.AnnotationType.LINK:return new h(t);case o.AnnotationType.TEXT:return new p(t);case o.AnnotationType.WIDGET:switch(t.data.fieldType){case"Tx":return new g(t);case"Btn":return t.data.radioButton?new y(t):t.data.checkBox?new v(t):new b(t);case"Ch":return new S(t)}return new m(t);case o.AnnotationType.POPUP:return new w(t);case o.AnnotationType.FREETEXT:return new P(t);case o.AnnotationType.LINE:return new k(t);case o.AnnotationType.SQUARE:return new R(t);case o.AnnotationType.CIRCLE:return new A(t);case o.AnnotationType.POLYLINE:return new T(t);case o.AnnotationType.CARET:return new x(t);case o.AnnotationType.INK:return new I(t);case o.AnnotationType.POLYGON:return new E(t);case o.AnnotationType.HIGHLIGHT:return new O(t);case o.AnnotationType.UNDERLINE:return new L(t);case o.AnnotationType.SQUIGGLY:return new D(t);case o.AnnotationType.STRIKEOUT:return new M(t);case o.AnnotationType.STAMP:return new B(t);case o.AnnotationType.FILEATTACHMENT:return new N(t);default:return new d(t)}}}]);return AnnotationElementFactory}(),d=function(){function AnnotationElement(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.isRenderable,i=void 0!==a&&a,o=r.ignoreBorder,l=void 0!==o&&o,u=r.createQuadrilaterals,c=void 0!==u&&u;_classCallCheck(this,AnnotationElement);this.isRenderable=i;this.data=t.data;this.layer=t.layer;this.page=t.page;this.viewport=t.viewport;this.linkService=t.linkService;this.downloadManager=t.downloadManager;this.imageResourcesPath=t.imageResourcesPath;this.renderInteractiveForms=t.renderInteractiveForms;this.svgFactory=t.svgFactory;this.annotationStorage=t.annotationStorage;this.enableScripting=t.enableScripting;this.hasJSActions=t.hasJSActions;this._mouseState=t.mouseState;i&&(this.container=this._createContainer(l));c&&(this.quadrilaterals=this._createQuadrilaterals(l))}_createClass(AnnotationElement,[{key:"_createContainer",value:function _createContainer(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.data,a=this.page,i=this.viewport,l=document.createElement("section"),u=r.rect[2]-r.rect[0],c=r.rect[3]-r.rect[1];l.setAttribute("data-annotation-id",r.id);var d=o.Util.normalizeRect([r.rect[0],a.view[3]-r.rect[1]+a.view[1],r.rect[2],a.view[3]-r.rect[3]+a.view[1]]);l.style.transform="matrix(".concat(i.transform.join(","),")");l.style.transformOrigin="".concat(-d[0],"px ").concat(-d[1],"px");if(!t&&r.borderStyle.width>0){l.style.borderWidth="".concat(r.borderStyle.width,"px");if(r.borderStyle.style!==o.AnnotationBorderStyleType.UNDERLINE){u-=2*r.borderStyle.width;c-=2*r.borderStyle.width}var h=r.borderStyle.horizontalCornerRadius,p=r.borderStyle.verticalCornerRadius;if(h>0||p>0){var m="".concat(h,"px / ").concat(p,"px");l.style.borderRadius=m}switch(r.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:l.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:l.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:l.style.borderBottomStyle="solid"}r.color?l.style.borderColor=o.Util.makeHexColor(0|r.color[0],0|r.color[1],0|r.color[2]):l.style.borderWidth=0}l.style.left="".concat(d[0],"px");l.style.top="".concat(d[1],"px");l.style.width="".concat(u,"px");l.style.height="".concat(c,"px");return l}},{key:"_createQuadrilaterals",value:function _createQuadrilaterals(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.data.quadPoints)return null;var r,a=[],i=this.data.rect,o=_createForOfIteratorHelper(this.data.quadPoints);try{for(o.s();!(r=o.n()).done;){var l=r.value;this.data.rect=[l[2].x,l[2].y,l[1].x,l[1].y];a.push(this._createContainer(t))}}catch(t){o.e(t)}finally{o.f()}this.data.rect=i;return a}},{key:"_createPopup",value:function _createPopup(t,r){var a=this.container;if(this.quadrilaterals){t=t||this.quadrilaterals;a=this.quadrilaterals[0]}if(!t){(t=document.createElement("div")).style.height=a.style.height;t.style.width=a.style.width;a.appendChild(t)}var i=new C({container:a,trigger:t,color:r.color,title:r.title,modificationDate:r.modificationDate,contents:r.contents,hideWrapper:!0}).render();i.style.left=a.style.width;a.appendChild(i)}},{key:"_renderQuadrilaterals",value:function _renderQuadrilaterals(t){this.quadrilaterals.forEach((function(r){r.className=t}));return this.quadrilaterals}},{key:"render",value:function render(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}}]);return AnnotationElement}(),h=function(t){_inherits(LinkAnnotationElement,t);var r=_createSuper(LinkAnnotationElement);function LinkAnnotationElement(t){_classCallCheck(this,LinkAnnotationElement);var a=!!(t.data.url||t.data.dest||t.data.action||t.data.isTooltipOnly||t.data.actions&&(t.data.actions.Action||t.data.actions["Mouse Up"]||t.data.actions["Mouse Down"]));return r.call(this,t,{isRenderable:a,createQuadrilaterals:!0})}_createClass(LinkAnnotationElement,[{key:"render",value:function render(){var t=this.data,r=this.linkService,a=document.createElement("a");t.url?(0,i.addLinkAttributes)(a,{url:t.url,target:t.newWindow?i.LinkTarget.BLANK:r.externalLinkTarget,rel:r.externalLinkRel,enabled:r.externalLinkEnabled}):t.action?this._bindNamedAction(a,t.action):t.dest?this._bindLink(a,t.dest):t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions?this._bindJSAction(a,t):this._bindLink(a,"");if(this.quadrilaterals)return this._renderQuadrilaterals("linkAnnotation").map((function(t,r){var i=0===r?a:a.cloneNode();t.appendChild(i);return t}));this.container.className="linkAnnotation";this.container.appendChild(a);return this.container}},{key:"_bindLink",value:function _bindLink(t,r){var a=this;t.href=this.linkService.getDestinationHash(r);t.onclick=function(){r&&a.linkService.goToDestination(r);return!1};(r||""===r)&&(t.className="internalLink")}},{key:"_bindNamedAction",value:function _bindNamedAction(t,r){var a=this;t.href=this.linkService.getAnchorUrl("");t.onclick=function(){a.linkService.executeNamedAction(r);return!1};t.className="internalLink"}},{key:"_bindJSAction",value:function _bindJSAction(t,r){var a=this;t.href=this.linkService.getAnchorUrl("");for(var i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]),o=function _loop(){var o=u[l],c=i.get(o);if(!c)return"continue";t[c]=function(){var t;null===(t=a.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:a,detail:{id:r.id,name:o}});return!1}},l=0,u=Object.keys(r.actions);l<u.length;l++)o();t.className="internalLink"}}]);return LinkAnnotationElement}(d),p=function(t){_inherits(TextAnnotationElement,t);var r=_createSuper(TextAnnotationElement);function TextAnnotationElement(t){_classCallCheck(this,TextAnnotationElement);var a=!!(t.data.hasPopup||t.data.title||t.data.contents);return r.call(this,t,{isRenderable:a})}_createClass(TextAnnotationElement,[{key:"render",value:function render(){this.container.className="textAnnotation";var t=document.createElement("img");t.style.height=this.container.style.height;t.style.width=this.container.style.width;t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg";t.alt="[{{type}} Annotation]";t.dataset.l10nId="text_annotation_type";t.dataset.l10nArgs=JSON.stringify({type:this.data.name});this.data.hasPopup||this._createPopup(t,this.data);this.container.appendChild(t);return this.container}}]);return TextAnnotationElement}(d),m=function(t){_inherits(WidgetAnnotationElement,t);var r=_createSuper(WidgetAnnotationElement);function WidgetAnnotationElement(){_classCallCheck(this,WidgetAnnotationElement);return r.apply(this,arguments)}_createClass(WidgetAnnotationElement,[{key:"render",value:function render(){this.data.alternativeText&&(this.container.title=this.data.alternativeText);return this.container}},{key:"_getKeyModifier",value:function _getKeyModifier(t){return navigator.platform.includes("Win")&&t.ctrlKey||navigator.platform.includes("Mac")&&t.metaKey}},{key:"_setEventListener",value:function _setEventListener(t,r,a,i){var o=this;r.includes("mouse")?t.addEventListener(r,(function(t){var r;null===(r=o.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:o,detail:{id:o.data.id,name:a,value:i(t),shift:t.shiftKey,modifier:o._getKeyModifier(t)}})})):t.addEventListener(r,(function(t){var r;null===(r=o.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:o,detail:{id:o.data.id,name:a,value:t.target.checked}})}))}},{key:"_setEventListeners",value:function _setEventListeners(t,r,a){var i,o=_createForOfIteratorHelper(r);try{for(o.s();!(i=o.n()).done;){var l,u=_slicedToArray(i.value,2),c=u[0],d=u[1];("Action"===d||null!==(l=this.data.actions)&&void 0!==l&&l[d])&&this._setEventListener(t,c,d,a)}}catch(t){o.e(t)}finally{o.f()}}}]);return WidgetAnnotationElement}(d),g=function(t){_inherits(TextWidgetAnnotationElement,t);var r=_createSuper(TextWidgetAnnotationElement);function TextWidgetAnnotationElement(t){_classCallCheck(this,TextWidgetAnnotationElement);var a=t.renderInteractiveForms||!t.data.hasAppearance&&!!t.data.fieldValue;return r.call(this,t,{isRenderable:a})}_createClass(TextWidgetAnnotationElement,[{key:"render",value:function render(){var t=this,r=this.annotationStorage,a=this.data.id;this.container.className="textWidgetAnnotation";var i=null;if(this.renderInteractiveForms){var o=r.getOrCreateValue(a,{value:this.data.fieldValue}).value,l={userValue:null,formattedValue:null,beforeInputSelectionRange:null,beforeInputValue:null};if(this.data.multiLine)(i=document.createElement("textarea")).textContent=o;else{(i=document.createElement("input")).type="text";i.setAttribute("value",o)}l.userValue=o;i.setAttribute("id",a);i.addEventListener("input",(function(t){r.setValue(a,{value:t.target.value})}));var c=function blurListener(t){l.formattedValue&&(t.target.value=l.formattedValue);t.target.setSelectionRange(0,0);l.beforeInputSelectionRange=null};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",(function(t){l.userValue&&(t.target.value=l.userValue)}));i.addEventListener("updatefromsandbox",(function(t){var i=t.detail,o={value:function value(){l.userValue=i.value||"";r.setValue(a,{value:l.userValue.toString()});l.formattedValue||(t.target.value=l.userValue)},valueAsString:function valueAsString(){l.formattedValue=i.valueAsString||"";t.target!==document.activeElement&&(t.target.value=l.formattedValue);r.setValue(a,{formattedValue:l.formattedValue})},focus:function focus(){setTimeout((function(){return t.target.focus({preventScroll:!1})}),0)},userName:function userName(){t.target.title=i.userName},hidden:function hidden(){t.target.style.visibility=i.hidden?"hidden":"visible";r.setValue(a,{hidden:i.hidden})},editable:function editable(){t.target.disabled=!i.editable},selRange:function selRange(){var r=_slicedToArray(i.selRange,2),a=r[0],o=r[1];a>=0&&o<t.target.value.length&&t.target.setSelectionRange(a,o)},strokeColor:function strokeColor(){var r=i.strokeColor;t.target.style.color=u.ColorConverters["".concat(r[0],"_HTML")](r.slice(1))}};Object.keys(i).filter((function(t){return t in o})).forEach((function(t){return o[t]()}))}));if(this.data.actions){i.addEventListener("keydown",(function(r){var i;l.beforeInputValue=r.target.value;var o=-1;"Escape"===r.key?o=0:"Enter"===r.key?o=2:"Tab"===r.key&&(o=3);if(-1!==o){l.userValue=r.target.value;null===(i=t.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:t,detail:{id:a,name:"Keystroke",value:r.target.value,willCommit:!0,commitKey:o,selStart:r.target.selectionStart,selEnd:r.target.selectionEnd}})}}));var d=c;c=null;i.addEventListener("blur",(function(r){if(t._mouseState.isDown){var i;l.userValue=r.target.value;null===(i=t.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:t,detail:{id:a,name:"Keystroke",value:r.target.value,willCommit:!0,commitKey:1,selStart:r.target.selectionStart,selEnd:r.target.selectionEnd}})}d(r)}));i.addEventListener("mousedown",(function(t){l.beforeInputValue=t.target.value;l.beforeInputSelectionRange=null}));i.addEventListener("keyup",(function(t){t.target.selectionStart===t.target.selectionEnd&&(l.beforeInputSelectionRange=null)}));i.addEventListener("select",(function(t){l.beforeInputSelectionRange=[t.target.selectionStart,t.target.selectionEnd]}));"Keystroke"in this.data.actions&&i.addEventListener("input",(function(r){var i,o=-1,u=-1;if(l.beforeInputSelectionRange){var c=_slicedToArray(l.beforeInputSelectionRange,2);o=c[0];u=c[1]}null===(i=t.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:t,detail:{id:a,name:"Keystroke",value:l.beforeInputValue,change:r.data,willCommit:!1,selStart:o,selEnd:u}})}));this._setEventListeners(i,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(t){return t.target.value}))}}c&&i.addEventListener("blur",c);i.disabled=this.data.readOnly;i.name=this.data.fieldName;null!==this.data.maxLen&&(i.maxLength=this.data.maxLen);if(this.data.comb){var h=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;i.classList.add("comb");i.style.letterSpacing="calc(".concat(h,"px - 1ch)")}}else{(i=document.createElement("div")).textContent=this.data.fieldValue;i.style.verticalAlign="middle";i.style.display="table-cell"}this._setTextStyle(i);this.container.appendChild(i);return this.container}},{key:"_setTextStyle",value:function _setTextStyle(t){var r=this.data.defaultAppearanceData,a=r.fontSize,i=r.fontColor,l=t.style;a&&(l.fontSize="".concat(a,"px"));l.color=o.Util.makeHexColor(i[0],i[1],i[2]);null!==this.data.textAlignment&&(l.textAlign=["left","center","right"][this.data.textAlignment])}}]);return TextWidgetAnnotationElement}(m),v=function(t){_inherits(CheckboxWidgetAnnotationElement,t);var r=_createSuper(CheckboxWidgetAnnotationElement);function CheckboxWidgetAnnotationElement(t){_classCallCheck(this,CheckboxWidgetAnnotationElement);return r.call(this,t,{isRenderable:t.renderInteractiveForms})}_createClass(CheckboxWidgetAnnotationElement,[{key:"render",value:function render(){var t=this.annotationStorage,r=this.data,a=r.id,i=t.getOrCreateValue(a,{value:r.fieldValue&&"Off"!==r.fieldValue}).value;this.container.className="buttonWidgetAnnotation checkBox";var o=document.createElement("input");o.disabled=r.readOnly;o.type="checkbox";o.name=this.data.fieldName;i&&o.setAttribute("checked",!0);o.setAttribute("id",a);o.addEventListener("change",(function(r){var i,o=r.target.name,l=_createForOfIteratorHelper(document.getElementsByName(o));try{for(l.s();!(i=l.n()).done;){var u=i.value;if(u!==r.target){u.checked=!1;t.setValue(u.parentNode.getAttribute("data-annotation-id"),{value:!1})}}}catch(t){l.e(t)}finally{l.f()}t.setValue(a,{value:r.target.checked})}));if(this.enableScripting&&this.hasJSActions){o.addEventListener("updatefromsandbox",(function(r){var i=r.detail,o={value:function value(){r.target.checked="Off"!==i.value;t.setValue(a,{value:r.target.checked})},focus:function focus(){setTimeout((function(){return r.target.focus({preventScroll:!1})}),0)},hidden:function hidden(){r.target.style.visibility=i.hidden?"hidden":"visible";t.setValue(a,{hidden:i.hidden})},editable:function editable(){r.target.disabled=!i.editable}};Object.keys(i).filter((function(t){return t in o})).forEach((function(t){return o[t]()}))}));this._setEventListeners(o,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(t){return t.target.checked}))}this.container.appendChild(o);return this.container}}]);return CheckboxWidgetAnnotationElement}(m),y=function(t){_inherits(RadioButtonWidgetAnnotationElement,t);var r=_createSuper(RadioButtonWidgetAnnotationElement);function RadioButtonWidgetAnnotationElement(t){_classCallCheck(this,RadioButtonWidgetAnnotationElement);return r.call(this,t,{isRenderable:t.renderInteractiveForms})}_createClass(RadioButtonWidgetAnnotationElement,[{key:"render",value:function render(){this.container.className="buttonWidgetAnnotation radioButton";var t=this.annotationStorage,r=this.data,a=r.id,i=t.getOrCreateValue(a,{value:r.fieldValue===r.buttonValue}).value,o=document.createElement("input");o.disabled=r.readOnly;o.type="radio";o.name=r.fieldName;i&&o.setAttribute("checked",!0);o.setAttribute("pdfButtonValue",r.buttonValue);o.setAttribute("id",a);o.addEventListener("change",(function(r){var i,o=r.target,l=_createForOfIteratorHelper(document.getElementsByName(o.name));try{for(l.s();!(i=l.n()).done;){var u=i.value;u!==o&&t.setValue(u.getAttribute("id"),{value:!1})}}catch(t){l.e(t)}finally{l.f()}t.setValue(a,{value:o.checked})}));if(this.enableScripting&&this.hasJSActions){o.addEventListener("updatefromsandbox",(function(r){var i=r.detail,o={value:function value(){var a,o=i.value,l=_createForOfIteratorHelper(document.getElementsByName(r.target.name));try{for(l.s();!(a=l.n()).done;){var u=a.value,c=u.getAttribute("id");if(o===u.getAttribute("pdfButtonValue")){u.setAttribute("checked",!0);t.setValue(c,{value:!0})}else t.setValue(c,{value:!1})}}catch(t){l.e(t)}finally{l.f()}},focus:function focus(){setTimeout((function(){return r.target.focus({preventScroll:!1})}),0)},hidden:function hidden(){r.target.style.visibility=i.hidden?"hidden":"visible";t.setValue(a,{hidden:i.hidden})},editable:function editable(){r.target.disabled=!i.editable}};Object.keys(i).filter((function(t){return t in o})).forEach((function(t){return o[t]()}))}));this._setEventListeners(o,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(t){return t.target.checked}))}this.container.appendChild(o);return this.container}}]);return RadioButtonWidgetAnnotationElement}(m),b=function(t){_inherits(PushButtonWidgetAnnotationElement,t);var r=_createSuper(PushButtonWidgetAnnotationElement);function PushButtonWidgetAnnotationElement(){_classCallCheck(this,PushButtonWidgetAnnotationElement);return r.apply(this,arguments)}_createClass(PushButtonWidgetAnnotationElement,[{key:"render",value:function render(){var t=_get(_getPrototypeOf(PushButtonWidgetAnnotationElement.prototype),"render",this).call(this);t.className="buttonWidgetAnnotation pushButton";this.data.alternativeText&&(t.title=this.data.alternativeText);return t}}]);return PushButtonWidgetAnnotationElement}(h),S=function(t){_inherits(ChoiceWidgetAnnotationElement,t);var r=_createSuper(ChoiceWidgetAnnotationElement);function ChoiceWidgetAnnotationElement(t){_classCallCheck(this,ChoiceWidgetAnnotationElement);return r.call(this,t,{isRenderable:t.renderInteractiveForms})}_createClass(ChoiceWidgetAnnotationElement,[{key:"render",value:function render(){var t=this;this.container.className="choiceWidgetAnnotation";var r=this.annotationStorage,a=this.data.id;r.getOrCreateValue(a,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});var i=document.createElement("select");i.disabled=this.data.readOnly;i.name=this.data.fieldName;i.setAttribute("id",a);if(!this.data.combo){i.size=this.data.options.length;this.data.multiSelect&&(i.multiple=!0)}var o,l=_createForOfIteratorHelper(this.data.options);try{for(l.s();!(o=l.n()).done;){var u=o.value,c=document.createElement("option");c.textContent=u.displayValue;c.value=u.exportValue;this.data.fieldValue.includes(u.exportValue)&&c.setAttribute("selected",!0);i.appendChild(c)}}catch(t){l.e(t)}finally{l.f()}function getValue(t){var r=t.target.options;return r[r.selectedIndex].value}if(this.enableScripting&&this.hasJSActions){i.addEventListener("updatefromsandbox",(function(t){var i=t.detail,o={value:function value(){var o=t.target.options,value=i.value,l=o.indexOf(value);if(-1!==l){o.selectedIndex=l;r.setValue(a,{value:value})}},focus:function focus(){setTimeout((function(){return t.target.focus({preventScroll:!1})}),0)},hidden:function hidden(){t.target.style.visibility=i.hidden?"hidden":"visible";r.setValue(a,{hidden:i.hidden})},editable:function editable(){t.target.disabled=!i.editable}};Object.keys(i).filter((function(t){return t in o})).forEach((function(t){return o[t]()}))}));i.addEventListener("input",(function(i){var o,l=getValue(i);r.setValue(a,{value:l});null===(o=t.linkService.eventBus)||void 0===o||o.dispatch("dispatcheventinsandbox",{source:t,detail:{id:a,name:"Keystroke",changeEx:l,willCommit:!0,commitKey:1,keyDown:!1}})}));this._setEventListeners(i,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(t){return t.target.checked}))}else i.addEventListener("input",(function(t){r.setValue(a,{value:getValue(t)})}));this.container.appendChild(i);return this.container}}]);return ChoiceWidgetAnnotationElement}(m),w=function(t){_inherits(PopupAnnotationElement,t);var r=_createSuper(PopupAnnotationElement);function PopupAnnotationElement(t){_classCallCheck(this,PopupAnnotationElement);var a=!(!t.data.title&&!t.data.contents);return r.call(this,t,{isRenderable:a})}_createClass(PopupAnnotationElement,[{key:"render",value:function render(){this.container.className="popupAnnotation";if(["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;var t='[data-annotation-id="'.concat(this.data.parentId,'"]'),r=this.layer.querySelectorAll(t);if(0===r.length)return this.container;var a=new C({container:this.container,trigger:Array.from(r),color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),i=this.page,l=o.Util.normalizeRect([this.data.parentRect[0],i.view[3]-this.data.parentRect[1]+i.view[1],this.data.parentRect[2],i.view[3]-this.data.parentRect[3]+i.view[1]]),u=l[0]+this.data.parentRect[2]-this.data.parentRect[0],c=l[1];this.container.style.transformOrigin="".concat(-u,"px ").concat(-c,"px");this.container.style.left="".concat(u,"px");this.container.style.top="".concat(c,"px");this.container.appendChild(a.render());return this.container}}]);return PopupAnnotationElement}(d),C=function(){function PopupElement(t){_classCallCheck(this,PopupElement);this.container=t.container;this.trigger=t.trigger;this.color=t.color;this.title=t.title;this.modificationDate=t.modificationDate;this.contents=t.contents;this.hideWrapper=t.hideWrapper||!1;this.pinned=!1}_createClass(PopupElement,[{key:"render",value:function render(){var t=this,r=document.createElement("div");r.className="popupWrapper";this.hideElement=this.hideWrapper?r:this.container;this.hideElement.setAttribute("hidden",!0);var a=document.createElement("div");a.className="popup";var l=this.color;if(l){var u=.7*(255-l[0])+l[0],c=.7*(255-l[1])+l[1],d=.7*(255-l[2])+l[2];a.style.backgroundColor=o.Util.makeHexColor(0|u,0|c,0|d)}var h=document.createElement("h1");h.textContent=this.title;a.appendChild(h);var p=i.PDFDateString.toDateObject(this.modificationDate);if(p){var m=document.createElement("span");m.textContent="{{date}}, {{time}}";m.dataset.l10nId="annotation_date_string";m.dataset.l10nArgs=JSON.stringify({date:p.toLocaleDateString(),time:p.toLocaleTimeString()});a.appendChild(m)}var g=this._formatContents(this.contents);a.appendChild(g);Array.isArray(this.trigger)||(this.trigger=[this.trigger]);this.trigger.forEach((function(r){r.addEventListener("click",t._toggle.bind(t));r.addEventListener("mouseover",t._show.bind(t,!1));r.addEventListener("mouseout",t._hide.bind(t,!1))}));a.addEventListener("click",this._hide.bind(this,!0));r.appendChild(a);return r}},{key:"_formatContents",value:function _formatContents(t){for(var r=document.createElement("p"),a=t.split(/(?:\r\n?|\n)/),i=0,o=a.length;i<o;++i){var l=a[i];r.appendChild(document.createTextNode(l));i<o-1&&r.appendChild(document.createElement("br"))}return r}},{key:"_toggle",value:function _toggle(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function _show(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&(this.pinned=!0);if(this.hideElement.hasAttribute("hidden")){this.hideElement.removeAttribute("hidden");this.container.style.zIndex+=1}}},{key:"_hide",value:function _hide(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t&&(this.pinned=!1);if(!this.hideElement.hasAttribute("hidden")&&!this.pinned){this.hideElement.setAttribute("hidden",!0);this.container.style.zIndex-=1}}}]);return PopupElement}(),P=function(t){_inherits(FreeTextAnnotationElement,t);var r=_createSuper(FreeTextAnnotationElement);function FreeTextAnnotationElement(t){_classCallCheck(this,FreeTextAnnotationElement);var a=!!(t.data.hasPopup||t.data.title||t.data.contents);return r.call(this,t,{isRenderable:a,ignoreBorder:!0})}_createClass(FreeTextAnnotationElement,[{key:"render",value:function render(){this.container.className="freeTextAnnotation";this.data.hasPopup||this._createPopup(null,this.data);return this.container}}]);return FreeTextAnnotationElement}(d),k=function(t){_inherits(LineAnnotationElement,t);var r=_createSuper(LineAnnotationElement);function LineAnnotationElement(t){_classCallCheck(this,LineAnnotationElement);var a=!!(t.data.hasPopup||t.data.title||t.data.contents);return r.call(this,t,{isRenderable:a,ignoreBorder:!0})}_createClass(LineAnnotationElement,[{key:"render",value:function render(){this.container.className="lineAnnotation";var t=this.data,r=t.rect[2]-t.rect[0],a=t.rect[3]-t.rect[1],i=this.svgFactory.create(r,a),o=this.svgFactory.createElement("svg:line");o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]);o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]);o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]);o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]);o.setAttribute("stroke-width",t.borderStyle.width||1);o.setAttribute("stroke","transparent");i.appendChild(o);this.container.append(i);this._createPopup(o,t);return this.container}}]);return LineAnnotationElement}(d),R=function(t){_inherits(SquareAnnotationElement,t);var r=_createSuper(SquareAnnotationElement);function SquareAnnotationElement(t){_classCallCheck(this,SquareAnnotationElement);var a=!!(t.data.hasPopup||t.data.title||t.data.contents);return r.call(this,t,{isRenderable:a,ignoreBorder:!0})}_createClass(SquareAnnotationElement,[{key:"render",value:function render(){this.container.className="squareAnnotation";var t=this.data,r=t.rect[2]-t.rect[0],a=t.rect[3]-t.rect[1],i=this.svgFactory.create(r,a),o=t.borderStyle.width,l=this.svgFactory.createElement("svg:rect");l.setAttribute("x",o/2);l.setAttribute("y",o/2);l.setAttribute("width",r-o);l.setAttribute("height",a-o);l.setAttribute("stroke-width",o||1);l.setAttribute("stroke","transparent");l.setAttribute("fill","none");i.appendChild(l);this.container.append(i);this._createPopup(l,t);return this.container}}]);return SquareAnnotationElement}(d),A=function(t){_inherits(CircleAnnotationElement,t);var r=_createSuper(CircleAnnotationElement);function CircleAnnotationElement(t){_classCallCheck(this,CircleAnnotationElement);var a=!!(t.data.hasPopup||t.data.title||t.data.contents);return r.call(this,t,{isRenderable:a,ignoreBorder:!0})}_createClass(CircleAnnotationElement,[{key:"render",value:function render(){this.container.className="circleAnnotation";var t=this.data,r=t.rect[2]-t.rect[0],a=t.rect[3]-t.rect[1],i=this.svgFactory.create(r,a),o=t.borderStyle.width,l=this.svgFactory.createElement("svg:ellipse");l.setAttribute("cx",r/2);l.setAttribute("cy",a/2);l.setAttribute("rx",r/2-o/2);l.setAttribute("ry",a/2-o/2);l.setAttribute("stroke-width",o||1);l.setAttribute("stroke","transparent");l.setAttribute("fill","none");i.appendChild(l);this.container.append(i);this._createPopup(l,t);return this.container}}]);return CircleAnnotationElement}(d),T=function(t){_inherits(PolylineAnnotationElement,t);var r=_createSuper(PolylineAnnotationElement);function PolylineAnnotationElement(t){var a;_classCallCheck(this,PolylineAnnotationElement);var i=!!(t.data.hasPopup||t.data.title||t.data.contents);(a=r.call(this,t,{isRenderable:i,ignoreBorder:!0})).containerClassName="polylineAnnotation";a.svgElementName="svg:polyline";return a}_createClass(PolylineAnnotationElement,[{key:"render",value:function render(){this.container.className=this.containerClassName;var t,r=this.data,a=r.rect[2]-r.rect[0],i=r.rect[3]-r.rect[1],o=this.svgFactory.create(a,i),l=[],u=_createForOfIteratorHelper(r.vertices);try{for(u.s();!(t=u.n()).done;){var c=t.value,d=c.x-r.rect[0],h=r.rect[3]-c.y;l.push(d+","+h)}}catch(t){u.e(t)}finally{u.f()}l=l.join(" ");var p=this.svgFactory.createElement(this.svgElementName);p.setAttribute("points",l);p.setAttribute("stroke-width",r.borderStyle.width||1);p.setAttribute("stroke","transparent");p.setAttribute("fill","none");o.appendChild(p);this.container.append(o);this._createPopup(p,r);return this.container}}]);return PolylineAnnotationElement}(d),E=function(t){_inherits(PolygonAnnotationElement,t);var r=_createSuper(PolygonAnnotationElement);function PolygonAnnotationElement(t){var a;_classCallCheck(this,PolygonAnnotationElement);(a=r.call(this,t)).containerClassName="polygonAnnotation";a.svgElementName="svg:polygon";return a}return PolygonAnnotationElement}(T),x=function(t){_inherits(CaretAnnotationElement,t);var r=_createSuper(CaretAnnotationElement);function CaretAnnotationElement(t){_classCallCheck(this,CaretAnnotationElement);var a=!!(t.data.hasPopup||t.data.title||t.data.contents);return r.call(this,t,{isRenderable:a,ignoreBorder:!0})}_createClass(CaretAnnotationElement,[{key:"render",value:function render(){this.container.className="caretAnnotation";this.data.hasPopup||this._createPopup(null,this.data);return this.container}}]);return CaretAnnotationElement}(d),I=function(t){_inherits(InkAnnotationElement,t);var r=_createSuper(InkAnnotationElement);function InkAnnotationElement(t){var a;_classCallCheck(this,InkAnnotationElement);var i=!!(t.data.hasPopup||t.data.title||t.data.contents);(a=r.call(this,t,{isRenderable:i,ignoreBorder:!0})).containerClassName="inkAnnotation";a.svgElementName="svg:polyline";return a}_createClass(InkAnnotationElement,[{key:"render",value:function render(){this.container.className=this.containerClassName;var t,r=this.data,a=r.rect[2]-r.rect[0],i=r.rect[3]-r.rect[1],o=this.svgFactory.create(a,i),l=_createForOfIteratorHelper(r.inkLists);try{for(l.s();!(t=l.n()).done;){var u,c=t.value,d=[],h=_createForOfIteratorHelper(c);try{for(h.s();!(u=h.n()).done;){var p=u.value,m=p.x-r.rect[0],g=r.rect[3]-p.y;d.push("".concat(m,",").concat(g))}}catch(t){h.e(t)}finally{h.f()}d=d.join(" ");var v=this.svgFactory.createElement(this.svgElementName);v.setAttribute("points",d);v.setAttribute("stroke-width",r.borderStyle.width||1);v.setAttribute("stroke","transparent");v.setAttribute("fill","none");this._createPopup(v,r);o.appendChild(v)}}catch(t){l.e(t)}finally{l.f()}this.container.append(o);return this.container}}]);return InkAnnotationElement}(d),O=function(t){_inherits(HighlightAnnotationElement,t);var r=_createSuper(HighlightAnnotationElement);function HighlightAnnotationElement(t){_classCallCheck(this,HighlightAnnotationElement);var a=!!(t.data.hasPopup||t.data.title||t.data.contents);return r.call(this,t,{isRenderable:a,ignoreBorder:!0,createQuadrilaterals:!0})}_createClass(HighlightAnnotationElement,[{key:"render",value:function render(){this.data.hasPopup||this._createPopup(null,this.data);if(this.quadrilaterals)return this._renderQuadrilaterals("highlightAnnotation");this.container.className="highlightAnnotation";return this.container}}]);return HighlightAnnotationElement}(d),L=function(t){_inherits(UnderlineAnnotationElement,t);var r=_createSuper(UnderlineAnnotationElement);function UnderlineAnnotationElement(t){_classCallCheck(this,UnderlineAnnotationElement);var a=!!(t.data.hasPopup||t.data.title||t.data.contents);return r.call(this,t,{isRenderable:a,ignoreBorder:!0,createQuadrilaterals:!0})}_createClass(UnderlineAnnotationElement,[{key:"render",value:function render(){this.data.hasPopup||this._createPopup(null,this.data);if(this.quadrilaterals)return this._renderQuadrilaterals("underlineAnnotation");this.container.className="underlineAnnotation";return this.container}}]);return UnderlineAnnotationElement}(d),D=function(t){_inherits(SquigglyAnnotationElement,t);var r=_createSuper(SquigglyAnnotationElement);function SquigglyAnnotationElement(t){_classCallCheck(this,SquigglyAnnotationElement);var a=!!(t.data.hasPopup||t.data.title||t.data.contents);return r.call(this,t,{isRenderable:a,ignoreBorder:!0,createQuadrilaterals:!0})}_createClass(SquigglyAnnotationElement,[{key:"render",value:function render(){this.data.hasPopup||this._createPopup(null,this.data);if(this.quadrilaterals)return this._renderQuadrilaterals("squigglyAnnotation");this.container.className="squigglyAnnotation";return this.container}}]);return SquigglyAnnotationElement}(d),M=function(t){_inherits(StrikeOutAnnotationElement,t);var r=_createSuper(StrikeOutAnnotationElement);function StrikeOutAnnotationElement(t){_classCallCheck(this,StrikeOutAnnotationElement);var a=!!(t.data.hasPopup||t.data.title||t.data.contents);return r.call(this,t,{isRenderable:a,ignoreBorder:!0,createQuadrilaterals:!0})}_createClass(StrikeOutAnnotationElement,[{key:"render",value:function render(){this.data.hasPopup||this._createPopup(null,this.data);if(this.quadrilaterals)return this._renderQuadrilaterals("strikeoutAnnotation");this.container.className="strikeoutAnnotation";return this.container}}]);return StrikeOutAnnotationElement}(d),B=function(t){_inherits(StampAnnotationElement,t);var r=_createSuper(StampAnnotationElement);function StampAnnotationElement(t){_classCallCheck(this,StampAnnotationElement);var a=!!(t.data.hasPopup||t.data.title||t.data.contents);return r.call(this,t,{isRenderable:a,ignoreBorder:!0})}_createClass(StampAnnotationElement,[{key:"render",value:function render(){this.container.className="stampAnnotation";this.data.hasPopup||this._createPopup(null,this.data);return this.container}}]);return StampAnnotationElement}(d),N=function(t){_inherits(FileAttachmentAnnotationElement,t);var r=_createSuper(FileAttachmentAnnotationElement);function FileAttachmentAnnotationElement(t){var a,l;_classCallCheck(this,FileAttachmentAnnotationElement);var u=(l=r.call(this,t,{isRenderable:!0})).data.file,c=u.filename,d=u.content;l.filename=(0,i.getFilenameFromUrl)(c);l.content=d;null===(a=l.linkService.eventBus)||void 0===a||a.dispatch("fileattachmentannotation",{source:_assertThisInitialized(l),id:(0,o.stringToPDFString)(c),filename:c,content:d});return l}_createClass(FileAttachmentAnnotationElement,[{key:"render",value:function render(){this.container.className="fileAttachmentAnnotation";var t=document.createElement("div");t.style.height=this.container.style.height;t.style.width=this.container.style.width;t.addEventListener("dblclick",this._download.bind(this));this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(t,this.data);this.container.appendChild(t);return this.container}},{key:"_download",value:function _download(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,o.warn)("Download cannot be started due to unavailable download manager")}}]);return FileAttachmentAnnotationElement}(d),W=function(){function AnnotationLayer(){_classCallCheck(this,AnnotationLayer)}_createClass(AnnotationLayer,null,[{key:"render",value:function render(t){var r,a=[],u=[],d=_createForOfIteratorHelper(t.annotations);try{for(d.s();!(r=d.n()).done;){var h=r.value;h&&(h.annotationType!==o.AnnotationType.POPUP?a.push(h):u.push(h))}}catch(t){d.e(t)}finally{d.f()}u.length&&a.push.apply(a,u);for(var p=0,m=a;p<m.length;p++){var g=m[p],v=c.create({data:g,layer:t.div,page:t.page,viewport:t.viewport,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderInteractiveForms:"boolean"!=typeof t.renderInteractiveForms||t.renderInteractiveForms,svgFactory:new i.DOMSVGFactory,annotationStorage:t.annotationStorage||new l.AnnotationStorage,enableScripting:t.enableScripting,hasJSActions:t.hasJSActions,mouseState:t.mouseState||{isDown:!1}});if(v.isRenderable){var y=v.render();g.hidden&&(y.style.visibility="hidden");if(Array.isArray(y)){var b,S=_createForOfIteratorHelper(y);try{for(S.s();!(b=S.n()).done;){var C=b.value;t.div.appendChild(C)}}catch(t){S.e(t)}finally{S.f()}}else v instanceof w?t.div.prepend(y):t.div.appendChild(y)}}}},{key:"update",value:function update(t){var r,a="matrix(".concat(t.viewport.transform.join(","),")"),i=_createForOfIteratorHelper(t.annotations);try{for(i.s();!(r=i.n()).done;){var o=r.value,l=t.div.querySelectorAll('[data-annotation-id="'.concat(o.id,'"]'));l&&l.forEach((function(t){t.style.transform=a}))}}catch(t){i.e(t)}finally{i.f()}t.div.removeAttribute("hidden")}}]);return AnnotationLayer}();r.AnnotationLayer=W},(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.ColorConverters=void 0;function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var a=[],i=!0,o=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){a.push(u.value);if(r&&a.length===r)break}}catch(t){o=!0;l=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw l}}return a}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}function makeColorComp(t){return Math.floor(255*Math.max(0,Math.min(1,t))).toString(16).padStart(2,"0")}var a=function(){function ColorConverters(){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,ColorConverters)}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(ColorConverters,null,[{key:"CMYK_G",value:function CMYK_G(t){var r=_slicedToArray(t,4),a=r[0],i=r[1],o=r[2],l=r[3];return["G",1-Math.min(1,.3*a+.59*o+.11*i+l)]}},{key:"G_CMYK",value:function G_CMYK(t){return["CMYK",0,0,0,1-_slicedToArray(t,1)[0]]}},{key:"G_RGB",value:function G_RGB(t){var r=_slicedToArray(t,1)[0];return["RGB",r,r,r]}},{key:"G_HTML",value:function G_HTML(t){var r=makeColorComp(_slicedToArray(t,1)[0]);return"#".concat(r).concat(r).concat(r)}},{key:"RGB_G",value:function RGB_G(t){var r=_slicedToArray(t,3);return["G",.3*r[0]+.59*r[1]+.11*r[2]]}},{key:"RGB_HTML",value:function RGB_HTML(t){var r=_slicedToArray(t,3),a=r[0],i=r[1],o=r[2],l=makeColorComp(a),u=makeColorComp(i),c=makeColorComp(o);return"#".concat(l).concat(u).concat(c)}},{key:"T_HTML",value:function T_HTML(){return"#00000000"}},{key:"CMYK_RGB",value:function CMYK_RGB(t){var r=_slicedToArray(t,4),a=r[0],i=r[1],o=r[2],l=r[3];return["RGB",1-Math.min(1,a+l),1-Math.min(1,o+l),1-Math.min(1,i+l)]}},{key:"CMYK_HTML",value:function CMYK_HTML(t){return this.RGB_HTML(this.CMYK_RGB(t))}},{key:"RGB_CMYK",value:function RGB_CMYK(t){var r=_slicedToArray(t,3),a=1-r[0],i=1-r[1],o=1-r[2];return["CMYK",a,i,o,Math.min(a,i,o)]}}]);return ColorConverters}();r.ColorConverters=a},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.renderTextLayer=void 0;var i=a(4),o=function renderTextLayerClosure(){var t=/\S/;function appendText(r,a,o){var l=document.createElement("span"),u={angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};r._textDivs.push(l);if(function isAllWhitespace(r){return!t.test(r)}(a.str)){u.isWhitespace=!0;r._textDivProperties.set(l,u)}else{var c=i.Util.transform(r._viewport.transform,a.transform),d=Math.atan2(c[1],c[0]),h=o[a.fontName];h.vertical&&(d+=Math.PI/2);var p,m,g=Math.sqrt(c[2]*c[2]+c[3]*c[3]),v=g;h.ascent?v=h.ascent*v:h.descent&&(v=(1+h.descent)*v);if(0===d){p=c[4];m=c[5]-v}else{p=c[4]+v*Math.sin(d);m=c[5]-v*Math.cos(d)}l.style.left="".concat(p,"px");l.style.top="".concat(m,"px");l.style.fontSize="".concat(g,"px");l.style.fontFamily=h.fontFamily;l.textContent=a.str;r._fontInspectorEnabled&&(l.dataset.fontName=a.fontName);0!==d&&(u.angle=d*(180/Math.PI));var y=!1;if(a.str.length>1)y=!0;else if(a.transform[0]!==a.transform[3]){var b=Math.abs(a.transform[0]),S=Math.abs(a.transform[3]);b!==S&&Math.max(b,S)/Math.min(b,S)>1.5&&(y=!0)}y&&(h.vertical?u.canvasWidth=a.height*r._viewport.scale:u.canvasWidth=a.width*r._viewport.scale);r._textDivProperties.set(l,u);r._textContentStream&&r._layoutText(l);if(r._enhanceTextSelection){var w=1,C=0;if(0!==d){w=Math.cos(d);C=Math.sin(d)}var P,k,R=(h.vertical?a.height:a.width)*r._viewport.scale,A=g;if(0!==d){P=[w,C,-C,w,p,m];k=i.Util.getAxialAlignedBoundingBox([0,0,R,A],P)}else k=[p,m,p+R,m+A];r._bounds.push({left:k[0],top:k[1],right:k[2],bottom:k[3],div:l,size:[R,A],m:P})}}}function render(t){if(!t._canceled){var r=t._textDivs,a=t._capability,i=r.length;if(i>1e5){t._renderingDone=!0;a.resolve()}else{if(!t._textContentStream)for(var o=0;o<i;o++)t._layoutText(r[o]);t._renderingDone=!0;a.resolve()}}}function findPositiveMin(t,r,a){for(var i=0,o=0;o<a;o++){var l=t[r++];l>0&&(i=i?Math.min(l,i):l)}return i}function expand(t){for(var r=t._bounds,a=t._viewport,o=function expandBounds(t,r,a){var i=a.map((function(t,r){return{x1:t.left,y1:t.top,x2:t.right,y2:t.bottom,index:r,x1New:void 0,x2New:void 0}}));expandBoundsLTR(t,i);var o=new Array(a.length);i.forEach((function(t){var r=t.index;o[r]={left:t.x1New,top:0,right:t.x2New,bottom:0}}));a.map((function(r,a){var l=o[a],u=i[a];u.x1=r.top;u.y1=t-l.right;u.x2=r.bottom;u.y2=t-l.left;u.index=a;u.x1New=void 0;u.x2New=void 0}));expandBoundsLTR(r,i);i.forEach((function(t){var r=t.index;o[r].top=t.x1New;o[r].bottom=t.x2New}));return o}(a.width,a.height,r),l=function _loop(a){var l=r[a].div,u=t._textDivProperties.get(l);if(0===u.angle){u.paddingLeft=r[a].left-o[a].left;u.paddingTop=r[a].top-o[a].top;u.paddingRight=o[a].right-r[a].right;u.paddingBottom=o[a].bottom-r[a].bottom;t._textDivProperties.set(l,u);return"continue"}var c=o[a],d=r[a],h=d.m,p=h[0],m=h[1],g=[[0,0],[0,d.size[1]],[d.size[0],0],d.size],v=new Float64Array(64);g.forEach((function(t,r){var a=i.Util.applyTransform(t,h);v[r+0]=p&&(c.left-a[0])/p;v[r+4]=m&&(c.top-a[1])/m;v[r+8]=p&&(c.right-a[0])/p;v[r+12]=m&&(c.bottom-a[1])/m;v[r+16]=m&&(c.left-a[0])/-m;v[r+20]=p&&(c.top-a[1])/p;v[r+24]=m&&(c.right-a[0])/-m;v[r+28]=p&&(c.bottom-a[1])/p;v[r+32]=p&&(c.left-a[0])/-p;v[r+36]=m&&(c.top-a[1])/-m;v[r+40]=p&&(c.right-a[0])/-p;v[r+44]=m&&(c.bottom-a[1])/-m;v[r+48]=m&&(c.left-a[0])/m;v[r+52]=p&&(c.top-a[1])/-p;v[r+56]=m&&(c.right-a[0])/m;v[r+60]=p&&(c.bottom-a[1])/-p}));var y=1+Math.min(Math.abs(p),Math.abs(m));u.paddingLeft=findPositiveMin(v,32,16)/y;u.paddingTop=findPositiveMin(v,48,16)/y;u.paddingRight=findPositiveMin(v,0,16)/y;u.paddingBottom=findPositiveMin(v,16,16)/y;t._textDivProperties.set(l,u)},u=0;u<o.length;u++)l(u)}function expandBoundsLTR(t,r){r.sort((function(t,r){return t.x1-r.x1||t.index-r.index}));var a=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];r.forEach((function(t){for(var r=0;r<a.length&&a[r].end<=t.y1;)r++;for(var i,o,l=a.length-1;l>=0&&a[l].start>=t.y2;)l--;var u,c,d=-1/0;for(u=r;u<=l;u++){var h=void 0;(h=(o=(i=a[u]).boundary).x2>t.x1?o.index>t.index?o.x1New:t.x1:void 0===o.x2New?(o.x2+t.x1)/2:o.x2New)>d&&(d=h)}t.x1New=d;for(u=r;u<=l;u++)void 0===(o=(i=a[u]).boundary).x2New?o.x2>t.x1?o.index>t.index&&(o.x2New=o.x2):o.x2New=d:o.x2New>d&&(o.x2New=Math.max(d,o.x2));var p=[],m=null;for(u=r;u<=l;u++){var g=(o=(i=a[u]).boundary).x2>t.x2?o:t;if(m===g)p[p.length-1].end=i.end;else{p.push({start:i.start,end:i.end,boundary:g});m=g}}if(a[r].start<t.y1){p[0].start=t.y1;p.unshift({start:a[r].start,end:t.y1,boundary:a[r].boundary})}if(t.y2<a[l].end){p[p.length-1].end=t.y2;p.push({start:t.y2,end:a[l].end,boundary:a[l].boundary})}for(u=r;u<=l;u++)if(void 0===(o=(i=a[u]).boundary).x2New){var v=!1;for(c=r-1;!v&&c>=0&&a[c].start>=o.y1;c--)v=a[c].boundary===o;for(c=l+1;!v&&c<a.length&&a[c].end<=o.y2;c++)v=a[c].boundary===o;for(c=0;!v&&c<p.length;c++)v=p[c].boundary===o;v||(o.x2New=d)}Array.prototype.splice.apply(a,[r,l-r+1].concat(p))}));a.forEach((function(r){var a=r.boundary;void 0===a.x2New&&(a.x2New=Math.max(t,a.x2))}))}function TextLayerRenderTask(t){var r,a=this,o=t.textContent,l=t.textContentStream,u=t.container,c=t.viewport,d=t.textDivs,h=t.textContentItemsStr,p=t.enhanceTextSelection;this._textContent=o;this._textContentStream=l;this._container=u;this._document=u.ownerDocument;this._viewport=c;this._textDivs=d||[];this._textContentItemsStr=h||[];this._enhanceTextSelection=!!p;this._fontInspectorEnabled=!(null===(r=globalThis.FontInspector)||void 0===r||!r.enabled);this._reader=null;this._layoutTextLastFontSize=null;this._layoutTextLastFontFamily=null;this._layoutTextCtx=null;this._textDivProperties=new WeakMap;this._renderingDone=!1;this._canceled=!1;this._capability=(0,i.createPromiseCapability)();this._renderTimer=null;this._bounds=[];this._capability.promise.finally((function(){if(a._layoutTextCtx){a._layoutTextCtx.canvas.width=0;a._layoutTextCtx.canvas.height=0;a._layoutTextCtx=null}})).catch((function(){}))}TextLayerRenderTask.prototype={get promise(){return this._capability.promise},cancel:function TextLayer_cancel(){this._canceled=!0;if(this._reader){this._reader.cancel(new i.AbortException("TextLayer task cancelled."));this._reader=null}if(null!==this._renderTimer){clearTimeout(this._renderTimer);this._renderTimer=null}this._capability.reject(new Error("TextLayer task cancelled."))},_processItems:function _processItems(t,r){for(var a=0,i=t.length;a<i;a++){this._textContentItemsStr.push(t[a].str);appendText(this,t[a],r)}},_layoutText:function _layoutText(t){var r=this._textDivProperties.get(t);if(!r.isWhitespace){var a="";if(0!==r.canvasWidth){var i=t.style,o=i.fontSize,l=i.fontFamily;if(o!==this._layoutTextLastFontSize||l!==this._layoutTextLastFontFamily){this._layoutTextCtx.font="".concat(o," ").concat(l);this._layoutTextLastFontSize=o;this._layoutTextLastFontFamily=l}var u=this._layoutTextCtx.measureText(t.textContent).width;if(u>0){r.scale=r.canvasWidth/u;a="scaleX(".concat(r.scale,")")}}0!==r.angle&&(a="rotate(".concat(r.angle,"deg) ").concat(a));if(a.length>0){this._enhanceTextSelection&&(r.originalTransform=a);t.style.transform=a}this._textDivProperties.set(t,r);this._container.appendChild(t)}},_render:function TextLayer_render(t){var r=this,a=(0,i.createPromiseCapability)(),o=Object.create(null),l=this._document.createElement("canvas");l.mozOpaque=!0;this._layoutTextCtx=l.getContext("2d",{alpha:!1});if(this._textContent){var u=this._textContent.items,c=this._textContent.styles;this._processItems(u,c);a.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');this._reader=this._textContentStream.getReader();!function pump(){r._reader.read().then((function(t){var i=t.value;if(t.done)a.resolve();else{Object.assign(o,i.styles);r._processItems(i.items,o);pump()}}),a.reject)}()}a.promise.then((function(){o=null;t?r._renderTimer=setTimeout((function(){render(r);r._renderTimer=null}),t):render(r)}),this._capability.reject)},expandTextDivs:function TextLayer_expandTextDivs(t){if(this._enhanceTextSelection&&this._renderingDone){if(null!==this._bounds){expand(this);this._bounds=null}for(var r=[],a=[],i=0,o=this._textDivs.length;i<o;i++){var l=this._textDivs[i],u=this._textDivProperties.get(l);if(!u.isWhitespace)if(t){r.length=0;a.length=0;u.originalTransform&&r.push(u.originalTransform);if(u.paddingTop>0){a.push("".concat(u.paddingTop,"px"));r.push("translateY(".concat(-u.paddingTop,"px)"))}else a.push(0);u.paddingRight>0?a.push("".concat(u.paddingRight/u.scale,"px")):a.push(0);u.paddingBottom>0?a.push("".concat(u.paddingBottom,"px")):a.push(0);if(u.paddingLeft>0){a.push("".concat(u.paddingLeft/u.scale,"px"));r.push("translateX(".concat(-u.paddingLeft/u.scale,"px)"))}else a.push(0);l.style.padding=a.join(" ");r.length&&(l.style.transform=r.join(" "))}else{l.style.padding=null;l.style.transform=u.originalTransform}}}}};return function renderTextLayer(t){var r=new TextLayerRenderTask({textContent:t.textContent,textContentStream:t.textContentStream,container:t.container,viewport:t.viewport,textDivs:t.textDivs,textContentItemsStr:t.textContentItemsStr,enhanceTextSelection:t.enhanceTextSelection});r._render(t.timeout);return r}}();r.renderTextLayer=o},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.SVGGraphics=void 0;var i=a(4),o=a(1);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var a=[],i=!0,o=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){a.push(u.value);if(r&&a.length===r)break}}catch(t){o=!0;l=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw l}}return a}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _createForOfIteratorHelper(t,r){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){a&&(t=a);var i=0,o=function F(){};return{s:o,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){a=t[Symbol.iterator]()},n:function n(){var t=a.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==a.return||a.return()}finally{if(c)throw l}}}}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);return"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}var l=function SVGGraphics(){throw new Error("Not implemented: SVGGraphics")};r.SVGGraphics=l;var u=function pf(t){if(Number.isInteger(t))return t.toString();var r=t.toFixed(10),a=r.length-1;if("0"!==r[a])return r;do{a--}while("0"===r[a]);return r.substring(0,"."===r[a]?a:a+1)},c=function pm(t){if(0===t[4]&&0===t[5]){if(0===t[1]&&0===t[2])return 1===t[0]&&1===t[3]?"":"scale(".concat(u(t[0])," ").concat(u(t[3]),")");if(t[0]===t[3]&&t[1]===-t[2]){var r=180*Math.acos(t[0])/Math.PI;return"rotate(".concat(u(r),")")}}else if(1===t[0]&&0===t[1]&&0===t[2]&&1===t[3])return"translate(".concat(u(t[4])," ").concat(u(t[5]),")");return"matrix(".concat(u(t[0])," ").concat(u(t[1])," ").concat(u(t[2])," ").concat(u(t[3])," ").concat(u(t[4])," ")+"".concat(u(t[5]),")")},d={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},h=["butt","round","square"],p=["miter","round","bevel"],m=function(){for(var t=new Uint8Array([137,80,78,71,13,10,26,10]),r=new Int32Array(256),a=0;a<256;a++){for(var o=a,l=0;l<8;l++)o=1&o?3988292384^o>>1&2147483647:o>>1&2147483647;r[a]=o}function writePngChunk(t,a,i,o){var l=o,u=a.length;i[l]=u>>24&255;i[l+1]=u>>16&255;i[l+2]=u>>8&255;i[l+3]=255&u;i[l+=4]=255&t.charCodeAt(0);i[l+1]=255&t.charCodeAt(1);i[l+2]=255&t.charCodeAt(2);i[l+3]=255&t.charCodeAt(3);l+=4;i.set(a,l);var c=function crc32(t,a,i){for(var o=-1,l=a;l<i;l++){var u=255&(o^t[l]);o=o>>>8^r[u]}return-1^o}(i,o+4,l+=a.length);i[l]=c>>24&255;i[l+1]=c>>16&255;i[l+2]=c>>8&255;i[l+3]=255&c}function deflateSync(t){return function deflateSyncUncompressed(t){var r=t.length,a=65535,i=Math.ceil(r/a),o=new Uint8Array(2+r+5*i+4),l=0;o[l++]=120;o[l++]=156;var u=0;for(;r>a;){o[l++]=0;o[l++]=255;o[l++]=255;o[l++]=0;o[l++]=0;o.set(t.subarray(u,u+a),l);l+=a;u+=a;r-=a}o[l++]=1;o[l++]=255&r;o[l++]=r>>8&255;o[l++]=255&~r;o[l++]=(65535&~r)>>8&255;o.set(t.subarray(u),l);l+=t.length-u;var c=function adler32(t,r,a){for(var i=1,o=0,l=r;l<a;++l)o=(o+(i=(i+(255&t[l]))%65521))%65521;return o<<16|i}(t,0,t.length);o[l++]=c>>24&255;o[l++]=c>>16&255;o[l++]=c>>8&255;o[l++]=255&c;return o}(t)}return function convertImgDataToPng(r,a,o){return function encode(r,a,o,l){var u,c,d,h=r.width,p=r.height,m=r.data;switch(a){case i.ImageKind.GRAYSCALE_1BPP:c=0;u=1;d=h+7>>3;break;case i.ImageKind.RGB_24BPP:c=2;u=8;d=3*h;break;case i.ImageKind.RGBA_32BPP:c=6;u=8;d=4*h;break;default:throw new Error("invalid format")}for(var g=new Uint8Array((1+d)*p),v=0,y=0,b=0;b<p;++b){g[v++]=0;g.set(m.subarray(y,y+d),v);y+=d;v+=d}if(a===i.ImageKind.GRAYSCALE_1BPP&&l){v=0;for(var S=0;S<p;S++){v++;for(var w=0;w<d;w++)g[v++]^=255}}var C=new Uint8Array([h>>24&255,h>>16&255,h>>8&255,255&h,p>>24&255,p>>16&255,p>>8&255,255&p,u,c,0,0,0]),P=deflateSync(g),k=t.length+36+C.length+P.length,R=new Uint8Array(k),A=0;R.set(t,A);writePngChunk("IHDR",C,R,A+=t.length);writePngChunk("IDATA",P,R,A+=12+C.length);A+=12+P.length;writePngChunk("IEND",new Uint8Array(0),R,A);return(0,i.createObjectURL)(R,"image/png",o)}(r,void 0===r.kind?i.ImageKind.GRAYSCALE_1BPP:r.kind,a,o)}}(),g=function(){function SVGExtraState(){_classCallCheck(this,SVGExtraState);this.fontSizeScale=1;this.fontWeight=d.fontWeight;this.fontSize=0;this.textMatrix=i.IDENTITY_MATRIX;this.fontMatrix=i.FONT_IDENTITY_MATRIX;this.leading=0;this.textRenderingMode=i.TextRenderingMode.FILL;this.textMatrixScale=1;this.x=0;this.y=0;this.lineX=0;this.lineY=0;this.charSpacing=0;this.wordSpacing=0;this.textHScale=1;this.textRise=0;this.fillColor=d.fillColor;this.strokeColor="#000000";this.fillAlpha=1;this.strokeAlpha=1;this.lineWidth=1;this.lineJoin="";this.lineCap="";this.miterLimit=0;this.dashArray=[];this.dashPhase=0;this.dependencies=[];this.activeClipUrl=null;this.clipGroup=null;this.maskId=""}_createClass(SVGExtraState,[{key:"clone",value:function clone(){return Object.create(this)}},{key:"setCurrentPoint",value:function setCurrentPoint(t,r){this.x=t;this.y=r}}]);return SVGExtraState}(),v=0,y=0,b=0;r.SVGGraphics=l=function(){function SVGGraphics(t,r){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,SVGGraphics);this.svgFactory=new o.DOMSVGFactory;this.current=new g;this.transformMatrix=i.IDENTITY_MATRIX;this.transformStack=[];this.extraStack=[];this.commonObjs=t;this.objs=r;this.pendingClip=null;this.pendingEOFill=!1;this.embedFonts=!1;this.embeddedFonts=Object.create(null);this.cssStyle=null;this.forceDataSchema=!!a;this._operatorIdMapping=[];for(var l in i.OPS)this._operatorIdMapping[i.OPS[l]]=l}_createClass(SVGGraphics,[{key:"save",value:function save(){this.transformStack.push(this.transformMatrix);var t=this.current;this.extraStack.push(t);this.current=t.clone()}},{key:"restore",value:function restore(){this.transformMatrix=this.transformStack.pop();this.current=this.extraStack.pop();this.pendingClip=null;this.tgrp=null}},{key:"group",value:function group(t){this.save();this.executeOpTree(t);this.restore()}},{key:"loadDependencies",value:function loadDependencies(t){for(var r=this,a=t.fnArray,o=t.argsArray,l=0,u=a.length;l<u;l++)if(a[l]===i.OPS.dependency){var c,d=_createForOfIteratorHelper(o[l]);try{var h=function _loop(){var t=c.value,a=t.startsWith("g_")?r.commonObjs:r.objs,i=new Promise((function(r){a.get(t,r)}));r.current.dependencies.push(i)};for(d.s();!(c=d.n()).done;)h()}catch(t){d.e(t)}finally{d.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function transform(t,r,a,o,l,u){var c=[t,r,a,o,l,u];this.transformMatrix=i.Util.transform(this.transformMatrix,c);this.tgrp=null}},{key:"getSVG",value:function getSVG(t,r){var a=this;this.viewport=r;var o=this._initialize(r);return this.loadDependencies(t).then((function(){a.transformMatrix=i.IDENTITY_MATRIX;a.executeOpTree(a.convertOpList(t));return o}))}},{key:"convertOpList",value:function convertOpList(t){for(var r=this._operatorIdMapping,a=t.argsArray,i=t.fnArray,o=[],l=0,u=i.length;l<u;l++){var c=i[l];o.push({fnId:c,fn:r[c],args:a[l]})}return function opListToTree(t){var r,a=[],i=[],o=_createForOfIteratorHelper(t);try{for(o.s();!(r=o.n()).done;){var l=r.value;if("save"!==l.fn)"restore"===l.fn?a=i.pop():a.push(l);else{a.push({fnId:92,fn:"group",items:[]});i.push(a);a=a[a.length-1].items}}}catch(t){o.e(t)}finally{o.f()}return a}(o)}},{key:"executeOpTree",value:function executeOpTree(t){var r,a=_createForOfIteratorHelper(t);try{for(a.s();!(r=a.n()).done;){var o=r.value,l=o.fn,u=o.fnId,c=o.args;switch(0|u){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(c);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(c[0],c[1]);break;case i.OPS.setFont:this.setFont(c);break;case i.OPS.showText:case i.OPS.showSpacedText:this.showText(c[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(c[0],c[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(c[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(c[0]);break;case i.OPS.setHScale:this.setHScale(c[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(c[0],c[1],c[2],c[3],c[4],c[5]);break;case i.OPS.setTextRise:this.setTextRise(c[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(c[0]);break;case i.OPS.setLineWidth:this.setLineWidth(c[0]);break;case i.OPS.setLineJoin:this.setLineJoin(c[0]);break;case i.OPS.setLineCap:this.setLineCap(c[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(c[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(c[0],c[1],c[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(c[0],c[1],c[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(c);break;case i.OPS.setFillColorN:this.setFillColorN(c);break;case i.OPS.shadingFill:this.shadingFill(c[0]);break;case i.OPS.setDash:this.setDash(c[0],c[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(c[0]);break;case i.OPS.setFlatness:this.setFlatness(c[0]);break;case i.OPS.setGState:this.setGState(c[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(c[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(c[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(c[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(c[0],c[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(c[0],c[1],c[2],c[3],c[4],c[5]);break;case i.OPS.constructPath:this.constructPath(c[0],c[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(o.items);break;default:(0,i.warn)("Unimplemented operator ".concat(l))}}}catch(t){a.e(t)}finally{a.f()}}},{key:"setWordSpacing",value:function setWordSpacing(t){this.current.wordSpacing=t}},{key:"setCharSpacing",value:function setCharSpacing(t){this.current.charSpacing=t}},{key:"nextLine",value:function nextLine(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function setTextMatrix(t,r,a,i,o,l){var c=this.current;c.textMatrix=c.lineMatrix=[t,r,a,i,o,l];c.textMatrixScale=Math.sqrt(t*t+r*r);c.x=c.lineX=0;c.y=c.lineY=0;c.xcoords=[];c.ycoords=[];c.tspan=this.svgFactory.createElement("svg:tspan");c.tspan.setAttributeNS(null,"font-family",c.fontFamily);c.tspan.setAttributeNS(null,"font-size","".concat(u(c.fontSize),"px"));c.tspan.setAttributeNS(null,"y",u(-c.y));c.txtElement=this.svgFactory.createElement("svg:text");c.txtElement.appendChild(c.tspan)}},{key:"beginText",value:function beginText(){var t=this.current;t.x=t.lineX=0;t.y=t.lineY=0;t.textMatrix=i.IDENTITY_MATRIX;t.lineMatrix=i.IDENTITY_MATRIX;t.textMatrixScale=1;t.tspan=this.svgFactory.createElement("svg:tspan");t.txtElement=this.svgFactory.createElement("svg:text");t.txtgrp=this.svgFactory.createElement("svg:g");t.xcoords=[];t.ycoords=[]}},{key:"moveText",value:function moveText(t,r){var a=this.current;a.x=a.lineX+=t;a.y=a.lineY+=r;a.xcoords=[];a.ycoords=[];a.tspan=this.svgFactory.createElement("svg:tspan");a.tspan.setAttributeNS(null,"font-family",a.fontFamily);a.tspan.setAttributeNS(null,"font-size","".concat(u(a.fontSize),"px"));a.tspan.setAttributeNS(null,"y",u(-a.y))}},{key:"showText",value:function showText(t){var r=this.current,a=r.font,o=r.fontSize;if(0!==o){var l,h=r.fontSizeScale,p=r.charSpacing,m=r.wordSpacing,g=r.fontDirection,v=r.textHScale*g,y=a.vertical,b=y?1:-1,S=a.defaultVMetrics,w=o*r.fontMatrix[0],C=0,P=_createForOfIteratorHelper(t);try{for(P.s();!(l=P.n()).done;){var k=l.value;if(null!==k)if((0,i.isNum)(k))C+=b*k*o/1e3;else{var R=(k.isSpace?m:0)+p,A=k.fontChar,T=void 0,E=void 0,x=k.width;if(y){var I=void 0,O=k.vmetric||S;I=-(I=k.vmetric?O[1]:.5*x)*w;var L=O[2]*w;x=O?-O[0]:x;T=I/h;E=(C+L)/h}else{T=C/h;E=0}if(k.isInFont||a.missingFile){r.xcoords.push(r.x+T);y&&r.ycoords.push(-r.y+E);r.tspan.textContent+=A}C+=y?x*w-R*g:x*w+R*g}else C+=g*m}}catch(t){P.e(t)}finally{P.f()}r.tspan.setAttributeNS(null,"x",r.xcoords.map(u).join(" "));y?r.tspan.setAttributeNS(null,"y",r.ycoords.map(u).join(" ")):r.tspan.setAttributeNS(null,"y",u(-r.y));y?r.y-=C:r.x+=C*v;r.tspan.setAttributeNS(null,"font-family",r.fontFamily);r.tspan.setAttributeNS(null,"font-size","".concat(u(r.fontSize),"px"));r.fontStyle!==d.fontStyle&&r.tspan.setAttributeNS(null,"font-style",r.fontStyle);r.fontWeight!==d.fontWeight&&r.tspan.setAttributeNS(null,"font-weight",r.fontWeight);var D=r.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;if(D===i.TextRenderingMode.FILL||D===i.TextRenderingMode.FILL_STROKE){r.fillColor!==d.fillColor&&r.tspan.setAttributeNS(null,"fill",r.fillColor);r.fillAlpha<1&&r.tspan.setAttributeNS(null,"fill-opacity",r.fillAlpha)}else r.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?r.tspan.setAttributeNS(null,"fill","transparent"):r.tspan.setAttributeNS(null,"fill","none");if(D===i.TextRenderingMode.STROKE||D===i.TextRenderingMode.FILL_STROKE){var M=1/(r.textMatrixScale||1);this._setStrokeAttributes(r.tspan,M)}var B=r.textMatrix;0!==r.textRise&&((B=B.slice())[5]+=r.textRise);r.txtElement.setAttributeNS(null,"transform","".concat(c(B)," scale(").concat(u(v),", -1)"));r.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve");r.txtElement.appendChild(r.tspan);r.txtgrp.appendChild(r.txtElement);this._ensureTransformGroup().appendChild(r.txtElement)}}},{key:"setLeadingMoveText",value:function setLeadingMoveText(t,r){this.setLeading(-r);this.moveText(t,r)}},{key:"addFontStyle",value:function addFontStyle(t){if(!t.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');if(!this.cssStyle){this.cssStyle=this.svgFactory.createElement("svg:style");this.cssStyle.setAttributeNS(null,"type","text/css");this.defs.appendChild(this.cssStyle)}var r=(0,i.createObjectURL)(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(t.loadedName,'";')+" src: url(".concat(r,"); }\n")}},{key:"setFont",value:function setFont(t){var r=this.current,a=this.commonObjs.get(t[0]),o=t[1];r.font=a;if(this.embedFonts&&!a.missingFile&&!this.embeddedFonts[a.loadedName]){this.addFontStyle(a);this.embeddedFonts[a.loadedName]=a}r.fontMatrix=a.fontMatrix||i.FONT_IDENTITY_MATRIX;var l="normal";a.black?l="900":a.bold&&(l="bold");var c=a.italic?"italic":"normal";if(o<0){o=-o;r.fontDirection=-1}else r.fontDirection=1;r.fontSize=o;r.fontFamily=a.loadedName;r.fontWeight=l;r.fontStyle=c;r.tspan=this.svgFactory.createElement("svg:tspan");r.tspan.setAttributeNS(null,"y",u(-r.y));r.xcoords=[];r.ycoords=[]}},{key:"endText",value:function endText(){var t,r=this.current;if(r.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&null!==(t=r.txtElement)&&void 0!==t&&t.hasChildNodes()){r.element=r.txtElement;this.clip("nonzero");this.endPath()}}},{key:"setLineWidth",value:function setLineWidth(t){t>0&&(this.current.lineWidth=t)}},{key:"setLineCap",value:function setLineCap(t){this.current.lineCap=h[t]}},{key:"setLineJoin",value:function setLineJoin(t){this.current.lineJoin=p[t]}},{key:"setMiterLimit",value:function setMiterLimit(t){this.current.miterLimit=t}},{key:"setStrokeAlpha",value:function setStrokeAlpha(t){this.current.strokeAlpha=t}},{key:"setStrokeRGBColor",value:function setStrokeRGBColor(t,r,a){this.current.strokeColor=i.Util.makeHexColor(t,r,a)}},{key:"setFillAlpha",value:function setFillAlpha(t){this.current.fillAlpha=t}},{key:"setFillRGBColor",value:function setFillRGBColor(t,r,a){this.current.fillColor=i.Util.makeHexColor(t,r,a);this.current.tspan=this.svgFactory.createElement("svg:tspan");this.current.xcoords=[];this.current.ycoords=[]}},{key:"setStrokeColorN",value:function setStrokeColorN(t){this.current.strokeColor=this._makeColorN_Pattern(t)}},{key:"setFillColorN",value:function setFillColorN(t){this.current.fillColor=this._makeColorN_Pattern(t)}},{key:"shadingFill",value:function shadingFill(t){var r=this.viewport.width,a=this.viewport.height,o=i.Util.inverseTransform(this.transformMatrix),l=i.Util.applyTransform([0,0],o),u=i.Util.applyTransform([0,a],o),c=i.Util.applyTransform([r,0],o),d=i.Util.applyTransform([r,a],o),h=Math.min(l[0],u[0],c[0],d[0]),p=Math.min(l[1],u[1],c[1],d[1]),m=Math.max(l[0],u[0],c[0],d[0]),g=Math.max(l[1],u[1],c[1],d[1]),v=this.svgFactory.createElement("svg:rect");v.setAttributeNS(null,"x",h);v.setAttributeNS(null,"y",p);v.setAttributeNS(null,"width",m-h);v.setAttributeNS(null,"height",g-p);v.setAttributeNS(null,"fill",this._makeShadingPattern(t));this.current.fillAlpha<1&&v.setAttributeNS(null,"fill-opacity",this.current.fillAlpha);this._ensureTransformGroup().appendChild(v)}},{key:"_makeColorN_Pattern",value:function _makeColorN_Pattern(t){return"TilingPattern"===t[0]?this._makeTilingPattern(t):this._makeShadingPattern(t)}},{key:"_makeTilingPattern",value:function _makeTilingPattern(t){var r=t[1],a=t[2],o=t[3]||i.IDENTITY_MATRIX,l=_slicedToArray(t[4],4),u=l[0],c=l[1],d=l[2],h=l[3],p=t[5],m=t[6],g=t[7],v="shading".concat(b++),y=_slicedToArray(i.Util.applyTransform([u,c],o),2),S=y[0],w=y[1],C=_slicedToArray(i.Util.applyTransform([d,h],o),2),P=C[0],k=C[1],R=_slicedToArray(i.Util.singularValueDecompose2dScale(o),2),A=p*R[0],T=m*R[1],E=this.svgFactory.createElement("svg:pattern");E.setAttributeNS(null,"id",v);E.setAttributeNS(null,"patternUnits","userSpaceOnUse");E.setAttributeNS(null,"width",A);E.setAttributeNS(null,"height",T);E.setAttributeNS(null,"x","".concat(S));E.setAttributeNS(null,"y","".concat(w));var x=this.svg,I=this.transformMatrix,O=this.current.fillColor,L=this.current.strokeColor,D=this.svgFactory.create(P-S,k-w);this.svg=D;this.transformMatrix=o;if(2===g){var M=i.Util.makeHexColor.apply(i.Util,_toConsumableArray(r));this.current.fillColor=M;this.current.strokeColor=M}this.executeOpTree(this.convertOpList(a));this.svg=x;this.transformMatrix=I;this.current.fillColor=O;this.current.strokeColor=L;E.appendChild(D.childNodes[0]);this.defs.appendChild(E);return"url(#".concat(v,")")}},{key:"_makeShadingPattern",value:function _makeShadingPattern(t){switch(t[0]){case"RadialAxial":var r,a="shading".concat(b++),o=t[3];switch(t[1]){case"axial":var l=t[4],u=t[5];(r=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",a);r.setAttributeNS(null,"gradientUnits","userSpaceOnUse");r.setAttributeNS(null,"x1",l[0]);r.setAttributeNS(null,"y1",l[1]);r.setAttributeNS(null,"x2",u[0]);r.setAttributeNS(null,"y2",u[1]);break;case"radial":var c=t[4],d=t[5],h=t[6],p=t[7];(r=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",a);r.setAttributeNS(null,"gradientUnits","userSpaceOnUse");r.setAttributeNS(null,"cx",d[0]);r.setAttributeNS(null,"cy",d[1]);r.setAttributeNS(null,"r",p);r.setAttributeNS(null,"fx",c[0]);r.setAttributeNS(null,"fy",c[1]);r.setAttributeNS(null,"fr",h);break;default:throw new Error("Unknown RadialAxial type: ".concat(t[1]))}var m,g=_createForOfIteratorHelper(o);try{for(g.s();!(m=g.n()).done;){var v=m.value,y=this.svgFactory.createElement("svg:stop");y.setAttributeNS(null,"offset",v[0]);y.setAttributeNS(null,"stop-color",v[1]);r.appendChild(y)}}catch(t){g.e(t)}finally{g.f()}this.defs.appendChild(r);return"url(#".concat(a,")");case"Mesh":(0,i.warn)("Unimplemented pattern Mesh");return null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(t[0]))}}},{key:"setDash",value:function setDash(t,r){this.current.dashArray=t;this.current.dashPhase=r}},{key:"constructPath",value:function constructPath(t,r){var a,o=this.current,l=o.x,c=o.y,d=[],h=0,p=_createForOfIteratorHelper(t);try{for(p.s();!(a=p.n()).done;){switch(0|a.value){case i.OPS.rectangle:l=r[h++];c=r[h++];var m=r[h++],g=r[h++],v=l+m,y=c+g;d.push("M",u(l),u(c),"L",u(v),u(c),"L",u(v),u(y),"L",u(l),u(y),"Z");break;case i.OPS.moveTo:l=r[h++];c=r[h++];d.push("M",u(l),u(c));break;case i.OPS.lineTo:l=r[h++];c=r[h++];d.push("L",u(l),u(c));break;case i.OPS.curveTo:l=r[h+4];c=r[h+5];d.push("C",u(r[h]),u(r[h+1]),u(r[h+2]),u(r[h+3]),u(l),u(c));h+=6;break;case i.OPS.curveTo2:d.push("C",u(l),u(c),u(r[h]),u(r[h+1]),u(r[h+2]),u(r[h+3]));l=r[h+2];c=r[h+3];h+=4;break;case i.OPS.curveTo3:l=r[h+2];c=r[h+3];d.push("C",u(r[h]),u(r[h+1]),u(l),u(c),u(l),u(c));h+=4;break;case i.OPS.closePath:d.push("Z")}}}catch(t){p.e(t)}finally{p.f()}d=d.join(" ");if(o.path&&t.length>0&&t[0]!==i.OPS.rectangle&&t[0]!==i.OPS.moveTo)d=o.path.getAttributeNS(null,"d")+d;else{o.path=this.svgFactory.createElement("svg:path");this._ensureTransformGroup().appendChild(o.path)}o.path.setAttributeNS(null,"d",d);o.path.setAttributeNS(null,"fill","none");o.element=o.path;o.setCurrentPoint(l,c)}},{key:"endPath",value:function endPath(){var t=this.current;t.path=null;if(this.pendingClip)if(t.element){var r="clippath".concat(v++),a=this.svgFactory.createElement("svg:clipPath");a.setAttributeNS(null,"id",r);a.setAttributeNS(null,"transform",c(this.transformMatrix));var i=t.element.cloneNode(!0);"evenodd"===this.pendingClip?i.setAttributeNS(null,"clip-rule","evenodd"):i.setAttributeNS(null,"clip-rule","nonzero");this.pendingClip=null;a.appendChild(i);this.defs.appendChild(a);if(t.activeClipUrl){t.clipGroup=null;this.extraStack.forEach((function(t){t.clipGroup=null}));a.setAttributeNS(null,"clip-path",t.activeClipUrl)}t.activeClipUrl="url(#".concat(r,")");this.tgrp=null}else this.pendingClip=null}},{key:"clip",value:function clip(t){this.pendingClip=t}},{key:"closePath",value:function closePath(){var t=this.current;if(t.path){var r="".concat(t.path.getAttributeNS(null,"d"),"Z");t.path.setAttributeNS(null,"d",r)}}},{key:"setLeading",value:function setLeading(t){this.current.leading=-t}},{key:"setTextRise",value:function setTextRise(t){this.current.textRise=t}},{key:"setTextRenderingMode",value:function setTextRenderingMode(t){this.current.textRenderingMode=t}},{key:"setHScale",value:function setHScale(t){this.current.textHScale=t/100}},{key:"setRenderingIntent",value:function setRenderingIntent(t){}},{key:"setFlatness",value:function setFlatness(t){}},{key:"setGState",value:function setGState(t){var r,a=_createForOfIteratorHelper(t);try{for(a.s();!(r=a.n()).done;){var o=_slicedToArray(r.value,2),l=o[0],u=o[1];switch(l){case"LW":this.setLineWidth(u);break;case"LC":this.setLineCap(u);break;case"LJ":this.setLineJoin(u);break;case"ML":this.setMiterLimit(u);break;case"D":this.setDash(u[0],u[1]);break;case"RI":this.setRenderingIntent(u);break;case"FL":this.setFlatness(u);break;case"Font":this.setFont(u);break;case"CA":this.setStrokeAlpha(u);break;case"ca":this.setFillAlpha(u);break;default:(0,i.warn)("Unimplemented graphic state operator ".concat(l))}}}catch(t){a.e(t)}finally{a.f()}}},{key:"fill",value:function fill(){var t=this.current;if(t.element){t.element.setAttributeNS(null,"fill",t.fillColor);t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha);this.endPath()}}},{key:"stroke",value:function stroke(){var t=this.current;if(t.element){this._setStrokeAttributes(t.element);t.element.setAttributeNS(null,"fill","none");this.endPath()}}},{key:"_setStrokeAttributes",value:function _setStrokeAttributes(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=this.current,i=a.dashArray;1!==r&&i.length>0&&(i=i.map((function(t){return r*t})));t.setAttributeNS(null,"stroke",a.strokeColor);t.setAttributeNS(null,"stroke-opacity",a.strokeAlpha);t.setAttributeNS(null,"stroke-miterlimit",u(a.miterLimit));t.setAttributeNS(null,"stroke-linecap",a.lineCap);t.setAttributeNS(null,"stroke-linejoin",a.lineJoin);t.setAttributeNS(null,"stroke-width",u(r*a.lineWidth)+"px");t.setAttributeNS(null,"stroke-dasharray",i.map(u).join(" "));t.setAttributeNS(null,"stroke-dashoffset",u(r*a.dashPhase)+"px")}},{key:"eoFill",value:function eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd");this.fill()}},{key:"fillStroke",value:function fillStroke(){this.stroke();this.fill()}},{key:"eoFillStroke",value:function eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd");this.fillStroke()}},{key:"closeStroke",value:function closeStroke(){this.closePath();this.stroke()}},{key:"closeFillStroke",value:function closeFillStroke(){this.closePath();this.fillStroke()}},{key:"closeEOFillStroke",value:function closeEOFillStroke(){this.closePath();this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function paintSolidColorImageMask(){var t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0");t.setAttributeNS(null,"y","0");t.setAttributeNS(null,"width","1px");t.setAttributeNS(null,"height","1px");t.setAttributeNS(null,"fill",this.current.fillColor);this._ensureTransformGroup().appendChild(t)}},{key:"paintImageXObject",value:function paintImageXObject(t){var r=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);r?this.paintInlineImageXObject(r):(0,i.warn)("Dependent image with object ID ".concat(t," is not ready yet"))}},{key:"paintInlineImageXObject",value:function paintInlineImageXObject(t,r){var a=t.width,i=t.height,o=m(t,this.forceDataSchema,!!r),l=this.svgFactory.createElement("svg:rect");l.setAttributeNS(null,"x","0");l.setAttributeNS(null,"y","0");l.setAttributeNS(null,"width",u(a));l.setAttributeNS(null,"height",u(i));this.current.element=l;this.clip("nonzero");var c=this.svgFactory.createElement("svg:image");c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);c.setAttributeNS(null,"x","0");c.setAttributeNS(null,"y",u(-i));c.setAttributeNS(null,"width",u(a)+"px");c.setAttributeNS(null,"height",u(i)+"px");c.setAttributeNS(null,"transform","scale(".concat(u(1/a)," ").concat(u(-1/i),")"));r?r.appendChild(c):this._ensureTransformGroup().appendChild(c)}},{key:"paintImageMaskXObject",value:function paintImageMaskXObject(t){var r=this.current,a=t.width,i=t.height,o=r.fillColor;r.maskId="mask".concat(y++);var l=this.svgFactory.createElement("svg:mask");l.setAttributeNS(null,"id",r.maskId);var c=this.svgFactory.createElement("svg:rect");c.setAttributeNS(null,"x","0");c.setAttributeNS(null,"y","0");c.setAttributeNS(null,"width",u(a));c.setAttributeNS(null,"height",u(i));c.setAttributeNS(null,"fill",o);c.setAttributeNS(null,"mask","url(#".concat(r.maskId,")"));this.defs.appendChild(l);this._ensureTransformGroup().appendChild(c);this.paintInlineImageXObject(t,l)}},{key:"paintFormXObjectBegin",value:function paintFormXObjectBegin(t,r){Array.isArray(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]);if(r){var a=r[2]-r[0],i=r[3]-r[1],o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x",r[0]);o.setAttributeNS(null,"y",r[1]);o.setAttributeNS(null,"width",u(a));o.setAttributeNS(null,"height",u(i));this.current.element=o;this.clip("nonzero");this.endPath()}}},{key:"paintFormXObjectEnd",value:function paintFormXObjectEnd(){}},{key:"_initialize",value:function _initialize(t){var r=this.svgFactory.create(t.width,t.height),a=this.svgFactory.createElement("svg:defs");r.appendChild(a);this.defs=a;var i=this.svgFactory.createElement("svg:g");i.setAttributeNS(null,"transform",c(t.transform));r.appendChild(i);this.svg=i;return r}},{key:"_ensureClipGroup",value:function _ensureClipGroup(){if(!this.current.clipGroup){var t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl);this.svg.appendChild(t);this.current.clipGroup=t}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function _ensureTransformGroup(){if(!this.tgrp){this.tgrp=this.svgFactory.createElement("svg:g");this.tgrp.setAttributeNS(null,"transform",c(this.transformMatrix));this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)}return this.tgrp}}]);return SVGGraphics}()},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFNetworkStream=void 0;var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(a(2)),o=a(4),l=a(154);function asyncGeneratorStep(t,r,a,i,o,l,u){try{var c=t[l](u),d=c.value}catch(t){a(t);return}c.done?r(d):Promise.resolve(d).then(i,o)}function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,o){var l=t.apply(r,a);function _next(t){asyncGeneratorStep(l,i,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,i,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}var u=function(){function NetworkManager(t,r){_classCallCheck(this,NetworkManager);this.url=t;r=r||{};this.isHttp=/^https?:/i.test(t);this.httpHeaders=this.isHttp&&r.httpHeaders||{};this.withCredentials=r.withCredentials||!1;this.getXhr=r.getXhr||function NetworkManager_getXhr(){return new XMLHttpRequest};this.currXhrId=0;this.pendingRequests=Object.create(null)}_createClass(NetworkManager,[{key:"requestRange",value:function requestRange(t,r,a){var i={begin:t,end:r};for(var o in a)i[o]=a[o];return this.request(i)}},{key:"requestFull",value:function requestFull(t){return this.request(t)}},{key:"request",value:function request(t){var r=this.getXhr(),a=this.currXhrId++,i=this.pendingRequests[a]={xhr:r};r.open("GET",this.url);r.withCredentials=this.withCredentials;for(var o in this.httpHeaders){var l=this.httpHeaders[o];void 0!==l&&r.setRequestHeader(o,l)}if(this.isHttp&&"begin"in t&&"end"in t){r.setRequestHeader("Range","bytes=".concat(t.begin,"-").concat(t.end-1));i.expectedStatus=206}else i.expectedStatus=200;r.responseType="arraybuffer";t.onError&&(r.onerror=function(a){t.onError(r.status)});r.onreadystatechange=this.onStateChange.bind(this,a);r.onprogress=this.onProgress.bind(this,a);i.onHeadersReceived=t.onHeadersReceived;i.onDone=t.onDone;i.onError=t.onError;i.onProgress=t.onProgress;r.send(null);return a}},{key:"onProgress",value:function onProgress(t,r){var a=this.pendingRequests[t];a&&a.onProgress&&a.onProgress(r)}},{key:"onStateChange",value:function onStateChange(t,r){var a=this.pendingRequests[t];if(a){var i=a.xhr;if(i.readyState>=2&&a.onHeadersReceived){a.onHeadersReceived();delete a.onHeadersReceived}if(4===i.readyState&&t in this.pendingRequests){delete this.pendingRequests[t];if(0===i.status&&this.isHttp)a.onError&&a.onError(i.status);else{var l=i.status||200;if(200===l&&206===a.expectedStatus||l===a.expectedStatus){var u=function getArrayBuffer(t){var r=t.response;return"string"!=typeof r?r:(0,o.stringToBytes)(r).buffer}(i);if(206===l){var c=i.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);a.onDone({begin:parseInt(d[1],10),chunk:u})}else u?a.onDone({begin:0,chunk:u}):a.onError&&a.onError(i.status)}else a.onError&&a.onError(i.status)}}}}},{key:"getRequestXhr",value:function getRequestXhr(t){return this.pendingRequests[t].xhr}},{key:"isPendingRequest",value:function isPendingRequest(t){return t in this.pendingRequests}},{key:"abortRequest",value:function abortRequest(t){var r=this.pendingRequests[t].xhr;delete this.pendingRequests[t];r.abort()}}]);return NetworkManager}(),c=function(){function PDFNetworkStream(t){_classCallCheck(this,PDFNetworkStream);this._source=t;this._manager=new u(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials});this._rangeChunkSize=t.rangeChunkSize;this._fullRequestReader=null;this._rangeRequestReaders=[]}_createClass(PDFNetworkStream,[{key:"_onRangeRequestReaderClosed",value:function _onRangeRequestReaderClosed(t){var r=this._rangeRequestReaders.indexOf(t);r>=0&&this._rangeRequestReaders.splice(r,1)}},{key:"getFullReader",value:function getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once.");this._fullRequestReader=new d(this._manager,this._source);return this._fullRequestReader}},{key:"getRangeReader",value:function getRangeReader(t,r){var a=new h(this._manager,t,r);a.onClosed=this._onRangeRequestReaderClosed.bind(this);this._rangeRequestReaders.push(a);return a}},{key:"cancelAllRequests",value:function cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);this._rangeRequestReaders.slice(0).forEach((function(r){r.cancel(t)}))}}]);return PDFNetworkStream}();r.PDFNetworkStream=c;var d=function(){function PDFNetworkStreamFullRequestReader(t,r){_classCallCheck(this,PDFNetworkStreamFullRequestReader);this._manager=t;var a={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=r.url;this._fullRequestId=t.requestFull(a);this._headersReceivedCapability=(0,o.createPromiseCapability)();this._disableRange=r.disableRange||!1;this._contentLength=r.length;this._rangeChunkSize=r.rangeChunkSize;this._rangeChunkSize||this._disableRange||(this._disableRange=!0);this._isStreamingSupported=!1;this._isRangeSupported=!1;this._cachedChunks=[];this._requests=[];this._done=!1;this._storedError=void 0;this._filename=null;this.onProgress=null}_createClass(PDFNetworkStreamFullRequestReader,[{key:"_onHeadersReceived",value:function _onHeadersReceived(){var t=this._fullRequestId,r=this._manager.getRequestXhr(t),a=function getResponseHeader(t){return r.getResponseHeader(t)},i=(0,l.validateRangeRequestCapabilities)({getResponseHeader:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),o=i.allowRangeRequests,u=i.suggestedLength;o&&(this._isRangeSupported=!0);this._contentLength=u||this._contentLength;this._filename=(0,l.extractFilenameFromHeader)(a);this._isRangeSupported&&this._manager.abortRequest(t);this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function _onDone(t){if(t)if(this._requests.length>0){this._requests.shift().resolve({value:t.chunk,done:!1})}else this._cachedChunks.push(t.chunk);this._done=!0;if(!(this._cachedChunks.length>0)){this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})}));this._requests=[]}}},{key:"_onError",value:function _onError(t){var r=this._url,a=(0,l.createResponseStatusError)(t,r);this._storedError=a;this._headersReceivedCapability.reject(a);this._requests.forEach((function(t){t.reject(a)}));this._requests=[];this._cachedChunks=[]}},{key:"_onProgress",value:function _onProgress(t){this.onProgress&&this.onProgress({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}},{key:"read",value:(t=_asyncToGenerator(i.default.mark((function _callee(){var t,r;return i.default.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if(!this._storedError){a.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){a.next=5;break}t=this._cachedChunks.shift();return a.abrupt("return",{value:t,done:!1});case 5:if(!this._done){a.next=7;break}return a.abrupt("return",{value:void 0,done:!0});case 7:r=(0,o.createPromiseCapability)();this._requests.push(r);return a.abrupt("return",r.promise);case 10:case"end":return a.stop()}}),_callee,this)}))),function read(){return t.apply(this,arguments)})},{key:"cancel",value:function cancel(t){this._done=!0;this._headersReceivedCapability.reject(t);this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})}));this._requests=[];this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId);this._fullRequestReader=null}},{key:"filename",get:function get(){return this._filename}},{key:"isRangeSupported",get:function get(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function get(){return this._isStreamingSupported}},{key:"contentLength",get:function get(){return this._contentLength}},{key:"headersReady",get:function get(){return this._headersReceivedCapability.promise}}]);var t;return PDFNetworkStreamFullRequestReader}(),h=function(){function PDFNetworkStreamRangeRequestReader(t,r,a){_classCallCheck(this,PDFNetworkStreamRangeRequestReader);this._manager=t;var i={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=t.requestRange(r,a,i);this._requests=[];this._queuedChunk=null;this._done=!1;this.onProgress=null;this.onClosed=null}_createClass(PDFNetworkStreamRangeRequestReader,[{key:"_close",value:function _close(){this.onClosed&&this.onClosed(this)}},{key:"_onDone",value:function _onDone(t){var r=t.chunk;if(this._requests.length>0){this._requests.shift().resolve({value:r,done:!1})}else this._queuedChunk=r;this._done=!0;this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})}));this._requests=[];this._close()}},{key:"_onProgress",value:function _onProgress(t){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:t.loaded})}},{key:"read",value:(t=_asyncToGenerator(i.default.mark((function _callee2(){var t,r;return i.default.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:if(null===this._queuedChunk){a.next=4;break}t=this._queuedChunk;this._queuedChunk=null;return a.abrupt("return",{value:t,done:!1});case 4:if(!this._done){a.next=6;break}return a.abrupt("return",{value:void 0,done:!0});case 6:r=(0,o.createPromiseCapability)();this._requests.push(r);return a.abrupt("return",r.promise);case 9:case"end":return a.stop()}}),_callee2,this)}))),function read(){return t.apply(this,arguments)})},{key:"cancel",value:function cancel(t){this._done=!0;this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})}));this._requests=[];this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId);this._close()}},{key:"isStreamingSupported",get:function get(){return!1}}]);var t;return PDFNetworkStreamRangeRequestReader}()},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.createResponseStatusError=function createResponseStatusError(t,r){if(404===t||0===t&&r.startsWith("file:"))return new i.MissingPDFException('Missing PDF "'+r+'".');return new i.UnexpectedResponseException("Unexpected server response ("+t+') while retrieving PDF "'+r+'".',t)};r.extractFilenameFromHeader=function extractFilenameFromHeader(t){var r=t("Content-Disposition");if(r){var a=(0,o.getFilenameFromContentDispositionHeader)(r);if(a.includes("%"))try{a=decodeURIComponent(a)}catch(t){}if(/\.pdf$/i.test(a))return a}return null};r.validateRangeRequestCapabilities=function validateRangeRequestCapabilities(t){var r=t.getResponseHeader,a=t.isHttp,o=t.rangeChunkSize,l=t.disableRange;(0,i.assert)(o>0,"Range chunk size must be larger than zero");var u={allowRangeRequests:!1,suggestedLength:void 0},c=parseInt(r("Content-Length"),10);if(!Number.isInteger(c))return u;u.suggestedLength=c;if(c<=2*o)return u;if(l||!a)return u;if("bytes"!==r("Accept-Ranges"))return u;if("identity"!==(r("Content-Encoding")||"identity"))return u;u.allowRangeRequests=!0;return u};r.validateResponseStatus=function validateResponseStatus(t){return 200===t||206===t};var i=a(4),o=a(155)},(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.getFilenameFromContentDispositionHeader=function getFilenameFromContentDispositionHeader(t){var r=!0,a=toParamRegExp("filename\\*","i").exec(t);if(a){var i=rfc2616unquote(a=a[1]);return fixupEncoding(i=rfc2047decode(i=rfc5987decode(i=unescape(i))))}if(a=function rfc2231getparam(t){var r,a=[],i=toParamRegExp("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(r=i.exec(t));){var o=_slicedToArray(r,4),l=o[1],u=o[2],c=o[3];if((l=parseInt(l,10))in a){if(0===l)break}else a[l]=[u,c]}for(var d=[],h=0;h<a.length&&h in a;++h){var p=_slicedToArray(a[h],2),m=p[0],g=p[1];g=rfc2616unquote(g);if(m){g=unescape(g);0===h&&(g=rfc5987decode(g))}d.push(g)}return d.join("")}(t)){return fixupEncoding(rfc2047decode(a))}if(a=toParamRegExp("filename","i").exec(t)){var o=rfc2616unquote(a=a[1]);return fixupEncoding(o=rfc2047decode(o))}function toParamRegExp(t,r){return new RegExp("(?:^|;)\\s*"+t+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',r)}function textdecode(t,a){if(t){if(!/^[\x00-\xFF]+$/.test(a))return a;try{var i=new TextDecoder(t,{fatal:!0}),o=Array.from(a,(function(t){return 255&t.charCodeAt(0)}));a=i.decode(new Uint8Array(o));r=!1}catch(i){if(/^utf-?8$/i.test(t))try{a=decodeURIComponent(escape(a));r=!1}catch(t){}}}return a}function fixupEncoding(t){if(r&&/[\x80-\xff]/.test(t)){t=textdecode("utf-8",t);r&&(t=textdecode("iso-8859-1",t))}return t}function rfc2616unquote(t){if(t.startsWith('"')){for(var r=t.slice(1).split('\\"'),a=0;a<r.length;++a){var i=r[a].indexOf('"');if(-1!==i){r[a]=r[a].slice(0,i);r.length=a+1}r[a]=r[a].replace(/\\(.)/g,"$1")}t=r.join('"')}return t}function rfc5987decode(t){var r=t.indexOf("'");return-1===r?t:textdecode(t.slice(0,r),t.slice(r+1).replace(/^[^']*'/,""))}function rfc2047decode(t){return!t.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(t)?t:t.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(t,r,a,i){if("q"===a||"Q"===a)return textdecode(r,i=(i=i.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,(function(t,r){return String.fromCharCode(parseInt(r,16))})));try{i=atob(i)}catch(t){}return textdecode(r,i)}))}return""};function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var a=[],i=!0,o=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){a.push(u.value);if(r&&a.length===r)break}}catch(t){o=!0;l=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw l}}return a}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFFetchStream=void 0;var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(a(2)),o=a(4),l=a(154);function asyncGeneratorStep(t,r,a,i,o,l,u){try{var c=t[l](u),d=c.value}catch(t){a(t);return}c.done?r(d):Promise.resolve(d).then(i,o)}function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,o){var l=t.apply(r,a);function _next(t){asyncGeneratorStep(l,i,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,i,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}function createFetchOptions(t,r,a){return{method:"GET",headers:t,signal:null==a?void 0:a.signal,mode:"cors",credentials:r?"include":"same-origin",redirect:"follow"}}function createHeaders(t){var r=new Headers;for(var a in t){var i=t[a];void 0!==i&&r.append(a,i)}return r}var u=function(){function PDFFetchStream(t){_classCallCheck(this,PDFFetchStream);this.source=t;this.isHttp=/^https?:/i.test(t.url);this.httpHeaders=this.isHttp&&t.httpHeaders||{};this._fullRequestReader=null;this._rangeRequestReaders=[]}_createClass(PDFFetchStream,[{key:"getFullReader",value:function getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once.");this._fullRequestReader=new c(this);return this._fullRequestReader}},{key:"getRangeReader",value:function getRangeReader(t,r){if(r<=this._progressiveDataLength)return null;var a=new d(this,t,r);this._rangeRequestReaders.push(a);return a}},{key:"cancelAllRequests",value:function cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);this._rangeRequestReaders.slice(0).forEach((function(r){r.cancel(t)}))}},{key:"_progressiveDataLength",get:function get(){var t,r;return null!==(t=null===(r=this._fullRequestReader)||void 0===r?void 0:r._loaded)&&void 0!==t?t:0}}]);return PDFFetchStream}();r.PDFFetchStream=u;var c=function(){function PDFFetchStreamReader(t){var r=this;_classCallCheck(this,PDFFetchStreamReader);this._stream=t;this._reader=null;this._loaded=0;this._filename=null;var a=t.source;this._withCredentials=a.withCredentials||!1;this._contentLength=a.length;this._headersCapability=(0,o.createPromiseCapability)();this._disableRange=a.disableRange||!1;this._rangeChunkSize=a.rangeChunkSize;this._rangeChunkSize||this._disableRange||(this._disableRange=!0);"undefined"!=typeof AbortController&&(this._abortController=new AbortController);this._isStreamingSupported=!a.disableStream;this._isRangeSupported=!a.disableRange;this._headers=createHeaders(this._stream.httpHeaders);var i=a.url;fetch(i,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then((function(t){if(!(0,l.validateResponseStatus)(t.status))throw(0,l.createResponseStatusError)(t.status,i);r._reader=t.body.getReader();r._headersCapability.resolve();var a=function getResponseHeader(r){return t.headers.get(r)},u=(0,l.validateRangeRequestCapabilities)({getResponseHeader:a,isHttp:r._stream.isHttp,rangeChunkSize:r._rangeChunkSize,disableRange:r._disableRange}),c=u.allowRangeRequests,d=u.suggestedLength;r._isRangeSupported=c;r._contentLength=d||r._contentLength;r._filename=(0,l.extractFilenameFromHeader)(a);!r._isStreamingSupported&&r._isRangeSupported&&r.cancel(new o.AbortException("Streaming is disabled."))})).catch(this._headersCapability.reject);this.onProgress=null}_createClass(PDFFetchStreamReader,[{key:"read",value:(t=_asyncToGenerator(i.default.mark((function _callee(){var t,r,a,o;return i.default.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:i.next=2;return this._headersCapability.promise;case 2:i.next=4;return this._reader.read();case 4:t=i.sent;r=t.value;if(!(a=t.done)){i.next=9;break}return i.abrupt("return",{value:r,done:a});case 9:this._loaded+=r.byteLength;this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength});o=new Uint8Array(r).buffer;return i.abrupt("return",{value:o,done:!1});case 13:case"end":return i.stop()}}),_callee,this)}))),function read(){return t.apply(this,arguments)})},{key:"cancel",value:function cancel(t){this._reader&&this._reader.cancel(t);this._abortController&&this._abortController.abort()}},{key:"headersReady",get:function get(){return this._headersCapability.promise}},{key:"filename",get:function get(){return this._filename}},{key:"contentLength",get:function get(){return this._contentLength}},{key:"isRangeSupported",get:function get(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function get(){return this._isStreamingSupported}}]);var t;return PDFFetchStreamReader}(),d=function(){function PDFFetchStreamRangeReader(t,r,a){var i=this;_classCallCheck(this,PDFFetchStreamRangeReader);this._stream=t;this._reader=null;this._loaded=0;var u=t.source;this._withCredentials=u.withCredentials||!1;this._readCapability=(0,o.createPromiseCapability)();this._isStreamingSupported=!u.disableStream;"undefined"!=typeof AbortController&&(this._abortController=new AbortController);this._headers=createHeaders(this._stream.httpHeaders);this._headers.append("Range","bytes=".concat(r,"-").concat(a-1));var c=u.url;fetch(c,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then((function(t){if(!(0,l.validateResponseStatus)(t.status))throw(0,l.createResponseStatusError)(t.status,c);i._readCapability.resolve();i._reader=t.body.getReader()})).catch((function(t){if("AbortError"!==(null==t?void 0:t.name))throw t}));this.onProgress=null}_createClass(PDFFetchStreamRangeReader,[{key:"read",value:(t=_asyncToGenerator(i.default.mark((function _callee2(){var t,r,a,o;return i.default.wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:i.next=2;return this._readCapability.promise;case 2:i.next=4;return this._reader.read();case 4:t=i.sent;r=t.value;if(!(a=t.done)){i.next=9;break}return i.abrupt("return",{value:r,done:a});case 9:this._loaded+=r.byteLength;this.onProgress&&this.onProgress({loaded:this._loaded});o=new Uint8Array(r).buffer;return i.abrupt("return",{value:o,done:!1});case 13:case"end":return i.stop()}}),_callee2,this)}))),function read(){return t.apply(this,arguments)})},{key:"cancel",value:function cancel(t){this._reader&&this._reader.cancel(t);this._abortController&&this._abortController.abort()}},{key:"isStreamingSupported",get:function get(){return this._isStreamingSupported}}]);var t;return PDFFetchStreamRangeReader}()}],__webpack_module_cache__={};function __w_pdfjs_require__(t){if(__webpack_module_cache__[t])return __webpack_module_cache__[t].exports;var r=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};__webpack_modules__[t].call(r.exports,r,r.exports,__w_pdfjs_require__);r.loaded=!0;return r.exports}__w_pdfjs_require__.nmd=t=>{t.paths=[];t.children||(t.children=[]);return t};return __w_pdfjs_require__(0)})()}));
/**
 * @licstart The following is the entire license notice for the
 * Javascript code in this page
 *
 * Copyright 2020 Mozilla Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @licend The above is the entire license notice for the
 * Javascript code in this page
 */(()=>{var t=[(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});Object.defineProperty(r,"PDFViewerApplicationOptions",{enumerable:!0,get:function get(){return i.AppOptions}});Object.defineProperty(r,"PDFViewerApplication",{enumerable:!0,get:function get(){return o.PDFViewerApplication}});var i=a(1),o=a(3);window.PDFViewerApplication=o.PDFViewerApplication;window.PDFViewerApplicationOptions=i.AppOptions;HTMLCollection.prototype[Symbol.iterator]||(HTMLCollection.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator]);"function"!=typeof window.CustomEvent&&(window.CustomEvent=function CustomEvent(t,r){r=r||{bubbles:!1,cancelable:!1,detail:null};var a=document.createEvent("CustomEvent");a.initCustomEvent(t,r.bubbles,r.cancelable,r.detail);return a});a(170);a(176);window.webViewerLoad=function webViewerLoad(){var t=function getViewerConfiguration(){return{appContainer:document.body,mainContainer:document.getElementById("viewerContainer"),viewerContainer:document.getElementById("viewer"),eventBus:null,toolbar:{container:document.getElementById("toolbarViewer"),numPages:document.getElementById("numPages"),pageNumber:document.getElementById("pageNumber"),scaleSelectContainer:document.getElementById("scaleSelectContainer"),scaleSelect:document.getElementById("scaleSelect"),customScaleOption:document.getElementById("customScaleOption"),previous:document.getElementById("previous"),next:document.getElementById("next"),zoomIn:document.getElementById("zoomIn"),zoomOut:document.getElementById("zoomOut"),viewFind:document.getElementById("viewFind"),openFile:document.getElementById("openFile"),print:document.getElementById("print"),presentationModeButton:document.getElementById("presentationMode"),download:document.getElementById("download"),viewBookmark:document.getElementById("viewBookmark")},secondaryToolbar:{toolbar:document.getElementById("secondaryToolbar"),toggleButton:document.getElementById("secondaryToolbarToggle"),toolbarButtonContainer:document.getElementById("secondaryToolbarButtonContainer"),presentationModeButton:document.getElementById("secondaryPresentationMode"),openFileButton:document.getElementById("secondaryOpenFile"),printButton:document.getElementById("secondaryPrint"),downloadButton:document.getElementById("secondaryDownload"),viewBookmarkButton:document.getElementById("secondaryViewBookmark"),firstPageButton:document.getElementById("firstPage"),lastPageButton:document.getElementById("lastPage"),pageRotateCwButton:document.getElementById("pageRotateCw"),pageRotateCcwButton:document.getElementById("pageRotateCcw"),cursorSelectToolButton:document.getElementById("cursorSelectTool"),cursorHandToolButton:document.getElementById("cursorHandTool"),scrollVerticalButton:document.getElementById("scrollVertical"),scrollHorizontalButton:document.getElementById("scrollHorizontal"),scrollWrappedButton:document.getElementById("scrollWrapped"),spreadNoneButton:document.getElementById("spreadNone"),spreadOddButton:document.getElementById("spreadOdd"),spreadEvenButton:document.getElementById("spreadEven"),documentPropertiesButton:document.getElementById("documentProperties")},fullscreen:{contextFirstPage:document.getElementById("contextFirstPage"),contextLastPage:document.getElementById("contextLastPage"),contextPageRotateCw:document.getElementById("contextPageRotateCw"),contextPageRotateCcw:document.getElementById("contextPageRotateCcw")},sidebar:{outerContainer:document.getElementById("outerContainer"),viewerContainer:document.getElementById("viewerContainer"),toggleButton:document.getElementById("sidebarToggle"),thumbnailButton:document.getElementById("viewThumbnail"),outlineButton:document.getElementById("viewOutline"),attachmentsButton:document.getElementById("viewAttachments"),layersButton:document.getElementById("viewLayers"),thumbnailView:document.getElementById("thumbnailView"),outlineView:document.getElementById("outlineView"),attachmentsView:document.getElementById("attachmentsView"),layersView:document.getElementById("layersView"),outlineOptionsContainer:document.getElementById("outlineOptionsContainer"),currentOutlineItemButton:document.getElementById("currentOutlineItem")},sidebarResizer:{outerContainer:document.getElementById("outerContainer"),resizer:document.getElementById("sidebarResizer")},findBar:{bar:document.getElementById("findbar"),toggleButton:document.getElementById("viewFind"),findField:document.getElementById("findInput"),findFieldMultiline:document.getElementById("findInputMultiline"),highlightAllCheckbox:document.getElementById("findHighlightAll"),caseSensitiveCheckbox:document.getElementById("findMatchCase"),entireWordCheckbox:document.getElementById("findEntireWord"),findMultipleSearchTextsCheckbox:document.getElementById("findMultipleSearchTexts"),ignoreAccentsCheckbox:document.getElementById("findIgnoreAccents"),fuzzyCheckbox:document.getElementById("findFuzzy"),findMsg:document.getElementById("findMsg"),findResultsCount:document.getElementById("findResultsCount"),findPreviousButton:document.getElementById("findPrevious"),findNextButton:document.getElementById("findNext")},passwordOverlay:{overlayName:"passwordOverlay",container:document.getElementById("passwordOverlay"),label:document.getElementById("passwordText"),input:document.getElementById("password"),submitButton:document.getElementById("passwordSubmit"),cancelButton:document.getElementById("passwordCancel")},documentProperties:{overlayName:"documentPropertiesOverlay",container:document.getElementById("documentPropertiesOverlay"),closeButton:document.getElementById("documentPropertiesClose"),fields:{fileName:document.getElementById("fileNameField"),fileSize:document.getElementById("fileSizeField"),title:document.getElementById("titleField"),author:document.getElementById("authorField"),subject:document.getElementById("subjectField"),keywords:document.getElementById("keywordsField"),creationDate:document.getElementById("creationDateField"),modificationDate:document.getElementById("modificationDateField"),creator:document.getElementById("creatorField"),producer:document.getElementById("producerField"),version:document.getElementById("versionField"),pageCount:document.getElementById("pageCountField"),pageSize:document.getElementById("pageSizeField"),linearized:document.getElementById("linearizedField")}},errorWrapper:{container:document.getElementById("errorWrapper"),errorMessage:document.getElementById("errorMessage"),closeButton:document.getElementById("errorClose"),errorMoreInfo:document.getElementById("errorMoreInfo"),moreInfoButton:document.getElementById("errorShowMore"),lessInfoButton:document.getElementById("errorShowLess")},printContainer:document.getElementById("printContainer"),openFileInputName:"fileInput",debuggerScriptPath:"./debugger.js"}}(),r=document.createEvent("CustomEvent");r.initCustomEvent("webviewerloaded",!0,!0,{source:window});try{parent.document.dispatchEvent(r)}catch(t){console.error("webviewerloaded: ".concat(t));document.dispatchEvent(r)}o.PDFViewerApplication.run(t)}},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.OptionKind=r.AppOptions=void 0;var i=a(2);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}var o={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};r.OptionKind=o;var l={cursorToolOnLoad:{value:0,kind:o.VIEWER+o.PREFERENCE},defaultUrl:{value:"",kind:o.VIEWER},defaultZoomValue:{value:"",kind:o.VIEWER+o.PREFERENCE},disableHistory:{value:!1,kind:o.VIEWER},disablePageLabels:{value:!1,kind:o.VIEWER+o.PREFERENCE},enablePermissions:{value:!1,kind:o.VIEWER+o.PREFERENCE},enablePrintAutoRotate:{value:!1,kind:o.VIEWER+o.PREFERENCE},enableScripting:{value:!1,kind:o.VIEWER+o.PREFERENCE},enableWebGL:{value:!1,kind:o.VIEWER+o.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:o.VIEWER},externalLinkTarget:{value:0,kind:o.VIEWER+o.PREFERENCE},historyUpdateUrl:{value:!1,kind:o.VIEWER+o.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:o.VIEWER+o.PREFERENCE},imageResourcesPath:{value:"./images/",kind:o.VIEWER},maxCanvasPixels:{value:16777216,compatibility:i.viewerCompatibilityParams.maxCanvasPixels,kind:o.VIEWER},pdfBugEnabled:{value:!1,kind:o.VIEWER+o.PREFERENCE},printResolution:{value:150,kind:o.VIEWER},removePageBorders:{value:!1,kind:o.VIEWER+o.PREFERENCE},renderer:{value:"canvas",kind:o.VIEWER+o.PREFERENCE},renderInteractiveForms:{value:!0,kind:o.VIEWER+o.PREFERENCE},sidebarViewOnLoad:{value:-1,kind:o.VIEWER+o.PREFERENCE},scrollModeOnLoad:{value:-1,kind:o.VIEWER+o.PREFERENCE},spreadModeOnLoad:{value:-1,kind:o.VIEWER+o.PREFERENCE},textLayerMode:{value:1,kind:o.VIEWER+o.PREFERENCE},useOnlyCssZoom:{value:!1,kind:o.VIEWER+o.PREFERENCE},viewerCssTheme:{value:0,kind:o.VIEWER+o.PREFERENCE},viewOnLoad:{value:0,kind:o.VIEWER+o.PREFERENCE},cMapPacked:{value:!0,kind:o.API},cMapUrl:{value:"../web/cmaps/",kind:o.API},disableAutoFetch:{value:!1,kind:o.API+o.PREFERENCE},disableFontFace:{value:!1,kind:o.API+o.PREFERENCE},disableRange:{value:!1,kind:o.API+o.PREFERENCE},disableStream:{value:!1,kind:o.API+o.PREFERENCE},docBaseUrl:{value:"",kind:o.API},fontExtraProperties:{value:!1,kind:o.API},isEvalSupported:{value:!0,kind:o.API},maxImageSize:{value:-1,kind:o.API},pdfBug:{value:!1,kind:o.API},verbosity:{value:1,kind:o.API},workerPort:{value:null,kind:o.WORKER},workerSrc:{value:"./assets/pdf.worker.js",kind:o.WORKER}};l.disablePreferences={value:!1,kind:o.VIEWER};l.locale={value:"undefined"!=typeof navigator?navigator.language:"en-US",kind:o.VIEWER};l.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:o.VIEWER};var u=Object.create(null),c=function(){function AppOptions(){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,AppOptions);throw new Error("Cannot initialize AppOptions.")}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(AppOptions,null,[{key:"get",value:function get(t){var r=u[t];if(void 0!==r)return r;var a=l[t];return void 0!==a?a.compatibility||a.value:void 0}},{key:"getAll",value:function getAll(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=Object.create(null);for(var a in l){var i=l[a];if(t){if(0==(t&i.kind))continue;if(t===o.PREFERENCE){var c=i.value,d=_typeof(c);if("boolean"===d||"string"===d||"number"===d&&Number.isInteger(c)){r[a]=c;continue}throw new Error("Invalid type for preference: ".concat(a))}}var h=u[a];r[a]=void 0!==h?h:i.compatibility||i.value}return r}},{key:"set",value:function set(t,r){u[t]=r}},{key:"setAll",value:function setAll(t){for(var r in t)u[r]=t[r]}},{key:"remove",value:function remove(t){delete u[t]}}]);return AppOptions}();r.AppOptions=c},(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.viewerCompatibilityParams=void 0;var a=Object.create(null),i="undefined"!=typeof navigator&&navigator.userAgent||"",o="undefined"!=typeof navigator&&navigator.platform||"",l="undefined"!=typeof navigator&&navigator.maxTouchPoints||1,u=/Android/.test(i),c=/\b(iPad|iPhone|iPod)(?=;)/.test(i)||"MacIntel"===o&&l>1,d=/CriOS/.test(i);!function checkOnBlobSupport(){d&&(a.disableCreateObjectURL=!0)}();!function checkCanvasSizeLimitation(){(c||u)&&(a.maxCanvasPixels=5242880)}();var h=Object.freeze(a);r.viewerCompatibilityParams=h},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFViewerApplication=r.PDFPrintServiceFactory=r.DefaultExternalServices=void 0;var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(a(4)),o=a(6),l=a(1),u=a(7),c=a(8),d=a(10),h=a(11),p=a(12),m=a(13),g=a(15),v=a(16),y=a(17),b=a(21),S=a(22),w=a(23),C=a(24),P=a(25),k=a(26),R=a(27),A=a(28),T=a(30),E=a(166),x=a(168),I=a(2),O=a(169);function ownKeys(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})));a.push.apply(a,i)}return a}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(a),!0).forEach((function(r){_defineProperty(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}function _defineProperty(t,r,a){r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a;return t}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var a=[],i=!0,o=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){a.push(u.value);if(r&&a.length===r)break}}catch(t){o=!0;l=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw l}}return a}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _createForOfIteratorHelper(t,r){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){a&&(t=a);var i=0,o=function F(){};return{s:o,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){a=t[Symbol.iterator]()},n:function n(){var t=a.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==a.return||a.return()}finally{if(c)throw l}}}}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);return"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function asyncGeneratorStep(t,r,a,i,o,l,u){try{var c=t[l](u),d=c.value}catch(t){a(t);return}c.done?r(d):Promise.resolve(d).then(i,o)}function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,o){var l=t.apply(r,a);function _next(t){asyncGeneratorStep(l,i,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,i,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}var L="enablePermissions",D=-1,M=1,B={AUTOMATIC:0,LIGHT:1,DARK:2},N=["1.0","1.1","1.2","1.3","1.4","1.5","1.6","1.7","1.8","1.9","2.0","2.1","2.2","2.3"],W=["acrobat distiller","acrobat pdfwriter","adobe livecycle","adobe pdf library","adobe photoshop","ghostscript","tcpdf","cairo","dvipdfm","dvips","pdftex","pdfkit","itext","prince","quarkxpress","mac os x","microsoft","openoffice","oracle","luradocument","pdf-xchange","antenna house","aspose.cells","fpdf"],j=function(){function DefaultExternalServices(){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,DefaultExternalServices);throw new Error("Cannot initialize DefaultExternalServices.")}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(DefaultExternalServices,null,[{key:"updateFindControlState",value:function updateFindControlState(t){}},{key:"updateFindMatchesCount",value:function updateFindMatchesCount(t){}},{key:"initPassiveLoading",value:function initPassiveLoading(t){}},{key:"fallback",value:(t=_asyncToGenerator(i.default.mark((function _callee(t){return i.default.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),_callee)}))),function fallback(r){return t.apply(this,arguments)})},{key:"reportTelemetry",value:function reportTelemetry(t){}},{key:"createDownloadManager",value:function createDownloadManager(t){throw new Error("Not implemented: createDownloadManager")}},{key:"createPreferences",value:function createPreferences(){throw new Error("Not implemented: createPreferences")}},{key:"createL10n",value:function createL10n(t){throw new Error("Not implemented: createL10n")}},{key:"createScripting",value:function createScripting(t){throw new Error("Not implemented: createScripting")}},{key:"supportsIntegratedFind",get:function get(){return(0,u.shadow)(this,"supportsIntegratedFind",!1)}},{key:"supportsDocumentFonts",get:function get(){return(0,u.shadow)(this,"supportsDocumentFonts",!0)}},{key:"supportedMouseWheelZoomModifierKeys",get:function get(){return(0,u.shadow)(this,"supportedMouseWheelZoomModifierKeys",{ctrlKey:!0,metaKey:!0})}},{key:"isInAutomation",get:function get(){return(0,u.shadow)(this,"isInAutomation",!1)}}]);var t;return DefaultExternalServices}();r.DefaultExternalServices=j;var V,U={initialBookmark:document.location.hash.substring(1),_initializedCapability:(0,u.createPromiseCapability)(),fellback:!1,appConfig:null,pdfDocument:null,pdfLoadingTask:null,printService:null,pdfViewer:null,pdfThumbnailViewer:null,pdfRenderingQueue:null,pdfPresentationMode:null,pdfDocumentProperties:null,pdfLinkService:null,pdfHistory:null,pdfSidebar:null,pdfSidebarResizer:null,pdfOutlineViewer:null,pdfAttachmentViewer:null,pdfLayerViewer:null,pdfCursorTools:null,store:null,downloadManager:null,overlayManager:null,preferences:null,toolbar:null,secondaryToolbar:null,eventBus:null,l10n:null,isInitialViewSet:!1,downloadComplete:!1,isViewerEmbedded:window.parent!==window,url:"",baseUrl:"",externalServices:j,_boundEvents:Object.create(null),documentInfo:null,metadata:null,_contentDispositionFilename:null,_contentLength:null,triggerDelayedFallback:null,_saveInProgress:!1,_wheelUnusedTicks:0,_idleCallbacks:new Set,_scriptingInstance:null,_mouseState:Object.create(null),initialize:function initialize(t){var r=this;return _asyncToGenerator(i.default.mark((function _callee2(){var a;return i.default.wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:r.preferences=r.externalServices.createPreferences();r.appConfig=t;i.next=4;return r._readPreferences();case 4:i.next=6;return r._parseHashParameters();case 6:r._forceCssTheme();i.next=9;return r._initializeL10n();case 9:r.isViewerEmbedded&&l.AppOptions.get("externalLinkTarget")===u.LinkTarget.NONE&&l.AppOptions.set("externalLinkTarget",u.LinkTarget.TOP);i.next=12;return r._initializeViewerComponents();case 12:r.bindEvents();r.bindWindowEvents();a=t.appContainer||document.documentElement;r.l10n.translate(a).then((function(){r.eventBus.dispatch("localized",{source:r})}));r._initializedCapability.resolve();r.initializeLoadingBar();case 18:case"end":return i.stop()}}),_callee2)})))()},_readPreferences:function _readPreferences(){var t=this;return _asyncToGenerator(i.default.mark((function _callee3(){return i.default.wrap((function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:if(!l.AppOptions.get("disablePreferences")){r.next=2;break}return r.abrupt("return");case 2:r.prev=2;r.t0=l.AppOptions;r.next=6;return t.preferences.getAll();case 6:r.t1=r.sent;r.t0.setAll.call(r.t0,r.t1);r.next=13;break;case 10:r.prev=10;r.t2=r.catch(2);console.error('_readPreferences: "'.concat(null===r.t2||void 0===r.t2?void 0:r.t2.message,'".'));case 13:case"end":return r.stop()}}),_callee3,null,[[2,10]])})))()},_parseHashParameters:function _parseHashParameters(){var t=this;return _asyncToGenerator(i.default.mark((function _callee4(){var r,a,u,c;return i.default.wrap((function _callee4$(i){for(;;)switch(i.prev=i.next){case 0:if(l.AppOptions.get("pdfBugEnabled")){i.next=2;break}return i.abrupt("return",void 0);case 2:if(r=document.location.hash.substring(1)){i.next=5;break}return i.abrupt("return",void 0);case 5:a=(0,o.parseQueryString)(r),u=[];"disableworker"in a&&"true"===a.disableworker&&u.push(loadFakeWorker());"disablerange"in a&&l.AppOptions.set("disableRange","true"===a.disablerange);"disablestream"in a&&l.AppOptions.set("disableStream","true"===a.disablestream);"disableautofetch"in a&&l.AppOptions.set("disableAutoFetch","true"===a.disableautofetch);"disablefontface"in a&&l.AppOptions.set("disableFontFace","true"===a.disablefontface);"disablehistory"in a&&l.AppOptions.set("disableHistory","true"===a.disablehistory);"webgl"in a&&l.AppOptions.set("enableWebGL","true"===a.webgl);"removepageborders"in a&&l.AppOptions.set("removePageBorders","true"===a.removepageborders);"verbosity"in a&&l.AppOptions.set("verbosity",0|a.verbosity);if(!("textlayer"in a)){i.next=24;break}i.t0=a.textlayer;i.next="off"===i.t0?19:"visible"===i.t0||"shadow"===i.t0||"hover"===i.t0?21:24;break;case 19:l.AppOptions.set("textLayerMode",o.TextLayerMode.DISABLE);return i.abrupt("break",24);case 21:t.appConfig.viewerContainer.classList.add("textLayer-"+a.textlayer);return i.abrupt("break",24);case 24:if("pdfbug"in a){l.AppOptions.set("pdfBug",!0);l.AppOptions.set("fontExtraProperties",!0);c=a.pdfbug.split(",");u.push(loadAndEnablePDFBug(c))}"locale"in a&&l.AppOptions.set("locale",a.locale);if(0!==u.length){i.next=28;break}return i.abrupt("return",void 0);case 28:return i.abrupt("return",Promise.all(u).catch((function(t){console.error('_parseHashParameters: "'.concat(t.message,'".'))})));case 29:case"end":return i.stop()}}),_callee4)})))()},_initializeL10n:function _initializeL10n(){var t=this;return _asyncToGenerator(i.default.mark((function _callee5(){var r;return i.default.wrap((function _callee5$(a){for(;;)switch(a.prev=a.next){case 0:t.l10n=t.externalServices.createL10n({locale:l.AppOptions.get("locale")});a.next=3;return t.l10n.getDirection();case 3:r=a.sent;document.getElementsByTagName("html")[0].dir=r;case 5:case"end":return a.stop()}}),_callee5)})))()},_forceCssTheme:function _forceCssTheme(){var t=l.AppOptions.get("viewerCssTheme");if(t!==B.AUTOMATIC&&Object.values(B).includes(t))try{for(var r=document.styleSheets[0],a=(null==r?void 0:r.cssRules)||[],i=0,o=a.length;i<o;i++){var u,c=a[i];if(c instanceof CSSMediaRule&&"(prefers-color-scheme: dark)"===(null===(u=c.media)||void 0===u?void 0:u[0])){if(t===B.LIGHT){r.deleteRule(i);return}var d=/^@media \(prefers-color-scheme: dark\) {\n\s*([\w\s-.,:;/\\{}()]+)\n}$/.exec(c.cssText);if(null!=d&&d[1]){r.deleteRule(i);r.insertRule(d[1],i)}return}}}catch(t){console.error('_forceCssTheme: "'.concat(null==t?void 0:t.message,'".'))}},_initializeViewerComponents:function _initializeViewerComponents(){var t=this;return _asyncToGenerator(i.default.mark((function _callee6(){var r,a,u,I,O,L,D,M;return i.default.wrap((function _callee6$(i){for(;;)switch(i.prev=i.next){case 0:r=t.appConfig;a=r.eventBus||new o.EventBus({isInAutomation:t.externalServices.isInAutomation});t.eventBus=a;t.overlayManager=new h.OverlayManager;(u=new d.PDFRenderingQueue).onIdle=t.cleanup.bind(t);t.pdfRenderingQueue=u;I=new w.PDFLinkService({eventBus:a,externalLinkTarget:l.AppOptions.get("externalLinkTarget"),externalLinkRel:l.AppOptions.get("externalLinkRel"),ignoreDestinationZoom:l.AppOptions.get("ignoreDestinationZoom")});t.pdfLinkService=I;O=t.externalServices.createDownloadManager();t.downloadManager=O;L=new y.PDFFindController({linkService:I,eventBus:a,pageViewMode:l.AppOptions.get("pageViewMode")});t.findController=L;D=r.mainContainer;M=r.viewerContainer;t.pdfViewer=new T.PDFViewer({container:D,viewer:M,eventBus:a,renderingQueue:u,linkService:I,downloadManager:O,findController:L,renderer:l.AppOptions.get("renderer"),enableWebGL:l.AppOptions.get("enableWebGL"),l10n:t.l10n,textLayerMode:l.AppOptions.get("textLayerMode"),imageResourcesPath:l.AppOptions.get("imageResourcesPath"),removePageBorders:l.AppOptions.get("removePageBorders"),renderInteractiveForms:l.AppOptions.get("renderInteractiveForms"),enablePrintAutoRotate:l.AppOptions.get("enablePrintAutoRotate"),useOnlyCssZoom:l.AppOptions.get("useOnlyCssZoom"),maxCanvasPixels:l.AppOptions.get("maxCanvasPixels"),pageViewMode:l.AppOptions.get("pageViewMode"),enableScripting:l.AppOptions.get("enableScripting"),mouseState:t._mouseState});u.setViewer(t.pdfViewer);I.setViewer(t.pdfViewer);t.pdfThumbnailViewer=new A.PDFThumbnailViewer({container:r.sidebar.thumbnailView,eventBus:a,renderingQueue:u,linkService:I,l10n:t.l10n});u.setThumbnailViewer(t.pdfThumbnailViewer);t.pdfHistory=new b.PDFHistory({linkService:I,eventBus:a});I.setHistory(t.pdfHistory);t.supportsIntegratedFind||(t.findBar=new v.PDFFindBar(r.findBar,a,t.l10n));t.pdfDocumentProperties=new g.PDFDocumentProperties(r.documentProperties,t.overlayManager,a,t.l10n);t.pdfCursorTools=new c.PDFCursorTools({container:D,eventBus:a,cursorToolOnLoad:l.AppOptions.get("cursorToolOnLoad")});t.toolbar=new x.Toolbar(r.toolbar,a,t.l10n);t.secondaryToolbar=new E.SecondaryToolbar(r.secondaryToolbar,D,a);t.supportsFullscreen&&(t.pdfPresentationMode=new P.PDFPresentationMode({container:D,pdfViewer:t.pdfViewer,eventBus:a,contextMenuItems:r.fullscreen}));t.passwordPrompt=new p.PasswordPrompt(r.passwordOverlay,t.overlayManager,t.l10n);t.pdfOutlineViewer=new C.PDFOutlineViewer({container:r.sidebar.outlineView,eventBus:a,linkService:I});t.pdfAttachmentViewer=new m.PDFAttachmentViewer({container:r.sidebar.attachmentsView,eventBus:a,downloadManager:O});t.pdfLayerViewer=new S.PDFLayerViewer({container:r.sidebar.layersView,eventBus:a,l10n:t.l10n});t.pdfSidebar=new k.PDFSidebar({elements:r.sidebar,pdfViewer:t.pdfViewer,pdfThumbnailViewer:t.pdfThumbnailViewer,eventBus:a,l10n:t.l10n});t.pdfSidebar.onToggled=t.forceRendering.bind(t);t.pdfSidebarResizer=new R.PDFSidebarResizer(r.sidebarResizer,a,t.l10n);case 35:case"end":return i.stop()}}),_callee6)})))()},run:function run(t){this.initialize(t).then(webViewerInitialized)},get initialized(){return this._initializedCapability.settled},get initializedPromise(){return this._initializedCapability.promise},zoomIn:function zoomIn(t){if(!this.pdfViewer.isInPresentationMode){var r=this.pdfViewer.currentScale,a=Number(l.AppOptions.get("maxZoom"));a||(a=o.MAX_SCALE);do{r=(1.1*r).toFixed(2);r=Math.ceil(10*r)/10;r=Math.min(a,r)}while(--t>0&&r<a);this.pdfViewer.currentScaleValue=r}},zoomOut:function zoomOut(t){if(!this.pdfViewer.isInPresentationMode){var r=this.pdfViewer.currentScale,a=Number(l.AppOptions.get("minZoom"));a||(a=o.MIN_SCALE);do{r=(r/1.1).toFixed(2);r=Math.floor(10*r)/10;r=Math.max(a,r)}while(--t>0&&r>a);this.pdfViewer.currentScaleValue=r}},zoomReset:function zoomReset(){this.pdfViewer.isInPresentationMode||(this.pdfViewer.currentScaleValue=o.DEFAULT_SCALE_VALUE)},get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0},get page(){return this.pdfViewer.currentPageNumber},set page(t){this.pdfViewer.currentPageNumber=t},get supportsPrinting(){return Q.instance.supportsPrinting},get supportsFullscreen(){var t,r=document.documentElement;t=!!(r.requestFullscreen||r.mozRequestFullScreen||r.webkitRequestFullScreen);!1!==document.fullscreenEnabled&&!1!==document.mozFullScreenEnabled&&!1!==document.webkitFullscreenEnabled||(t=!1);return(0,u.shadow)(this,"supportsFullscreen",t)},get supportsIntegratedFind(){return this.externalServices.supportsIntegratedFind},get supportsDocumentFonts(){return this.externalServices.supportsDocumentFonts},initializeLoadingBar:function initializeLoadingBar(){var t=new o.ProgressBar("#loadingBar");t.hide();return(0,u.shadow)(this,"loadingBar",t)},get supportedMouseWheelZoomModifierKeys(){return this.externalServices.supportedMouseWheelZoomModifierKeys},initPassiveLoading:function initPassiveLoading(){throw new Error("Not implemented: initPassiveLoading")},setTitleUsingUrl:function setTitleUsingUrl(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.url=t;this.baseUrl=t.split("#")[0];var r=(0,o.getPDFFileNameFromURL)(t,"");if(!r)try{r=decodeURIComponent((0,u.getFilenameFromUrl)(t))||t}catch(a){r=t}this.setTitle(r)},setTitle:function setTitle(t){this.isViewerEmbedded||(document.title=t)},get _docFilename(){return this._contentDispositionFilename||(0,o.getPDFFileNameFromURL)(this.url)},_cancelIdleCallbacks:function _cancelIdleCallbacks(){if(this._idleCallbacks.size){var t,r=_createForOfIteratorHelper(this._idleCallbacks);try{for(r.s();!(t=r.n()).done;){var a=t.value;window.cancelIdleCallback(a)}}catch(t){r.e(t)}finally{r.f()}this._idleCallbacks.clear()}},_destroyScriptingInstance:function _destroyScriptingInstance(){var t=this;return _asyncToGenerator(i.default.mark((function _callee7(){var r,a,o,l,u,c,d,h,p,m,g,v,y,b;return i.default.wrap((function _callee7$(i){for(;;)switch(i.prev=i.next){case 0:if(t._scriptingInstance){i.next=2;break}return i.abrupt("return");case 2:r=t._scriptingInstance,a=r.scripting,o=r.internalEvents,l=r.domEvents;i.prev=3;i.next=6;return a.destroySandbox();case 6:i.next=10;break;case 8:i.prev=8;i.t0=i.catch(3);case 10:u=_createForOfIteratorHelper(o);try{for(u.s();!(c=u.n()).done;){d=_slicedToArray(c.value,2),h=d[0],p=d[1];t.eventBus._off(h,p)}}catch(t){u.e(t)}finally{u.f()}o.clear();m=_createForOfIteratorHelper(l);try{for(m.s();!(g=m.n()).done;){v=_slicedToArray(g.value,2),y=v[0],b=v[1];window.removeEventListener(y,b)}}catch(t){m.e(t)}finally{m.f()}l.clear();delete t._mouseState.isDown;t._scriptingInstance=null;case 18:case"end":return i.stop()}}),_callee7,null,[[3,8]])})))()},close:function close(){var t=this;return _asyncToGenerator(i.default.mark((function _callee8(){var r;return i.default.wrap((function _callee8$(a){for(;;)switch(a.prev=a.next){case 0:t.appConfig.errorWrapper.container.setAttribute("hidden","true");if(t.pdfLoadingTask){a.next=4;break}return a.abrupt("return",void 0);case 4:(r=[]).push(t.pdfLoadingTask.destroy());t.pdfLoadingTask=null;if(t.pdfDocument){t.pdfDocument=null;t.pdfThumbnailViewer.setDocument(null);t.pdfViewer.setDocument(null);t.pdfLinkService.setDocument(null);t.pdfDocumentProperties.setDocument(null)}webViewerResetPermissions();t.store=null;t.isInitialViewSet=!1;t.downloadComplete=!1;t.url="";t.baseUrl="";t.documentInfo=null;t.metadata=null;t._contentDispositionFilename=null;t._contentLength=null;t.triggerDelayedFallback=null;t._saveInProgress=!1;t._cancelIdleCallbacks();r.push(t._destroyScriptingInstance());t.pdfSidebar.reset();t.pdfOutlineViewer.reset();t.pdfAttachmentViewer.reset();t.pdfLayerViewer.reset();t.pdfHistory&&t.pdfHistory.reset();t.findBar&&t.findBar.reset();t.toolbar.reset();t.secondaryToolbar.reset();"undefined"!=typeof PDFBug&&PDFBug.cleanup();a.next=33;return Promise.all(r);case 33:return a.abrupt("return",void 0);case 34:case"end":return a.stop()}}),_callee8)})))()},open:function open(t,r){var a=this;return _asyncToGenerator(i.default.mark((function _callee9(){var o,c,d,h,p,m,g,v;return i.default.wrap((function _callee9$(i){for(;;)switch(i.prev=i.next){case 0:if(!a.pdfLoadingTask){i.next=3;break}i.next=3;return a.close();case 3:o=l.AppOptions.getAll(l.OptionKind.WORKER);for(c in o)u.GlobalWorkerOptions[c]=o[c];d=Object.create(null);if("string"==typeof t){a.setTitleUsingUrl(t);d.url=t}else if(t&&"byteLength"in t)d.data=t;else if(t.url&&t.originalUrl){a.setTitleUsingUrl(t.originalUrl);d.url=t.url}h=l.AppOptions.getAll(l.OptionKind.API);for(p in h){m=h[p];d[p]=m}if(r)for(g in r)d[g]=r[g];v=(0,u.getDocument)(d);a.pdfLoadingTask=v;v.onPassword=function(t,r){a.pdfLinkService.externalLinkEnabled=!1;a.passwordPrompt.setUpdateCallback(t,r);a.passwordPrompt.open()};v.onProgress=function(t){var r=t.loaded,i=t.total;a.progress(r/i);a.eventBus.dispatch("progress",{source:a,type:"load",total:i,loaded:r,percent:100*r/i})};v.onUnsupportedFeature=a.fallback.bind(a);return i.abrupt("return",v.promise.then((function(t){a.load(t)}),(function(t){if(v===a.pdfLoadingTask){var r=null==t?void 0:t.message;return(t instanceof u.InvalidPDFException?a.l10n.get("invalid_file_error",null,"Invalid or corrupted PDF file."):t instanceof u.MissingPDFException?a.l10n.get("missing_file_error",null,"Missing PDF file."):t instanceof u.UnexpectedResponseException?a.l10n.get("unexpected_response_error",null,"Unexpected server response."):a.l10n.get("loading_error",null,"An error occurred while loading the PDF.")).then((function(i){a.error(i,{message:r});a.onError(t);throw t}))}})));case 16:case"end":return i.stop()}}),_callee9)})))()},download:function download(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.sourceEventType,a=void 0===r?"download":r;function downloadByUrl(){i.downloadUrl(o,l)}var i=this.downloadManager,o=this.baseUrl,l=this._docFilename;this.pdfDocument&&this.downloadComplete?this.pdfDocument.getData().then((function(t){var r=new Blob([t],{type:"application/pdf"});i.download(r,o,l,a)})).catch(downloadByUrl):downloadByUrl()},save:function save(){var t=arguments,r=this;return _asyncToGenerator(i.default.mark((function _callee11(){var a,o,l,u,c,d,h;return i.default.wrap((function _callee11$(p){for(;;)switch(p.prev=p.next){case 0:o=t.length>0&&void 0!==t[0]?t[0]:{},l=o.sourceEventType,u=void 0===l?"download":l;if(!r._saveInProgress){p.next=3;break}return p.abrupt("return");case 3:c=r.downloadManager,d=r.baseUrl,h=r._docFilename;if(r.pdfDocument&&r.downloadComplete){p.next=7;break}r.download({sourceEventType:u});return p.abrupt("return");case 7:r._saveInProgress=!0;p.next=10;return null===(a=r._scriptingInstance)||void 0===a?void 0:a.scripting.dispatchEventInSandbox({id:"doc",name:"WillSave"});case 10:r.pdfDocument.saveDocument(r.pdfDocument.annotationStorage).then((function(t){var r=new Blob([t],{type:"application/pdf"});c.download(r,d,h,u)})).catch((function(){r.download({sourceEventType:u})})).finally(_asyncToGenerator(i.default.mark((function _callee10(){var t;return i.default.wrap((function _callee10$(a){for(;;)switch(a.prev=a.next){case 0:a.next=2;return null===(t=r._scriptingInstance)||void 0===t?void 0:t.scripting.dispatchEventInSandbox({id:"doc",name:"DidSave"});case 2:r._saveInProgress=!1;case 3:case"end":return a.stop()}}),_callee10)}))));case 11:case"end":return p.stop()}}),_callee11)})))()},downloadOrSave:function downloadOrSave(t){var r;(null===(r=this.pdfDocument)||void 0===r?void 0:r.annotationStorage.size)>0?this.save(t):this.download(t)},_delayedFallback:function _delayedFallback(t){var r=this;this.externalServices.reportTelemetry({type:"unsupportedFeature",featureId:t});this.triggerDelayedFallback||(this.triggerDelayedFallback=function(){r.fallback(t);r.triggerDelayedFallback=null})},fallback:function fallback(t){var r=this;this.externalServices.reportTelemetry({type:"unsupportedFeature",featureId:t});if(!this.fellback){this.fellback=!0;this.externalServices.fallback({featureId:t,url:this.baseUrl}).then((function(t){t&&r.download({sourceEventType:"download"})}))}},error:function error(t,r){var a=[this.l10n.get("error_version_info",{version:u.version||"?",build:u.build||"?"},"PDF.js v{{version}} (build: {{build}})")];if(r){a.push(this.l10n.get("error_message",{message:r.message},"Message: {{message}}"));if(r.stack)a.push(this.l10n.get("error_stack",{stack:r.stack},"Stack: {{stack}}"));else{r.filename&&a.push(this.l10n.get("error_file",{file:r.filename},"File: {{file}}"));r.lineNumber&&a.push(this.l10n.get("error_line",{line:r.lineNumber},"Line: {{line}}"))}}var i=this.appConfig.errorWrapper,l=i.container;l.removeAttribute("hidden");i.errorMessage.textContent=t;var c=i.closeButton;c.onclick=function(){l.setAttribute("hidden","true")};var d=i.errorMoreInfo,h=i.moreInfoButton,p=i.lessInfoButton;h.onclick=function(){d.removeAttribute("hidden");h.setAttribute("hidden","true");p.removeAttribute("hidden");d.style.height=d.scrollHeight+"px"};p.onclick=function(){d.setAttribute("hidden","true");h.removeAttribute("hidden");p.setAttribute("hidden","true")};h.oncontextmenu=o.noContextMenuHandler;p.oncontextmenu=o.noContextMenuHandler;c.oncontextmenu=o.noContextMenuHandler;h.removeAttribute("hidden");p.setAttribute("hidden","true");Promise.all(a).then((function(t){d.value=t.join("\n")}))},progress:function progress(t){var r=this;if(!this.downloadComplete){var a=Math.round(100*t);if(a>this.loadingBar.percent||isNaN(a)){this.loadingBar.percent=a;if((this.pdfDocument?this.pdfDocument.loadingParams.disableAutoFetch:l.AppOptions.get("disableAutoFetch"))&&a){if(this.disableAutoFetchLoadingBarTimeout){clearTimeout(this.disableAutoFetchLoadingBarTimeout);this.disableAutoFetchLoadingBarTimeout=null}this.loadingBar.show();this.disableAutoFetchLoadingBarTimeout=setTimeout((function(){r.loadingBar.hide();r.disableAutoFetchLoadingBarTimeout=null}),5e3)}}}},load:function load(t){var r=this;this.pdfDocument=t;t.getDownloadInfo().then((function(t){var a=t.length;r._contentLength=a;r.downloadComplete=!0;r.loadingBar.hide();h.then((function(){r.eventBus.dispatch("documentloaded",{source:r})}))}));var a=t.getPageLayout().catch((function(){})),u=t.getPageMode().catch((function(){})),c=t.getOpenAction().catch((function(){}));this.toolbar.setPagesCount(t.numPages,!1);this.secondaryToolbar.setPagesCount(t.numPages);null;this.pdfLinkService.setDocument(t,null);this.pdfDocumentProperties.setDocument(t,this.url);var d=this.pdfViewer;d.setDocument(t);var h=d.firstPagePromise,p=d.onePageRendered,m=d.pagesPromise;this.pdfThumbnailViewer.setDocument(t);var g=(this.store=new O.ViewHistory(t.fingerprint)).getMultiple({page:null,zoom:o.DEFAULT_SCALE_VALUE,scrollLeft:"0",scrollTop:"0",rotation:null,sidebarView:o.SidebarView.UNKNOWN,scrollMode:o.ScrollMode.UNKNOWN,spreadMode:o.SpreadMode.UNKNOWN}).catch((function(){return Object.create(null)}));h.then((function(h){r.loadingBar.setWidth(r.appConfig.viewerContainer);r._initializeAnnotationStorageCallbacks(t);Promise.all([o.animationStarted,g,a,u,c]).then(function(){var a=_asyncToGenerator(i.default.mark((function _callee12(a){var u,c,h,p,g,v,y,b,S,w,C,P,k;return i.default.wrap((function _callee12$(i){for(;;)switch(i.prev=i.next){case 0:u=_slicedToArray(a,5),u[0],c=u[1],h=u[2],p=u[3],g=u[4];v=l.AppOptions.get("viewOnLoad");r._initializePdfHistory({fingerprint:t.fingerprint,viewOnLoad:v,initialDest:g&&g.dest});y=r.initialBookmark;b=l.AppOptions.get("defaultZoomValue");S=b?"zoom=".concat(b):null;w=null;C=l.AppOptions.get("sidebarViewOnLoad");P=l.AppOptions.get("scrollModeOnLoad");k=l.AppOptions.get("spreadModeOnLoad");if(c.page&&v!==M){S="page=".concat(c.page,"&zoom=").concat(b||c.zoom,",")+"".concat(c.scrollLeft,",").concat(c.scrollTop);w=parseInt(c.rotation,10);C===o.SidebarView.UNKNOWN&&(C=0|c.sidebarView);P===o.ScrollMode.UNKNOWN&&(P=0|c.scrollMode);k===o.SpreadMode.UNKNOWN&&(k=0|c.spreadMode)}p&&C===o.SidebarView.UNKNOWN&&(C=apiPageModeToSidebarView(p));h&&k===o.SpreadMode.UNKNOWN&&(k=apiPageLayoutToSpreadMode(h));r.setInitialView(S,{rotation:w,sidebarView:C,scrollMode:P,spreadMode:k});r.eventBus.dispatch("documentinit",{source:r});r.isViewerEmbedded||d.focus();r._initializePermissions(t);i.next=19;return Promise.race([m,new Promise((function(t){setTimeout(t,1e4)}))]);case 19:if(y||S){i.next=21;break}return i.abrupt("return");case 21:if(!d.hasEqualPageSizes){i.next=23;break}return i.abrupt("return");case 23:r.initialBookmark=y;d.currentScaleValue=d.currentScaleValue;r.setInitialView(S);case 26:case"end":return i.stop()}}),_callee12)})));return function(t){return a.apply(this,arguments)}}()).catch((function(){r.setInitialView()})).then((function(){d.update()}))}));m.then((function(){r._initializeAutoPrint(t,c)}));p.then((function(){t.getOutline().then((function(a){r.pdfOutlineViewer.render({outline:a,pdfDocument:t})}));t.getAttachments().then((function(t){r.pdfAttachmentViewer.render({attachments:t})}));d.optionalContentConfigPromise.then((function(a){r.pdfLayerViewer.render({optionalContentConfig:a,pdfDocument:t})}));if("requestIdleCallback"in window){var a=window.requestIdleCallback((function(){r._collectTelemetry(t);r._idleCallbacks.delete(a)}),{timeout:1e3});r._idleCallbacks.add(a)}r._initializeJavaScript(t)}));this._initializePageLabels(t);this._initializeMetadata(t)},_initializeJavaScript:function _initializeJavaScript(t){var r=this;return _asyncToGenerator(i.default.mark((function _callee15(){var a,o,u,c,d,h,p,m,g,v,y,b,S,w,C,P,k,R,A,T,E,x,I,O,L,D,M;return i.default.wrap((function _callee15$(B){for(;;)switch(B.prev=B.next){case 0:if(l.AppOptions.get("enableScripting")){B.next=2;break}return B.abrupt("return");case 2:B.next=4;return Promise.all([t.getFieldObjects(),t.getCalculationOrderIds(),t.getJSActions()]);case 4:a=B.sent;o=_slicedToArray(a,3);u=o[0];c=o[1];d=o[2];if(u||d){B.next=11;break}return B.abrupt("return");case 11:if(t===r.pdfDocument){B.next=13;break}return B.abrupt("return");case 13:h=r.externalServices.createScripting({sandboxBundleSrc:l.AppOptions.get("sandboxBundleSrc")});p=new Map,m=new Map;r._scriptingInstance={scripting:h,ready:!1,internalEvents:p,domEvents:m};if(r.documentInfo){B.next=21;break}B.next=19;return new Promise((function(t){r.eventBus._on("metadataloaded",(function(r){t()}),{once:!0})}));case 19:if(t===r.pdfDocument){B.next=21;break}return B.abrupt("return");case 21:if(r._contentLength){B.next=26;break}B.next=24;return new Promise((function(t){r.eventBus._on("documentloaded",(function(r){t()}),{once:!0})}));case 24:if(t===r.pdfDocument){B.next=26;break}return B.abrupt("return");case 26:g=function updateFromSandbox(a){var i=a.detail,o=i.id,l=i.command,u=i.value;if(o){var c=document.getElementById(o);c?c.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:i})):null!=u&&t.annotationStorage.setValue(o,u)}else switch(l){case"clear":console.clear();break;case"error":console.error(u);break;case"layout":r.pdfViewer.spreadMode=apiPageLayoutToSpreadMode(u);break;case"page-num":r.pdfViewer.currentPageNumber=u+1;break;case"print":r.pdfViewer.pagesPromise.then((function(){r.triggerPrinting()}));break;case"println":console.log(u);break;case"zoom":r.pdfViewer.currentScaleValue=u}};p.set("updatefromsandbox",g);v=new Map;y=function pageOpen(a){var o=a.pageNumber,l=a.actionsPromise;v.set(o,_asyncToGenerator(i.default.mark((function _callee13(){var a,u;return i.default.wrap((function _callee13$(i){for(;;)switch(i.prev=i.next){case 0:u=null;if(v.has(o)){i.next=7;break}i.next=4;return l;case 4:u=i.sent;if(t===r.pdfDocument){i.next=7;break}return i.abrupt("return");case 7:i.next=9;return null===(a=r._scriptingInstance)||void 0===a?void 0:a.scripting.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:o,actions:u});case 9:case"end":return i.stop()}}),_callee13)})))())};b=function(){var a=_asyncToGenerator(i.default.mark((function _callee14(a){var o,l,u;return i.default.wrap((function _callee14$(i){for(;;)switch(i.prev=i.next){case 0:l=a.pageNumber;if(u=v.get(l)){i.next=4;break}return i.abrupt("return");case 4:v.set(l,null);i.next=7;return u;case 7:if(t===r.pdfDocument){i.next=9;break}return i.abrupt("return");case 9:i.next=11;return null===(o=r._scriptingInstance)||void 0===o?void 0:o.scripting.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:l});case 11:case"end":return i.stop()}}),_callee14)})));return function pageClose(t){return a.apply(this,arguments)}}();p.set("pageopen",y);p.set("pageclose",b);S=function dispatchEventInSandbox(t){var r=t.detail;h.dispatchEventInSandbox(r)};p.set("dispatcheventinsandbox",S);w=function mouseDown(t){r._mouseState.isDown=!0};m.set("mousedown",w);C=function mouseUp(t){r._mouseState.isDown=!1};m.set("mouseup",C);P=_createForOfIteratorHelper(p);try{for(P.s();!(k=P.n()).done;){R=_slicedToArray(k.value,2),A=R[0],T=R[1];r.eventBus._on(A,T)}}catch(t){P.e(t)}finally{P.f()}E=_createForOfIteratorHelper(m);try{for(E.s();!(x=E.n()).done;){I=_slicedToArray(x.value,2),O=I[0],L=I[1];window.addEventListener(O,L)}}catch(t){E.e(t)}finally{E.f()}B.prev=43;B.next=46;return h.createSandbox({objects:u,calculationOrder:c,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:_objectSpread(_objectSpread({},r.documentInfo),{},{baseURL:r.baseUrl,filesize:r._contentLength,filename:r._docFilename,metadata:null===(D=r.metadata)||void 0===D?void 0:D.getRaw(),authors:null===(M=r.metadata)||void 0===M?void 0:M.get("dc:creator"),numPages:t.numPages,URL:r.url,actions:d})});case 46:r.externalServices.isInAutomation&&r.eventBus.dispatch("sandboxcreated",{source:r});B.next=54;break;case 49:B.prev=49;B.t0=B.catch(43);console.error('_initializeJavaScript: "'.concat(null===B.t0||void 0===B.t0?void 0:B.t0.message,'".'));r._destroyScriptingInstance();return B.abrupt("return");case 54:B.next=56;return h.dispatchEventInSandbox({id:"doc",name:"Open"});case 56:B.next=58;return r.pdfViewer.initializeScriptingEvents();case 58:Promise.resolve().then((function(){r._scriptingInstance&&(r._scriptingInstance.ready=!0)}));case 59:case"end":return B.stop()}}),_callee15,null,[[43,49]])})))()},_collectTelemetry:function _collectTelemetry(t){var r=this;return _asyncToGenerator(i.default.mark((function _callee16(){var a,o;return i.default.wrap((function _callee16$(i){for(;;)switch(i.prev=i.next){case 0:i.next=2;return r.pdfDocument.getMarkInfo();case 2:a=i.sent;if(t===r.pdfDocument){i.next=5;break}return i.abrupt("return");case 5:o=(null==a?void 0:a.Marked)||!1;r.externalServices.reportTelemetry({type:"tagged",tagged:o});case 7:case"end":return i.stop()}}),_callee16)})))()},_initializeAutoPrint:function _initializeAutoPrint(t,r){var a=this;return _asyncToGenerator(i.default.mark((function _callee17(){var c,d,h,p,m,g,v,y;return i.default.wrap((function _callee17$(i){for(;;)switch(i.prev=i.next){case 0:i.next=2;return Promise.all([r,l.AppOptions.get("enableScripting")?null:t.getJavaScript()]);case 2:c=i.sent;d=_slicedToArray(c,2);h=d[0];p=d[1];if(t===a.pdfDocument){i.next=8;break}return i.abrupt("return");case 8:m=!1;"Print"===(null==h?void 0:h.action)&&(m=!0);if(!p){i.next=31;break}p.some((function(t){if(!t)return!1;console.warn("Warning: JavaScript is not supported");a._delayedFallback(u.UNSUPPORTED_FEATURES.javaScript);return!0}));if(m){i.next=31;break}g=_createForOfIteratorHelper(p);i.prev=14;g.s();case 16:if((v=g.n()).done){i.next=23;break}if(!(y=v.value)||!o.AutoPrintRegExp.test(y)){i.next=21;break}m=!0;return i.abrupt("break",23);case 21:i.next=16;break;case 23:i.next=28;break;case 25:i.prev=25;i.t0=i.catch(14);g.e(i.t0);case 28:i.prev=28;g.f();return i.finish(28);case 31:m&&a.triggerPrinting();case 32:case"end":return i.stop()}}),_callee17,null,[[14,25,28,31]])})))()},_initializeMetadata:function _initializeMetadata(t){var r=this;return _asyncToGenerator(i.default.mark((function _callee18(){var a,o,l,c,d,h,p,m,g,v,y,b,S,w;return i.default.wrap((function _callee18$(i){for(;;)switch(i.prev=i.next){case 0:i.next=2;return t.getMetadata();case 2:o=i.sent;l=o.info;c=o.metadata;d=o.contentDispositionFilename;h=o.contentLength;if(t===r.pdfDocument){i.next=9;break}return i.abrupt("return");case 9:r.documentInfo=l;r.metadata=c;r._contentDispositionFilename=d;null!==(a=r._contentLength)&&void 0!==a||(r._contentLength=h);if(!(p=window.PDFViewerApplicationOptions)||p.get("verbosity")>0){console.log("PDF viewer: ngx-extended-pdf-viewer running on pdf.js "+(window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"].version:" developer version (?)"));console.log("PDF ".concat(t.fingerprint," [").concat(l.PDFFormatVersion," ")+"".concat((l.Producer||"-").trim()," / ").concat((l.Creator||"-").trim(),"] ")+"(PDF.js: ".concat(u.version||"-")+"".concat(r.pdfViewer.enableWebGL?" [WebGL]":"",") modified by ngx-extended-pdf-viewer)"))}(g=l&&l.Title)&&(m=g);(v=c&&c.get("dc:title"))&&("Untitled"===v||/[\uFFF0-\uFFFF]/g.test(v)||(m=v));m?r.setTitle("".concat(m," - ").concat(d||document.title)):d&&r.setTitle(d);if(l.IsXFAPresent&&!l.IsAcroFormPresent){console.warn("Warning: XFA is not supported");r._delayedFallback(u.UNSUPPORTED_FEATURES.forms)}else if((l.IsAcroFormPresent||l.IsXFAPresent)&&!r.pdfViewer.renderInteractiveForms){console.warn("Warning: Interactive form support is not enabled");r._delayedFallback(u.UNSUPPORTED_FEATURES.forms)}y="other";N.includes(l.PDFFormatVersion)&&(y="v".concat(l.PDFFormatVersion.replace(".","_")));b="other";if(l.Producer){S=l.Producer.toLowerCase();W.some((function(t){if(!S.includes(t))return!1;b=t.replace(/[ .-]/g,"_");return!0}))}w=null;l.IsXFAPresent?w="xfa":l.IsAcroFormPresent&&(w="acroform");r.externalServices.reportTelemetry({type:"documentInfo",version:y,generator:b,formType:w});r.eventBus.dispatch("metadataloaded",{source:r});case 29:case"end":return i.stop()}}),_callee18)})))()},_initializePageLabels:function _initializePageLabels(t){var r=this;return _asyncToGenerator(i.default.mark((function _callee19(){var a,o,u,c,d,h;return i.default.wrap((function _callee19$(i){for(;;)switch(i.prev=i.next){case 0:i.next=2;return t.getPageLabels();case 2:a=i.sent;if(t===r.pdfDocument){i.next=5;break}return i.abrupt("return");case 5:if(a&&!l.AppOptions.get("disablePageLabels")){i.next=7;break}return i.abrupt("return");case 7:if((o=a.length)===r.pagesCount){i.next=11;break}console.error("The number of Page Labels does not match the number of pages in the document.");return i.abrupt("return");case 11:u=0;for(;u<o&&a[u]===(u+1).toString();)u++;if(u!==o){i.next=15;break}return i.abrupt("return");case 15:c=r.pdfViewer,d=r.pdfThumbnailViewer,h=r.toolbar;c.setPageLabels(a);d.setPageLabels(a);h.setPagesCount(o,!0);h.setPageNumber(c.currentPageNumber,c.currentPageLabel);case 20:case"end":return i.stop()}}),_callee19)})))()},_initializePdfHistory:function _initializePdfHistory(t){var r=t.fingerprint,a=t.viewOnLoad,i=t.initialDest,o=void 0===i?null:i;if(!this.isViewerEmbedded&&!l.AppOptions.get("disableHistory")){this.pdfHistory.initialize({fingerprint:r,resetHistory:a===M,updateUrl:l.AppOptions.get("historyUpdateUrl")});if(this.pdfHistory.initialBookmark){this.initialBookmark=this.pdfHistory.initialBookmark;this.initialRotation=this.pdfHistory.initialRotation}if(o&&!this.initialBookmark&&a===D){this.initialBookmark=JSON.stringify(o);this.pdfHistory.push({explicitDest:o,pageNumber:null})}}},_initializePermissions:function _initializePermissions(t){var r=this;return _asyncToGenerator(i.default.mark((function _callee20(){var a;return i.default.wrap((function _callee20$(i){for(;;)switch(i.prev=i.next){case 0:i.next=2;return t.getPermissions();case 2:a=i.sent;if(t===r.pdfDocument){i.next=5;break}return i.abrupt("return");case 5:if(a&&l.AppOptions.get("enablePermissions")){i.next=7;break}return i.abrupt("return");case 7:a.includes(u.PermissionFlag.COPY)||r.appConfig.viewerContainer.classList.add(L);case 8:case"end":return i.stop()}}),_callee20)})))()},_initializeAnnotationStorageCallbacks:function _initializeAnnotationStorageCallbacks(t){if(t===this.pdfDocument){var r=t.annotationStorage;r.onSetModified=function(){window.addEventListener("beforeunload",beforeUnload)};r.onResetModified=function(){window.removeEventListener("beforeunload",beforeUnload)}}},setInitialView:function setInitialView(t){var r=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=a.rotation,l=a.sidebarView,u=a.scrollMode,c=a.spreadMode,d=function setRotation(t){(0,o.isValidRotation)(t)&&(r.pdfViewer.pagesRotation=t)},h=function setViewerModes(t,a){(0,o.isValidScrollMode)(t)&&(r.pdfViewer.scrollMode=t);(0,o.isValidSpreadMode)(a)&&(r.pdfViewer.spreadMode=a)};this.isInitialViewSet=!0;this.pdfSidebar.setInitialView(l);h(u,c);if(this.initialBookmark){d(this.initialRotation);delete this.initialRotation;this.pdfLinkService.setHash(this.initialBookmark);this.initialBookmark=null}else if(t){d(i);this.pdfLinkService.setHash(t)}this.toolbar.setPageNumber(this.pdfViewer.currentPageNumber,this.pdfViewer.currentPageLabel);this.secondaryToolbar.setPageNumber(this.pdfViewer.currentPageNumber);if(!this.pdfViewer.currentScaleValue){var p=PDFViewerApplicationOptions.get("defaultZoomValue");this.pdfViewer.currentScaleValue=p||o.DEFAULT_SCALE_VALUE}},cleanup:function cleanup(){if(this.pdfDocument){this.pdfViewer.cleanup();this.pdfThumbnailViewer.cleanup();this.pdfViewer.renderer!==o.RendererType.SVG&&this.pdfDocument.cleanup()}},forceRendering:function forceRendering(){this.pdfRenderingQueue.printing=!!this.printService;this.pdfRenderingQueue.isThumbnailViewEnabled=this.pdfSidebar.isThumbnailViewVisible;this.pdfRenderingQueue.renderHighestPriority()},beforePrint:function beforePrint(){var t,r=this;null===(t=this._scriptingInstance)||void 0===t||t.scripting.dispatchEventInSandbox({id:"doc",name:"WillPrint"});if(!this.printService)if(this.supportsPrinting)if(this.pdfViewer.pageViewsReady){var a=this.pdfViewer.getPagesOverview(),i=this.appConfig.printContainer,o=l.AppOptions.get("printResolution"),u=this.pdfViewer.optionalContentConfigPromise,c=Q.instance.createPrintService(this.pdfDocument,a,i,o,u,this.l10n,this.pdfViewer.eventBus);this.printService=c;this.forceRendering();c.layout();this.externalServices.reportTelemetry({type:"print"})}else this.l10n.get("printing_not_ready",null,"Warning: The PDF is not fully loaded for printing.").then((function(t){window.alert(t)}));else this.l10n.get("printing_not_supported",null,"Warning: Printing is not fully supported by this browser.").then((function(t){r.error(t)}))},afterPrint:function afterPrint(){var t;null===(t=this._scriptingInstance)||void 0===t||t.scripting.dispatchEventInSandbox({id:"doc",name:"DidPrint"});if(this.printService){document.body.removeAttribute("data-pdfjsprinting");this.printService.destroy();this.printService=null;this.pdfDocument&&this.pdfDocument.annotationStorage.resetModified()}this.forceRendering()},rotatePages:function rotatePages(t){if(this.pdfDocument){var r=(this.pdfViewer.pagesRotation+360+t)%360;this.pdfViewer.pagesRotation=r}},requestPresentationMode:function requestPresentationMode(){this.pdfPresentationMode&&this.pdfPresentationMode.request()},triggerPrinting:function triggerPrinting(){this.supportsPrinting&&window.printPDF()},bindEvents:function bindEvents(){var t=this.eventBus,r=this._boundEvents;r.beforePrint=this.beforePrint.bind(this);r.afterPrint=this.afterPrint.bind(this);t._on("resize",webViewerResize);t._on("hashchange",webViewerHashchange);t._on("beforeprint",r.beforePrint);t._on("afterprint",r.afterPrint);t._on("pagerendered",webViewerPageRendered);t._on("updateviewarea",webViewerUpdateViewarea);t._on("pagechanging",webViewerPageChanging);t._on("scalechanging",webViewerScaleChanging);t._on("rotationchanging",webViewerRotationChanging);t._on("sidebarviewchanged",webViewerSidebarViewChanged);t._on("pagemode",webViewerPageMode);t._on("namedaction",webViewerNamedAction);t._on("presentationmodechanged",webViewerPresentationModeChanged);t._on("presentationmode",webViewerPresentationMode);t._on("print",webViewerPrint);t._on("download",webViewerDownload);t._on("save",webViewerSave);t._on("firstpage",webViewerFirstPage);t._on("lastpage",webViewerLastPage);t._on("nextpage",webViewerNextPage);t._on("previouspage",webViewerPreviousPage);t._on("zoomin",webViewerZoomIn);t._on("zoomout",webViewerZoomOut);t._on("zoomreset",webViewerZoomReset);t._on("pagenumberchanged",webViewerPageNumberChanged);t._on("scalechanged",webViewerScaleChanged);t._on("rotatecw",webViewerRotateCw);t._on("rotateccw",webViewerRotateCcw);t._on("optionalcontentconfig",webViewerOptionalContentConfig);t._on("switchscrollmode",webViewerSwitchScrollMode);t._on("scrollmodechanged",webViewerScrollModeChanged);t._on("switchspreadmode",webViewerSwitchSpreadMode);t._on("spreadmodechanged",webViewerSpreadModeChanged);t._on("documentproperties",webViewerDocumentProperties);t._on("find",webViewerFind);t._on("findfromurlhash",webViewerFindFromUrlHash);t._on("updatefindmatchescount",webViewerUpdateFindMatchesCount);t._on("updatefindcontrolstate",webViewerUpdateFindControlState);if(l.AppOptions.get("pdfBug")){r.reportPageStatsPDFBug=reportPageStatsPDFBug;t._on("pagerendered",r.reportPageStatsPDFBug);t._on("pagechanging",r.reportPageStatsPDFBug)}t._on("fileinputchange",G);t._on("openfile",z)},bindWindowEvents:function bindWindowEvents(){var t=this.eventBus,r=this._boundEvents;r.windowResize=function(){t.dispatch("resize",{source:window})};r.windowHashChange=function(){t.dispatch("hashchange",{source:window,hash:document.location.hash.substring(1)})};r.windowBeforePrint=function(){t.dispatch("beforeprint",{source:window})};r.windowAfterPrint=function(){t.dispatch("afterprint",{source:window})};r.windowUpdateFromSandbox=function(r){t.dispatch("updatefromsandbox",{source:window,detail:r.detail})};window.addEventListener("visibilitychange",webViewerVisibilityChange);window.addEventListener("wheel",webViewerWheel,{passive:!1});window.addEventListener("touchstart",webViewerTouchStart,{passive:!1});window.addEventListener("click",webViewerClick);window.addEventListener("keydown",webViewerKeyDown);window.addEventListener("keyup",webViewerKeyUp);window.addEventListener("resize",r.windowResize);window.addEventListener("hashchange",r.windowHashChange);window.addEventListener("beforeprint",r.windowBeforePrint);window.addEventListener("afterprint",r.windowAfterPrint);window.addEventListener("updatefromsandbox",r.windowUpdateFromSandbox)},unbindEvents:function unbindEvents(){var t=this.eventBus,r=this._boundEvents;t._off("resize",webViewerResize);t._off("hashchange",webViewerHashchange);t._off("beforeprint",r.beforePrint);t._off("afterprint",r.afterPrint);t._off("pagerendered",webViewerPageRendered);t._off("updateviewarea",webViewerUpdateViewarea);t._off("pagechanging",webViewerPageChanging);t._off("scalechanging",webViewerScaleChanging);t._off("rotationchanging",webViewerRotationChanging);t._off("sidebarviewchanged",webViewerSidebarViewChanged);t._off("pagemode",webViewerPageMode);t._off("namedaction",webViewerNamedAction);t._off("presentationmodechanged",webViewerPresentationModeChanged);t._off("presentationmode",webViewerPresentationMode);t._off("print",webViewerPrint);t._off("download",webViewerDownload);t._off("save",webViewerSave);t._off("firstpage",webViewerFirstPage);t._off("lastpage",webViewerLastPage);t._off("nextpage",webViewerNextPage);t._off("previouspage",webViewerPreviousPage);t._off("zoomin",webViewerZoomIn);t._off("zoomout",webViewerZoomOut);t._off("zoomreset",webViewerZoomReset);t._off("pagenumberchanged",webViewerPageNumberChanged);t._off("scalechanged",webViewerScaleChanged);t._off("rotatecw",webViewerRotateCw);t._off("rotateccw",webViewerRotateCcw);t._off("optionalcontentconfig",webViewerOptionalContentConfig);t._off("switchscrollmode",webViewerSwitchScrollMode);t._off("scrollmodechanged",webViewerScrollModeChanged);t._off("switchspreadmode",webViewerSwitchSpreadMode);t._off("spreadmodechanged",webViewerSpreadModeChanged);t._off("documentproperties",webViewerDocumentProperties);t._off("find",webViewerFind);t._off("findfromurlhash",webViewerFindFromUrlHash);t._off("updatefindmatchescount",webViewerUpdateFindMatchesCount);t._off("updatefindcontrolstate",webViewerUpdateFindControlState);if(r.reportPageStatsPDFBug){t._off("pagerendered",r.reportPageStatsPDFBug);t._off("pagechanging",r.reportPageStatsPDFBug);r.reportPageStatsPDFBug=null}t._off("fileinputchange",G);t._off("openfile",z);r.beforePrint=null;r.afterPrint=null},unbindWindowEvents:function unbindWindowEvents(){var t=this._boundEvents;window.removeEventListener("visibilitychange",webViewerVisibilityChange);window.removeEventListener("wheel",webViewerWheel,{passive:!1});window.removeEventListener("touchstart",webViewerTouchStart,{passive:!1});window.removeEventListener("click",webViewerClick);window.removeEventListener("keydown",webViewerKeyDown);window.removeEventListener("keyup",webViewerKeyUp);window.removeEventListener("resize",t.windowResize);window.removeEventListener("hashchange",t.windowHashChange);window.removeEventListener("beforeprint",t.windowBeforePrint);window.removeEventListener("afterprint",t.windowAfterPrint);window.removeEventListener("updatefromsandbox",t.windowUpdateFromSandbox);t.windowResize=null;t.windowHashChange=null;t.windowBeforePrint=null;t.windowAfterPrint=null;t.windowUpdateFromSandbox=null},accumulateWheelTicks:function accumulateWheelTicks(t){(this._wheelUnusedTicks>0&&t<0||this._wheelUnusedTicks<0&&t>0)&&(this._wheelUnusedTicks=0);this._wheelUnusedTicks+=t;var r=Math.sign(this._wheelUnusedTicks)*Math.floor(Math.abs(this._wheelUnusedTicks));this._wheelUnusedTicks-=r;return r},get scriptingReady(){var t;return(null===(t=this._scriptingInstance)||void 0===t?void 0:t.ready)||!1}};r.PDFViewerApplication=U;var q,G,z,H=["null","http://mozilla.github.io","https://mozilla.github.io"];V=function validateFileURL(t){if(void 0!==t)try{var r=new URL(window.location.href).origin||"null";if(H.includes(r))return;var a=new URL(t,window.location.href),i=a.origin,o=a.protocol;if(i!==r&&"blob:"!==o)throw new Error("file origin does not match viewer's")}catch(t){var l=t&&t.message;U.l10n.get("loading_error",null,"An error occurred while loading the PDF.").then((function(t){U.error(t,{message:l})}));throw t}};function loadFakeWorker(){return _loadFakeWorker.apply(this,arguments)}function _loadFakeWorker(){return(_loadFakeWorker=_asyncToGenerator(i.default.mark((function _callee21(){return i.default.wrap((function _callee21$(t){for(;;)switch(t.prev=t.next){case 0:u.GlobalWorkerOptions.workerSrc||(u.GlobalWorkerOptions.workerSrc=l.AppOptions.get("workerSrc"));return t.abrupt("return",(0,u.loadScript)(u.PDFWorker.getWorkerSrc()));case 2:case"end":return t.stop()}}),_callee21)})))).apply(this,arguments)}function loadAndEnablePDFBug(t){var r=U.appConfig;return(0,u.loadScript)(r.debuggerScriptPath).then((function(){PDFBug.enable(t);PDFBug.init({OPS:u.OPS},r.mainContainer)}))}function reportPageStatsPDFBug(t){var r=t.pageNumber;if("undefined"!=typeof Stats&&Stats.enabled){var a=U.pdfViewer.getPageView(r-1),i=a&&a.pdfPage&&a.pdfPage.stats;i&&Stats.add(r,i)}}function webViewerInitialized(){var t,r=U.appConfig,a=document.location.search.substring(1),i=(0,o.parseQueryString)(a);t="file"in i?i.file:l.AppOptions.get("defaultUrl");V(t);var u=document.createElement("input");u.id=r.openFileInputName;u.className="fileInput";u.setAttribute("accept",".pdf,application/pdf");u.setAttribute("type","file");u.oncontextmenu=o.noContextMenuHandler;document.body.appendChild(u);if(window.File&&window.FileReader&&window.FileList&&window.Blob)u.value=null;else{r.toolbar.openFile.setAttribute("hidden","true");r.secondaryToolbar.openFileButton.setAttribute("hidden","true")}u.addEventListener("change",(function(t){var r=t.target.files;r&&0!==r.length&&U.eventBus.dispatch("fileinputchange",{source:this,fileInput:t.target})}));r.mainContainer.addEventListener("dragover",(function(t){t.preventDefault();t.dataTransfer.dropEffect="move"}));r.mainContainer.addEventListener("drop",(function(t){t.preventDefault();var r=t.dataTransfer.files;r&&0!==r.length&&U.eventBus.dispatch("fileinputchange",{source:this,fileInput:t.dataTransfer})}));if(!U.supportsDocumentFonts){l.AppOptions.set("disableFontFace",!0);U.l10n.get("web_fonts_disabled",null,"Web fonts are disabled: unable to use embedded PDF fonts.").then((function(t){console.warn(t)}))}if(!U.supportsPrinting){r.toolbar.print.classList.add("hidden");r.secondaryToolbar.printButton.classList.add("hidden")}if(!U.supportsFullscreen){r.toolbar.presentationModeButton.classList.add("hidden");r.secondaryToolbar.presentationModeButton.classList.add("hidden")}U.supportsIntegratedFind&&r.toolbar.viewFind.classList.add("hidden");r.mainContainer.addEventListener("transitionend",(function(t){t.target===this&&U.eventBus.dispatch("resize",{source:this})}),!0);try{q(t)}catch(t){U.l10n.get("loading_error",null,"An error occurred while loading the PDF.").then((function(r){U.error(r,t)}))}}q=function webViewerOpenFileViaURL(t){if(t&&0===t.lastIndexOf("file:",0)){U.setTitleUsingUrl(t);var r=new XMLHttpRequest;r.onload=function(){U.open(new Uint8Array(r.response))};r.open("GET",t);r.responseType="arraybuffer";r.send()}else t&&U.open(t)};function webViewerResetPermissions(){var t=U.appConfig;t&&t.viewerContainer.classList.remove(L)}function webViewerPageRendered(t){var r=t.pageNumber,a=t.timestamp,i=t.error;r===U.page&&U.toolbar.updateLoadingIndicatorState(!1);if(U.pdfSidebar.isThumbnailViewVisible){var o=U.pdfViewer.getPageView(r-1),l=U.pdfThumbnailViewer.getThumbnail(r-1);o&&l&&l.setImage(o)}i&&U.l10n.get("rendering_error",null,"An error occurred while rendering the page.").then((function(t){U.error(t,i)}));U.externalServices.reportTelemetry({type:"pageInfo",timestamp:a});U.pdfDocument.getStats().then((function(t){U.externalServices.reportTelemetry({type:"documentStats",stats:t})}))}function webViewerPageMode(t){var r,a=t.mode;switch(a){case"thumbs":r=o.SidebarView.THUMBS;break;case"bookmarks":case"outline":r=o.SidebarView.OUTLINE;break;case"attachments":r=o.SidebarView.ATTACHMENTS;break;case"layers":r=o.SidebarView.LAYERS;break;case"none":r=o.SidebarView.NONE;break;default:console.error('Invalid "pagemode" hash parameter: '+a);return}U.pdfSidebar.switchView(r,!0)}function webViewerNamedAction(t){switch(t.action){case"GoToPage":U.appConfig.toolbar.pageNumber.select();break;case"Find":U.supportsIntegratedFind||U.findBar.toggle();break;case"Print":U.triggerPrinting();break;case"SaveAs":webViewerSave()}}function webViewerPresentationModeChanged(t){U.pdfViewer.presentationModeState=t.state}function webViewerSidebarViewChanged(t){U.pdfRenderingQueue.isThumbnailViewEnabled=U.pdfSidebar.isThumbnailViewVisible;var r=U.store;r&&U.isInitialViewSet&&r.set("sidebarView",t.view).catch((function(){}))}function webViewerUpdateViewarea(t){var r=t.location,a=U.store;a&&U.isInitialViewSet&&a.setMultiple({page:r.pageNumber,zoom:r.scale,scrollLeft:r.left,scrollTop:r.top,rotation:r.rotation}).catch((function(){}));var i=U.pdfLinkService.getAnchorUrl(r.pdfOpenParams);U.appConfig.toolbar.viewBookmark.href=i;U.appConfig.secondaryToolbar.viewBookmarkButton.href=i;var o=U.pdfViewer.getPageView(U.page-1),l=(o&&o.renderingState)!==d.RenderingStates.FINISHED;U.toolbar.updateLoadingIndicatorState(l)}function webViewerScrollModeChanged(t){var r=U.store;r&&U.isInitialViewSet&&r.set("scrollMode",t.mode).catch((function(){}))}function webViewerSpreadModeChanged(t){var r=U.store;r&&U.isInitialViewSet&&r.set("spreadMode",t.mode).catch((function(){}))}function webViewerResize(){var t=U.pdfDocument,r=U.pdfViewer;if(t){var a=r.currentScaleValue;"auto"!==a&&"page-fit"!==a&&"page-width"!==a||(r.currentScaleValue=a);r.update()}}function webViewerHashchange(t){var r=t.hash;r&&(U.isInitialViewSet?U.pdfHistory.popStateInProgress||U.pdfLinkService.setHash(r):U.initialBookmark=r)}G=function webViewerFileInputChange(t){if(!U.pdfViewer||!U.pdfViewer.isInPresentationMode){var r=t.fileInput.files[0];if(I.viewerCompatibilityParams.disableCreateObjectURL){U.setTitleUsingUrl(r.name);var a=new FileReader;a.onload=function webViewerChangeFileReaderOnload(t){var r=t.target.result;U.open(new Uint8Array(r))};a.readAsArrayBuffer(r)}else{var i=URL.createObjectURL(r);r.name&&(i={url:i,originalUrl:r.name});U.open(i)}var o=U.appConfig;o.toolbar.viewBookmark.setAttribute("hidden","true");o.secondaryToolbar.viewBookmarkButton.setAttribute("hidden","true");o.toolbar.download.setAttribute("hidden","true");o.secondaryToolbar.downloadButton.setAttribute("hidden","true")}};z=function webViewerOpenFile(t){var r=U.appConfig.openFileInputName;document.getElementById(r).click()};function webViewerPresentationMode(){U.requestPresentationMode()}function webViewerPrint(){U.triggerPrinting()}function webViewerDownload(){U.downloadOrSave({sourceEventType:"download"})}function webViewerSave(){U.downloadOrSave({sourceEventType:"save"})}function webViewerFirstPage(){U.pdfDocument&&(U.page=1)}function webViewerLastPage(){if(U.pdfDocument){U.page=U.pagesCount;"single"===U.pageViewMode&&U.pdfViewer&&U.pdfViewer.container&&(U.pdfViewer.container.scrollTop=0)}}function webViewerNextPage(){U.pdfViewer.nextPage();"single"===U.pageViewMode&&U.pdfViewer&&U.pdfViewer.container&&(U.pdfViewer.container.scrollTop=0)}function webViewerPreviousPage(){U.pdfViewer.previousPage()}function webViewerZoomIn(){U.zoomIn()}function webViewerZoomOut(){U.zoomOut()}function webViewerZoomReset(){U.zoomReset()}function webViewerPageNumberChanged(t){var r=U.pdfViewer;""!==t.value&&U.pdfLinkService.goToPage(t.value);t.value!==r.currentPageNumber.toString()&&t.value!==r.currentPageLabel&&U.toolbar.setPageNumber(r.currentPageNumber,r.currentPageLabel)}function webViewerScaleChanged(t){U.pdfViewer.currentScaleValue=t.value}function webViewerRotateCw(){U.rotatePages(90)}function webViewerRotateCcw(){U.rotatePages(-90)}function webViewerOptionalContentConfig(t){U.pdfViewer.optionalContentConfigPromise=t.promise}function webViewerSwitchScrollMode(t){U.pdfViewer.scrollMode=t.mode}function webViewerSwitchSpreadMode(t){U.pdfViewer.spreadMode=t.mode}function webViewerDocumentProperties(){U.pdfDocumentProperties.open()}function webViewerFind(t){U.findController.executeCommand("find"+t.type,{query:t.query,phraseSearch:t.phraseSearch,caseSensitive:t.caseSensitive,entireWord:t.entireWord,ignoreAccents:t.ignoreAccents,fuzzySearch:t.fuzzySearch,highlightAll:t.highlightAll,findPrevious:t.findPrevious})}function webViewerFindFromUrlHash(t){U.findController.executeCommand("find",{query:t.query,phraseSearch:t.phraseSearch,caseSensitive:!1,entireWord:!1,ignoreAccents:!1,fuzzySearch:!1,highlightAll:!0,findPrevious:!1})}function webViewerUpdateFindMatchesCount(t){var r=t.matchesCount;U.supportsIntegratedFind?U.externalServices.updateFindMatchesCount(r):U.findBar.updateResultsCount(r)}function webViewerUpdateFindControlState(t){var r=t.state,a=t.previous,i=t.matchesCount,o=t.rawQuery;U.supportsIntegratedFind?U.externalServices.updateFindControlState({result:r,findPrevious:a,matchesCount:i,rawQuery:o}):U.findBar.updateUIState(r,a,i)}function webViewerScaleChanging(t){U.toolbar.setPageScale(t.presetValue,t.scale);U.pdfViewer.update()}function webViewerRotationChanging(t){U.pdfThumbnailViewer.pagesRotation=t.pagesRotation;U.forceRendering();U.pdfViewer.currentPageNumber=t.pageNumber}function webViewerPageChanging(t){var r=t.pageNumber,a=t.pageLabel;U.toolbar.setPageNumber(r,a);U.secondaryToolbar.setPageNumber(r);U.pdfSidebar.isThumbnailViewVisible&&U.pdfThumbnailViewer.scrollThumbnailIntoView(r);var i=document.getElementById("pageNumber");if(i){var o=new CustomEvent("page-change");i.dispatchEvent(o)}}function webViewerVisibilityChange(t){"visible"===document.visibilityState&&setZoomDisabledTimeout()}var Y=null;function setZoomDisabledTimeout(){Y&&clearTimeout(Y);Y=setTimeout((function(){Y=null}),1e3)}function webViewerWheel(t){var r=U.pdfViewer,a=U.supportedMouseWheelZoomModifierKeys;if(!r.isInPresentationMode){var i=(t.ctrlKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.metaKey?8:0);if(!window.isKeyIgnored||!window.isKeyIgnored(i,"WHEEL"))if(t.ctrlKey&&a.ctrlKey||t.metaKey&&a.metaKey){t.preventDefault();if(Y||"hidden"===document.visibilityState)return;var l=r.currentScale,u=(0,o.normalizeWheelEventDirection)(t),c=0;if(t.deltaMode===WheelEvent.DOM_DELTA_LINE||t.deltaMode===WheelEvent.DOM_DELTA_PAGE)c=Math.abs(u)>=1?Math.sign(u):U.accumulateWheelTicks(u);else{c=U.accumulateWheelTicks(u/30)}c<0?U.zoomOut(-c):c>0&&U.zoomIn(c);var d=r.currentScale;if(l!==d){var h=d/l-1,p=r.container.getBoundingClientRect(),m=t.clientX-p.left,g=t.clientY-p.top;r.container.scrollLeft+=m*h;r.container.scrollTop+=g*h}}else setZoomDisabledTimeout()}}function webViewerTouchStart(t){t.touches.length>1&&t.preventDefault()}function webViewerClick(t){U.triggerDelayedFallback&&U.pdfViewer.containsElement(t.target)&&U.triggerDelayedFallback();if(U.secondaryToolbar.isOpen){var r=U.appConfig;if(U.pdfViewer.containsElement(t.target)||r.toolbar.container.contains(t.target)&&t.target!==r.secondaryToolbar.toggleButton){if(t.target&&t.target.parentElement===r.secondaryToolbar.toggleButton)return;if(t.target&&t.target.parentElement&&t.target.parentElement.parentElement===r.secondaryToolbar.toggleButton)return;U.secondaryToolbar.close()}}}function webViewerKeyUp(t){9===t.keyCode&&U.triggerDelayedFallback&&U.triggerDelayedFallback()}function webViewerKeyDown(t){if(!U.overlayManager.active){var r=!1,a=!1,i=(t.ctrlKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.metaKey?8:0),l=U.pdfViewer,u=l&&l.isInPresentationMode;if(!window.isKeyIgnored||!window.isKeyIgnored(i,t.keyCode)){if(1===i||8===i||5===i||12===i)switch(t.keyCode){case 70:if(!U.supportsIntegratedFind&&!t.shiftKey){U.findBar.open();r=!0}break;case 71:if(!U.supportsIntegratedFind){var d=U.findController.state;d&&U.findController.executeCommand("findagain",{query:d.query,phraseSearch:d.phraseSearch,caseSensitive:d.caseSensitive,entireWord:d.entireWord,ignoreAccents:d.ignoreAccents,fuzzySearch:d.fuzzySearch,highlightAll:d.highlightAll,findPrevious:5===i||12===i});r=!0}break;case 61:case 107:case 187:case 171:u||U.zoomIn();r=!0;break;case 173:case 109:case 189:u||U.zoomOut();r=!0;break;case 48:case 96:if(!u){setTimeout((function(){U.zoomReset()}));r=!1}break;case 38:if(u||U.page>1){U.page=1;r=!0;a=!0}break;case 40:if(u||U.page<U.pagesCount){U.page=U.pagesCount;r=!0;a=!0}}var h=U.eventBus;if(1===i||8===i)switch(t.keyCode){case 83:h.dispatch("download",{source:window});r=!0;break;case 79:h.dispatch("openfile",{source:window});r=!0}if(3===i||10===i)switch(t.keyCode){case 80:U.requestPresentationMode();r=!0;break;case 71:U.appConfig.toolbar.pageNumber.select();r=!0}if(r){a&&!u&&l.focus();t.preventDefault()}else{var p=(0,o.getActiveOrFocusedElement)(),m=p&&p.tagName.toUpperCase();if(!("INPUT"===m||"TEXTAREA"===m||"SELECT"===m||p&&p.isContentEditable)||27===t.keyCode){if(0===i){var g=0,v=!1;switch(t.keyCode){case 38:case 33:l.isVerticalScrollbarEnabled&&(v=!0);g=-1;break;case 8:u||(v=!0);g=-1;break;case 37:l.isHorizontalScrollbarEnabled&&(v=!0);case 75:case 80:g=-1;break;case 27:if(U.secondaryToolbar.isOpen){U.secondaryToolbar.close();r=!0}if(!U.supportsIntegratedFind&&U.findBar.opened){U.findBar.close();r=!0}break;case 40:case 34:l.isVerticalScrollbarEnabled&&(v=!0);g=1;break;case 13:case 32:u||(v=!0);g=1;break;case 39:l.isHorizontalScrollbarEnabled&&(v=!0);case 74:case 78:g=1;break;case 36:if(u||U.page>1){U.page=1;r=!0;a=!0}break;case 35:if(u||U.page<U.pagesCount){U.page=U.pagesCount;r=!0;a=!0}break;case 83:U.pdfCursorTools.switchTool(c.CursorTool.SELECT);break;case 72:U.pdfCursorTools.switchTool(c.CursorTool.HAND);break;case 82:U.rotatePages(90);break;case 115:U.pdfSidebar.toggle()}if(0!==g&&(!v||"page-fit"===l.currentScaleValue)){g>0?l.nextPage():l.previousPage();r=!0}}if(4===i)switch(t.keyCode){case 13:case 32:if(!u&&"page-fit"!==l.currentScaleValue)break;U.page>1&&U.page--;r=!0;break;case 82:U.rotatePages(-90)}a&&!l.containsElement(p)&&l.focus();r&&t.preventDefault()}}}}}function beforeUnload(t){t.preventDefault();t.returnValue="";return!1}function apiPageLayoutToSpreadMode(t){switch(t){case"SinglePage":case"OneColumn":return o.SpreadMode.NONE;case"TwoColumnLeft":case"TwoPageLeft":return o.SpreadMode.ODD;case"TwoColumnRight":case"TwoPageRight":return o.SpreadMode.EVEN}return o.SpreadMode.NONE}function apiPageModeToSidebarView(t){switch(t){case"UseNone":return o.SidebarView.NONE;case"UseThumbs":return o.SidebarView.THUMBS;case"UseOutlines":return o.SidebarView.OUTLINE;case"UseAttachments":return o.SidebarView.ATTACHMENTS;case"UseOC":return o.SidebarView.LAYERS}return o.SidebarView.NONE}var Q={instance:{supportsPrinting:!1,createPrintService:function createPrintService(){throw new Error("Not implemented: createPrintService")}}};r.PDFPrintServiceFactory=Q},(t,r,a)=>{"use strict";t.exports=a(5)},(t,r,a)=>{"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=function(t){var r,a=Object.prototype,i=a.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},l=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function define(t,r,a){Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0});return t[r]}try{define({},"")}catch(t){define=function define(t,r,a){return t[r]=a}}function wrap(t,r,a,i){var o=r&&r.prototype instanceof Generator?r:Generator,l=Object.create(o.prototype),u=new Context(i||[]);l._invoke=function makeInvokeMethod(t,r,a){var i=d;return function invoke(o,l){if(i===p)throw new Error("Generator is already running");if(i===m){if("throw"===o)throw l;return doneResult()}a.method=o;a.arg=l;for(;;){var u=a.delegate;if(u){var c=maybeInvokeDelegate(u,a);if(c){if(c===g)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(i===d){i=m;throw a.arg}a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);i=p;var v=tryCatch(t,r,a);if("normal"===v.type){i=a.done?m:h;if(v.arg===g)continue;return{value:v.arg,done:a.done}}if("throw"===v.type){i=m;a.method="throw";a.arg=v.arg}}}}(t,a,u);return l}t.wrap=wrap;function tryCatch(t,r,a){try{return{type:"normal",arg:t.call(r,a)}}catch(t){return{type:"throw",arg:t}}}var d="suspendedStart",h="suspendedYield",p="executing",m="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var v={};v[l]=function(){return this};var y=Object.getPrototypeOf,b=y&&y(y(values([])));b&&b!==a&&i.call(b,l)&&(v=b);var S=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(v);GeneratorFunction.prototype=S.constructor=GeneratorFunctionPrototype;GeneratorFunctionPrototype.constructor=GeneratorFunction;GeneratorFunction.displayName=define(GeneratorFunctionPrototype,c,"GeneratorFunction");function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}t.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))};t.mark=function(t){if(Object.setPrototypeOf)Object.setPrototypeOf(t,GeneratorFunctionPrototype);else{t.__proto__=GeneratorFunctionPrototype;define(t,c,"GeneratorFunction")}t.prototype=Object.create(S);return t};t.awrap=function(t){return{__await:t}};function AsyncIterator(t,r){function invoke(a,o,l,u){var c=tryCatch(t[a],t,o);if("throw"!==c.type){var d=c.arg,h=d.value;return h&&"object"===_typeof(h)&&i.call(h,"__await")?r.resolve(h.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(h).then((function(t){d.value=t;l(d)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var a;this._invoke=function enqueue(t,i){function callInvokeWithMethodAndArg(){return new r((function(r,a){invoke(t,i,r,a)}))}return a=a?a.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}defineIteratorMethods(AsyncIterator.prototype);AsyncIterator.prototype[u]=function(){return this};t.AsyncIterator=AsyncIterator;t.async=function(r,a,i,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(r,a,i,o),l);return t.isGeneratorFunction(a)?u:u.next().then((function(t){return t.done?t.value:u.next()}))};function maybeInvokeDelegate(t,a){var i=t.iterator[a.method];if(i===r){a.delegate=null;if("throw"===a.method){if(t.iterator.return){a.method="return";a.arg=r;maybeInvokeDelegate(t,a);if("throw"===a.method)return g}a.method="throw";a.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var o=tryCatch(i,t.iterator,a.arg);if("throw"===o.type){a.method="throw";a.arg=o.arg;a.delegate=null;return g}var l=o.arg;if(!l){a.method="throw";a.arg=new TypeError("iterator result is not an object");a.delegate=null;return g}if(!l.done)return l;a[t.resultName]=l.value;a.next=t.nextLoc;if("return"!==a.method){a.method="next";a.arg=r}a.delegate=null;return g}defineIteratorMethods(S);define(S,c,"Generator");S[l]=function(){return this};S.toString=function(){return"[object Generator]"};function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]);if(2 in t){r.finallyLoc=t[2];r.afterLoc=t[3]}this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal";delete r.arg;t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}];t.forEach(pushTryEntry,this);this.reset(!0)}t.keys=function(t){var r=[];for(var a in t)r.push(a);r.reverse();return function next(){for(;r.length;){var a=r.pop();if(a in t){next.value=a;next.done=!1;return next}}next.done=!0;return next}};function values(t){if(t){var a=t[l];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,u=function next(){for(;++o<t.length;)if(i.call(t,o)){next.value=t[o];next.done=!1;return next}next.value=r;next.done=!0;return next};return u.next=u}}return{next:doneResult}}t.values=values;function doneResult(){return{value:r,done:!0}}Context.prototype={constructor:Context,reset:function reset(t){this.prev=0;this.next=0;this.sent=this._sent=r;this.done=!1;this.delegate=null;this.method="next";this.arg=r;this.tryEntries.forEach(resetTryEntry);if(!t)for(var a in this)"t"===a.charAt(0)&&i.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=r)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(t){if(this.done)throw t;var a=this;function handle(i,o){u.type="throw";u.arg=t;a.next=i;if(o){a.method="next";a.arg=r}return!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=i.call(l,"catchLoc"),d=i.call(l,"finallyLoc");if(c&&d){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};u.type=t;u.arg=r;if(l){this.method="next";this.next=l.finallyLoc;return g}return this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;if("break"===t.type||"continue"===t.type)this.next=t.arg;else if("return"===t.type){this.rval=this.arg=t.arg;this.method="return";this.next="end"}else"normal"===t.type&&r&&(this.next=r);return g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.finallyLoc===t){this.complete(a.completion,a.afterLoc);resetTryEntry(a);return g}}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc===t){var i=a.completion;if("throw"===i.type){var o=i.arg;resetTryEntry(a)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(t,a,i){this.delegate={iterator:values(t),resultName:a,nextLoc:i};"next"===this.method&&(this.arg=r);return g}};return t}("object"===_typeof(t=a.nmd(t))?t.exports:{});try{regeneratorRuntime=i}catch(t){Function("r","regeneratorRuntime = r")(i)}},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.approximateFraction=function approximateFraction(t){if(Math.floor(t)===t)return[t,1];var r=1/t;if(r>8)return[1,8];if(Math.floor(r)===r)return[1,r];var a,i=t>1?r:t,o=0,l=1,u=1,c=1;for(;;){var d=o+u,h=l+c;if(h>8)break;if(i<=d/h){u=d;c=h}else{o=d;l=h}}a=i-o/l<u/c-i?i===t?[o,l]:[l,o]:i===t?[u,c]:[c,u];return a};r.backtrackBeforeAllVisibleElements=backtrackBeforeAllVisibleElements;r.binarySearchFirstItem=binarySearchFirstItem;r.getActiveOrFocusedElement=function getActiveOrFocusedElement(){var t=document,r=t.activeElement||t.querySelector(":focus");for(;r&&r.shadowRoot;){t=r.shadowRoot;r=t.activeElement||t.querySelector(":focus")}return r};r.getOutputScale=function getOutputScale(t){var r=window.devicePixelRatio||1,a=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.backingStorePixelRatio||1,i=r/a;return{sx:i,sy:i,scaled:1!==i}};r.getPageSizeInches=function getPageSizeInches(t){var r=t.view,a=t.userUnit,i=t.rotate,o=function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var a=[],i=!0,o=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){a.push(u.value);if(r&&a.length===r)break}}catch(t){o=!0;l=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw l}}return a}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r,4),l=o[0],u=o[1],c=o[2],d=o[3],h=i%180!=0,p=(c-l)/72*a,m=(d-u)/72*a;return{width:h?m:p,height:h?p:m}};r.getPDFFileNameFromURL=function getPDFFileNameFromURL(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if(window.PDFViewerApplication.appConfig.filenameForDownload)return window.PDFViewerApplication.appConfig.filenameForDownload;if("string"!=typeof t)return r;if(isDataSchema(t)){console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.');return r}var a=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,o=a.exec(t),l=i.exec(o[1])||i.exec(o[2])||i.exec(o[3]);if(l&&(l=l[0]).includes("%"))try{l=i.exec(decodeURIComponent(l))[0]}catch(t){}return l||r};r.getVisibleElements=function getVisibleElements(t){var r=t.scrollEl,a=t.views,i=t.sortByVisibility,o=void 0!==i&&i,l=t.horizontal,u=void 0!==l&&l,c=t.rtl,d=void 0!==c&&c,h=r.scrollTop,p=h+r.clientHeight,m=r.scrollLeft,g=m+r.clientWidth;var v=[],y=a.length,b=binarySearchFirstItem(a,u?function isElementNextAfterViewHorizontally(t){var r=t.div,a=r.offsetLeft+r.clientLeft,i=a+r.clientWidth;return d?a<g:i>m}:function isElementBottomAfterViewTop(t){var r=t.div;return r.offsetTop+r.clientTop+r.clientHeight>h});b>0&&b<y&&!u&&(b=backtrackBeforeAllVisibleElements(b,a,h));for(var S=u?g:-1,w=b;w<y;w++){var C=a[w],P=C.div,k=P.offsetLeft+P.clientLeft,R=P.offsetTop+P.clientTop,A=P.clientWidth,T=P.clientHeight,E=k+A,x=R+T;if(-1===S)x>=p&&(S=x);else if((u?k:R)>S)break;if(!(x<=h||R>=p||E<=m||k>=g)){var I=Math.max(0,h-R)+Math.max(0,x-p),O=Math.max(0,m-k)+Math.max(0,E-g),L=(A-O)/A,D=(T-I)/T*L*100|0;v.push({id:C.id,x:k,y:R,view:C,percent:D,widthPercent:100*L|0})}}var M=v[0],B=v[v.length-1];o&&v.sort((function(t,r){var a=t.percent-r.percent;return Math.abs(a)>.001?-a:t.id-r.id}));return{first:M,last:B,views:v}};r.isPortraitOrientation=function isPortraitOrientation(t){return t.width<=t.height};r.isValidRotation=function isValidRotation(t){return Number.isInteger(t)&&t%90==0};r.isValidScrollMode=function isValidScrollMode(t){return Number.isInteger(t)&&Object.values(o).includes(t)&&t!==o.UNKNOWN};r.isValidSpreadMode=function isValidSpreadMode(t){return Number.isInteger(t)&&Object.values(l).includes(t)&&t!==l.UNKNOWN};r.moveToEndOfArray=function moveToEndOfArray(t,r){for(var a=[],i=t.length,o=0,l=0;l<i;++l)if(r(t[l]))a.push(t[l]);else{t[o]=t[l];++o}for(var u=0;o<i;++u,++o)t[o]=a[u]};r.noContextMenuHandler=function noContextMenuHandler(t){t.preventDefault()};r.normalizeWheelEventDelta=function normalizeWheelEventDelta(t){var r=normalizeWheelEventDirection(t);0===t.deltaMode?r/=900:1===t.deltaMode&&(r/=30);return r};r.normalizeWheelEventDirection=normalizeWheelEventDirection;r.parseQueryString=function parseQueryString(t){for(var r=t.split("&"),a=Object.create(null),i=0,o=r.length;i<o;++i){var l=r[i].split("="),u=l[0].toLowerCase(),c=l.length>1?l[1]:null;a[decodeURIComponent(u)]=decodeURIComponent(c)}return a};r.roundToDivide=function roundToDivide(t,r){var a=t%r;return 0===a?t:Math.round(t-a+r)};r.scrollIntoView=function scrollIntoView(t,r){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=t.offsetParent;if(!o){console.error("offsetParent is not set -- cannot scroll");return}var l=t.offsetTop+t.clientTop,u=t.offsetLeft+t.clientLeft;for(;o.clientHeight===o.scrollHeight&&o.clientWidth===o.scrollWidth||a&&"hidden"===getComputedStyle(o).overflow;){if(o.dataset._scaleY){l/=o.dataset._scaleY;u/=o.dataset._scaleX}l+=o.offsetTop;u+=o.offsetLeft;if(!(o=o.offsetParent)){if(i&&document.body.clientHeight>l){l-=32;window.scrollTo(window.scrollX,l)}return}}if(r){void 0!==r.top&&(l+=r.top);if(void 0!==r.left){u+=r.left;o.scrollLeft=u}}o.scrollTop=l};r.waitOnEventOrTimeout=function waitOnEventOrTimeout(t){var r=t.target,a=t.name,i=t.delay,o=void 0===i?0:i;return new Promise((function(t,i){if("object"!==_typeof(r)||!a||"string"!=typeof a||!(Number.isInteger(o)&&o>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function handler(i){r instanceof h?r._off(a,l):r.removeEventListener(a,l);d&&clearTimeout(d);t(i)}var l=handler.bind(null,c.EVENT);r instanceof h?r._on(a,l):r.addEventListener(a,l);var u=handler.bind(null,c.TIMEOUT),d=setTimeout(u,o)}))};r.watchScroll=function watchScroll(t,r){var a=function debounceScroll(a){o||(o=window.requestAnimationFrame((function viewAreaElementScrolled(){o=null;var a=t.scrollLeft,l=i.lastX;a!==l&&(i.right=a>l);i.lastX=a;var u=t.scrollTop,c=i.lastY;u!==c&&(i.down=u>c);i.lastY=u;r(i)})))},i={right:!0,down:!0,lastX:t.scrollLeft,lastY:t.scrollTop,_eventHandler:a},o=null;t.addEventListener("scroll",a,!0);return i};r.WaitOnType=r.VERTICAL_PADDING=r.UNKNOWN_SCALE=r.TextLayerMode=r.SpreadMode=r.SidebarView=r.ScrollMode=r.SCROLLBAR_PADDING=r.RendererType=r.ProgressBar=r.PresentationModeState=r.NullL10n=r.MIN_SCALE=r.MAX_SCALE=r.MAX_AUTO_SCALE=r.EventBus=r.DEFAULT_SCALE_VALUE=r.DEFAULT_SCALE=r.CSS_UNITS=r.AutoPrintRegExp=r.animationStarted=void 0;var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(a(4));function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function asyncGeneratorStep(t,r,a,i,o,l,u){try{var c=t[l](u),d=c.value}catch(t){a(t);return}c.done?r(d):Promise.resolve(d).then(i,o)}function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,o){var l=t.apply(r,a);function _next(t){asyncGeneratorStep(l,i,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,i,o,_next,_throw,"throw",t)}_next(void 0)}))}}r.CSS_UNITS=96/72;r.DEFAULT_SCALE_VALUE="auto";r.DEFAULT_SCALE=1;r.MIN_SCALE=.1;r.MAX_SCALE=10;r.UNKNOWN_SCALE=0;r.MAX_AUTO_SCALE=1.25;r.SCROLLBAR_PADDING=40;r.VERTICAL_PADDING=5;r.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};r.SidebarView={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};r.RendererType={CANVAS:"canvas",SVG:"svg"};r.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};var o={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2};r.ScrollMode=o;var l={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};r.SpreadMode=l;r.AutoPrintRegExp=/\bprint\s*\(/;function formatL10nValue(t,r){return r?t.replace(/\{\{\s*(\w+)\s*\}\}/g,(function(t,a){return a in r?r[a]:"{{"+a+"}}"})):t}var u={getLanguage:function getLanguage(){return _asyncToGenerator(i.default.mark((function _callee(){return i.default.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","en-us");case 1:case"end":return t.stop()}}),_callee)})))()},getDirection:function getDirection(){return _asyncToGenerator(i.default.mark((function _callee2(){return i.default.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","ltr");case 1:case"end":return t.stop()}}),_callee2)})))()},get:function get(t,r,a){return _asyncToGenerator(i.default.mark((function _callee3(){return i.default.wrap((function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",formatL10nValue(a,r));case 1:case"end":return t.stop()}}),_callee3)})))()},translate:function translate(t){return _asyncToGenerator(i.default.mark((function _callee4(){return i.default.wrap((function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),_callee4)})))()}};r.NullL10n=u;function binarySearchFirstItem(t,r){var a=0,i=t.length-1;if(i<0||!r(t[i]))return t.length;if(r(t[a]))return a;for(;a<i;){var o=a+i>>1;r(t[o])?i=o:a=o+1}return a}function backtrackBeforeAllVisibleElements(t,r,a){if(t<2)return t;var i=r[t].div,o=i.offsetTop+i.clientTop;o>=a&&(o=(i=r[t-1].div).offsetTop+i.clientTop);for(var l=t-2;l>=0&&!((i=r[l].div).offsetTop+i.clientTop+i.clientHeight<=o);--l)t=l;return t}function isDataSchema(t){for(var r=0,a=t.length;r<a&&""===t[r].trim();)r++;return"data:"===t.substring(r,r+5).toLowerCase()}function normalizeWheelEventDirection(t){var r=Math.sqrt(t.deltaX*t.deltaX+t.deltaY*t.deltaY),a=Math.atan2(t.deltaY,t.deltaX);-.25*Math.PI<a&&a<.75*Math.PI&&(r=-r);return r}var c={EVENT:"event",TIMEOUT:"timeout"};r.WaitOnType=c;var d=new Promise((function(t){window.requestAnimationFrame(t)}));r.animationStarted=d;var h=function(){function EventBus(t){_classCallCheck(this,EventBus);this._listeners=Object.create(null)}_createClass(EventBus,[{key:"on",value:function on(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._on(t,r,{external:!0,once:null==a?void 0:a.once})}},{key:"off",value:function off(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._off(t,r,{external:!0,once:null==a?void 0:a.once})}},{key:"dispatch",value:function dispatch(t){var r=this,a=this._listeners[t];if(a&&0!==a.length){var i,o=Array.prototype.slice.call(arguments,1);a.slice(0).forEach((function(a){var l=a.listener,u=a.external;a.once&&r._off(t,l);u?(i||(i=[])).push(l):l.apply(null,o)}));if(i){i.forEach((function(t){t.apply(null,o)}));i=null}}}},{key:"_on",value:function _on(t,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=(a=this._listeners)[t]||(a[t]=[]);o.push({listener:r,external:!0===(null==i?void 0:i.external),once:!0===(null==i?void 0:i.once)})}},{key:"_off",value:function _off(t,r){var a=this._listeners[t];if(a)for(var i=0,o=a.length;i<o;i++)if(a[i].listener===r){a.splice(i,1);return}}}]);return EventBus}();r.EventBus=h;var p=function(){function ProgressBar(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.height,i=r.width,o=r.units;_classCallCheck(this,ProgressBar);this.visible=!0;this.div=document.querySelector(t+" .progress");this.div&&(this.bar=this.div.parentNode);this.height=a||100;this.width=i||100;this.units=o||"%";this.div&&(this.div.style.height=this.height+this.units);this.percent=0}_createClass(ProgressBar,[{key:"_updateBar",value:function _updateBar(){if(this._indeterminate){this.div.classList.add("indeterminate");this.div.style.width=this.width+this.units}else{this.div&&this.div.classList.remove("indeterminate");var t=this.width*this._percent/100;this.div&&(this.div.style.width=t+this.units)}}},{key:"setWidth",value:function setWidth(t){if(t){var r=t.parentNode.offsetWidth-t.offsetWidth;if(r>0){document.documentElement.style.setProperty("--loadingBar-end-offset","".concat(r,"px"))}}}},{key:"hide",value:function hide(){if(this.visible){this.visible=!1;this.div=document.querySelector(".body #mainContainer .progress");if(this.div){this.bar=this.div.parentNode;this.bar.classList.add("hidden")}document.body.classList.remove("loadingInProgress")}}},{key:"show",value:function show(){if(!this.visible){this.visible=!0;this.bar.classList.remove("hidden")}}},{key:"percent",get:function get(){return this._percent},set:function set(t){this._indeterminate=isNaN(t);this._percent=function clamp(t,r,a){return Math.min(Math.max(t,r),a)}(t,0,100);this._updateBar()}}]);return ProgressBar}();r.ProgressBar=p},t=>{"use strict";t.exports=window["pdfjs-dist/build/pdf"]},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFCursorTools=r.CursorTool=void 0;var i=a(9),o=a(6);function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}var l={SELECT:0,HAND:1,ZOOM:2};r.CursorTool=l;var u=function(){function PDFCursorTools(t){var r=this,a=t.container,o=t.eventBus,u=t.cursorToolOnLoad,c=void 0===u?l.SELECT:u;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PDFCursorTools);this.container=a;this.eventBus=o;this.active=l.SELECT;this.activeBeforePresentationMode=null;this.handTool=new i.GrabToPan({element:this.container});this._addEventListeners();Promise.resolve().then((function(){r.switchTool(c)}))}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(PDFCursorTools,[{key:"switchTool",value:function switchTool(t){var r=this;if(null===this.activeBeforePresentationMode&&t!==this.active){var a=function disableActiveTool(){switch(r.active){case l.SELECT:break;case l.HAND:r.handTool.deactivate()}};switch(t){case l.SELECT:a();break;case l.HAND:a();this.handTool.activate();break;case l.ZOOM:default:console.error('switchTool: "'.concat(t,'" is an unsupported value.'));return}this.active=t;this._dispatchEvent()}}},{key:"_dispatchEvent",value:function _dispatchEvent(){this.eventBus.dispatch("cursortoolchanged",{source:this,tool:this.active})}},{key:"_addEventListeners",value:function _addEventListeners(){var t=this;this.eventBus._on("switchcursortool",(function(r){t.switchTool(r.tool)}));this.eventBus._on("presentationmodechanged",(function(r){switch(r.state){case o.PresentationModeState.CHANGING:break;case o.PresentationModeState.FULLSCREEN:var a=t.active;t.switchTool(l.SELECT);t.activeBeforePresentationMode=a;break;case o.PresentationModeState.NORMAL:var i=t.activeBeforePresentationMode;t.activeBeforePresentationMode=null;t.switchTool(i)}}))}},{key:"activeTool",get:function get(){return this.active}}]);return PDFCursorTools}();r.PDFCursorTools=u},(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.GrabToPan=GrabToPan;function GrabToPan(t){this.element=t.element;this.document=t.element.ownerDocument;"function"==typeof t.ignoreTarget&&(this.ignoreTarget=t.ignoreTarget);this.onActiveChanged=t.onActiveChanged;this.activate=this.activate.bind(this);this.deactivate=this.deactivate.bind(this);this.toggle=this.toggle.bind(this);this._onmousedown=this._onmousedown.bind(this);this._onmousemove=this._onmousemove.bind(this);this._endPan=this._endPan.bind(this);(this.overlay=document.createElement("div")).className="grab-to-pan-grabbing"}GrabToPan.prototype={CSS_CLASS_GRAB:"grab-to-pan-grab",activate:function GrabToPan_activate(){if(!this.active){this.active=!0;this.element.addEventListener("mousedown",this._onmousedown,!0);this.element.classList.add(this.CSS_CLASS_GRAB);this.onActiveChanged&&this.onActiveChanged(!0)}},deactivate:function GrabToPan_deactivate(){if(this.active){this.active=!1;this.element.removeEventListener("mousedown",this._onmousedown,!0);this._endPan();this.element.classList.remove(this.CSS_CLASS_GRAB);this.onActiveChanged&&this.onActiveChanged(!1)}},toggle:function GrabToPan_toggle(){this.active?this.deactivate():this.activate()},ignoreTarget:function GrabToPan_ignoreTarget(t){return t[a]("a[href], a[href] *, input, textarea, button, button *, select, option")},_onmousedown:function GrabToPan__onmousedown(t){if(0===t.button&&!this.ignoreTarget(t.target)){if(t.originalTarget)try{t.originalTarget.tagName}catch(t){return}this.scrollLeftStart=this.element.scrollLeft;this.scrollTopStart=this.element.scrollTop;this.clientXStart=t.clientX;this.clientYStart=t.clientY;if(!isOverPerfectScrollbar(this.clientXStart,this.clientYStart,"ps__rail-x")&&!isOverPerfectScrollbar(this.clientXStart,this.clientYStart,"ps__rail-y")){this.document.addEventListener("mousemove",this._onmousemove,!0);this.document.addEventListener("mouseup",this._endPan,!0);this.element.addEventListener("scroll",this._endPan,!0);t.preventDefault();t.stopPropagation();var r=document.activeElement;r&&!r.contains(t.target)&&r.blur()}}},_onmousemove:function GrabToPan__onmousemove(t){this.element.removeEventListener("scroll",this._endPan,!0);if(function isLeftMouseReleased(t){if("buttons"in t&&i)return!(1&t.buttons);if(l||u)return 0===t.which;return!1}(t))this._endPan();else{var r=t.clientX-this.clientXStart,a=t.clientY-this.clientYStart,o=this.scrollTopStart-a,c=this.scrollLeftStart-r;if(this.element.scrollTo)this.element.scrollTo({top:o,left:c,behavior:"instant"});else{this.element.scrollTop=o;this.element.scrollLeft=c}this.overlay.parentNode||document.body.appendChild(this.overlay)}},_endPan:function GrabToPan__endPan(){this.element.removeEventListener("scroll",this._endPan,!0);this.document.removeEventListener("mousemove",this._onmousemove,!0);this.document.removeEventListener("mouseup",this._endPan,!0);this.overlay.remove()}};var a;["webkitM","mozM","m"].some((function(t){var r=t+"atches";r in document.documentElement&&(a=r);(r+="Selector")in document.documentElement&&(a=r);return a}));var i=!document.documentMode||document.documentMode>9,o=window.chrome,l=o&&(o.webstore||o.app),u=/Apple/.test(navigator.vendor)&&/Version\/([6-9]\d*|[1-5]\d+)/.test(navigator.userAgent);function isOverPerfectScrollbar(t,r,a){var i=document.getElementsByClassName(a);if(i&&1===i.length){var o=i[0].getBoundingClientRect(),l=o.top,u=o.right,c=o.bottom,d=o.left;if(r>=l&&r<=c&&t<=u&&t>=d)return!0}return!1}},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.RenderingStates=r.PDFRenderingQueue=void 0;var i=a(7);function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}var o={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};r.RenderingStates=o;var l=function(){function PDFRenderingQueue(){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PDFRenderingQueue);this.pdfViewer=null;this.pdfThumbnailViewer=null;this.onIdle=null;this.highestPriorityPage=null;this.idleTimeout=null;this.printing=!1;this.isThumbnailViewEnabled=!1}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(PDFRenderingQueue,[{key:"setViewer",value:function setViewer(t){this.pdfViewer=t}},{key:"setThumbnailViewer",value:function setThumbnailViewer(t){this.pdfThumbnailViewer=t}},{key:"isHighestPriority",value:function isHighestPriority(t){return this.highestPriorityPage===t.renderingId}},{key:"renderHighestPriority",value:function renderHighestPriority(t){if(this.idleTimeout){clearTimeout(this.idleTimeout);this.idleTimeout=null}this.pdfViewer.forceRendering(t)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4))}},{key:"getHighestPriority",value:function getHighestPriority(t,r,a){var i=t.views,o=i.length;if(0===o)return null;for(var l=0;l<o;++l){var u=i[l].view;if(!this.isViewFinished(u))return u}if(a){var c=t.last.id;if(r[c]&&!this.isViewFinished(r[c]))return r[c]}else{var d=t.first.id-2;if(r[d]&&!this.isViewFinished(r[d]))return r[d]}return null}},{key:"isViewFinished",value:function isViewFinished(t){return t.renderingState===o.FINISHED}},{key:"renderView",value:function renderView(t){var r=this;switch(t.renderingState){case o.FINISHED:return!1;case o.PAUSED:this.highestPriorityPage=t.renderingId;t.resume();break;case o.RUNNING:this.highestPriorityPage=t.renderingId;break;case o.INITIAL:this.highestPriorityPage=t.renderingId;t.draw().finally((function(){r.renderHighestPriority()})).catch((function(t){t instanceof i.RenderingCancelledException||console.error('renderView: "'.concat(t,'"'))}))}return!0}}]);return PDFRenderingQueue}();r.PDFRenderingQueue=l},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.OverlayManager=void 0;var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(a(4));function asyncGeneratorStep(t,r,a,i,o,l,u){try{var c=t[l](u),d=c.value}catch(t){a(t);return}c.done?r(d):Promise.resolve(d).then(i,o)}function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,o){var l=t.apply(r,a);function _next(t){asyncGeneratorStep(l,i,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,i,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}var o=function(){function OverlayManager(){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,OverlayManager);this._overlays={};this._active=null;this._keyDownBound=this._keyDown.bind(this)}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(OverlayManager,[{key:"register",value:(o=_asyncToGenerator(i.default.mark((function _callee(t,r){var a,o,l,u=arguments;return i.default.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:a=u.length>2&&void 0!==u[2]?u[2]:null;o=u.length>3&&void 0!==u[3]&&u[3];if(t&&r&&(l=r.parentNode)){i.next=6;break}throw new Error("Not enough parameters.");case 6:if(!this._overlays[t]){i.next=8;break}throw new Error("The overlay is already registered.");case 8:this._overlays[t]={element:r,container:l,callerCloseMethod:a,canForceClose:o};case 9:case"end":return i.stop()}}),_callee,this)}))),function register(t,r){return o.apply(this,arguments)})},{key:"unregister",value:(a=_asyncToGenerator(i.default.mark((function _callee2(t){return i.default.wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:if(this._overlays[t]){r.next=4;break}throw new Error("The overlay does not exist.");case 4:if(this._active!==t){r.next=6;break}throw new Error("The overlay cannot be removed while it is active.");case 6:delete this._overlays[t];case 7:case"end":return r.stop()}}),_callee2,this)}))),function unregister(t){return a.apply(this,arguments)})},{key:"open",value:(r=_asyncToGenerator(i.default.mark((function _callee3(t){return i.default.wrap((function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:if(this._overlays[t]){r.next=4;break}throw new Error("The overlay does not exist.");case 4:if(!this._active){r.next=14;break}if(!this._overlays[t].canForceClose){r.next=9;break}this._closeThroughCaller();r.next=14;break;case 9:if(this._active!==t){r.next=13;break}throw new Error("The overlay is already active.");case 13:throw new Error("Another overlay is currently active.");case 14:this._active=t;this._overlays[this._active].element.classList.remove("hidden");this._overlays[this._active].container.classList.remove("hidden");window.addEventListener("keydown",this._keyDownBound);case 18:case"end":return r.stop()}}),_callee3,this)}))),function open(t){return r.apply(this,arguments)})},{key:"close",value:(t=_asyncToGenerator(i.default.mark((function _callee4(t){return i.default.wrap((function _callee4$(r){for(;;)switch(r.prev=r.next){case 0:if(this._overlays[t]){r.next=4;break}throw new Error("The overlay does not exist.");case 4:if(this._active){r.next=8;break}throw new Error("The overlay is currently not active.");case 8:if(this._active===t){r.next=10;break}throw new Error("Another overlay is currently active.");case 10:this._overlays[this._active].container.classList.add("hidden");this._overlays[this._active].element.classList.add("hidden");this._active=null;window.removeEventListener("keydown",this._keyDownBound);case 14:case"end":return r.stop()}}),_callee4,this)}))),function close(r){return t.apply(this,arguments)})},{key:"_keyDown",value:function _keyDown(t){if(this._active&&27===t.keyCode){this._closeThroughCaller();t.preventDefault()}}},{key:"_closeThroughCaller",value:function _closeThroughCaller(){this._overlays[this._active].callerCloseMethod&&this._overlays[this._active].callerCloseMethod();this._active&&this.close(this._active)}},{key:"active",get:function get(){return this._active}}]);var t,r,a,o;return OverlayManager}();r.OverlayManager=o},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PasswordPrompt=void 0;var i=a(6),o=a(7);function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}var l=function(){function PasswordPrompt(t,r){var a=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.NullL10n;_classCallCheck(this,PasswordPrompt);this.overlayName=t.overlayName;this.container=t.container;this.label=t.label;this.input=t.input;this.submitButton=t.submitButton;this.cancelButton=t.cancelButton;this.overlayManager=r;this.l10n=o;this.updateCallback=null;this.reason=null;this.submitButton.addEventListener("click",this.verify.bind(this));this.cancelButton.addEventListener("click",this.close.bind(this));this.input.addEventListener("keydown",(function(t){13===t.keyCode&&a.verify()}));this.overlayManager.register(this.overlayName,this.container,this.close.bind(this),!0)}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(PasswordPrompt,[{key:"open",value:function open(){var t=this;this.overlayManager.open(this.overlayName).then((function(){t.input.type="password";t.input.focus();(t.reason===o.PasswordResponses.INCORRECT_PASSWORD?t.l10n.get("password_invalid",null,"Invalid password. Please try again."):t.l10n.get("password_label",null,"Enter the password to open this PDF file.")).then((function(r){t.label.textContent=r}))}))}},{key:"close",value:function close(){var t=this;this.overlayManager.close(this.overlayName).then((function(){t.input.type="";t.input.value=""}))}},{key:"verify",value:function verify(){var t=this.input.value;if(t&&t.length>0){this.close();this.updateCallback(t)}}},{key:"setUpdateCallback",value:function setUpdateCallback(t,r){this.updateCallback=t;this.reason=r}}]);return PasswordPrompt}();r.PasswordPrompt=l},(t,r,a)=>{"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(r,"__esModule",{value:!0});r.PDFAttachmentViewer=void 0;var i=a(7),o=a(14),l=a(2);function _createForOfIteratorHelper(t,r){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){a&&(t=a);var i=0,o=function F(){};return{s:o,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){a=t[Symbol.iterator]()},n:function n(){var t=a.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==a.return||a.return()}finally{if(c)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}function _get(t,r,a){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(t,r,a){var i=function _superPropBase(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&null!==(t=_getPrototypeOf(t)););return t}(t,r);if(i){var o=Object.getOwnPropertyDescriptor(i,r);return o.get?o.get.call(a):o.value}})(t,r,a||t)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){t.__proto__=r;return t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){return!r||"object"!==_typeof(r)&&"function"!=typeof r?_assertThisInitialized(t):r}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=/\.pdf$/i,c=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});r&&_setPrototypeOf(t,r)}(PDFAttachmentViewer,t);var r=_createSuper(PDFAttachmentViewer);function PDFAttachmentViewer(t){var a;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PDFAttachmentViewer);(a=r.call(this,t)).downloadManager=t.downloadManager;a.eventBus._on("fileattachmentannotation",a._appendAttachment.bind(_assertThisInitialized(a)));return a}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(PDFAttachmentViewer,[{key:"reset",value:function reset(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];_get(_getPrototypeOf(PDFAttachmentViewer.prototype),"reset",this).call(this);this._attachments=null;t||(this._renderedCapability=(0,i.createPromiseCapability)());this._pendingDispatchEvent&&clearTimeout(this._pendingDispatchEvent);this._pendingDispatchEvent=null}},{key:"_dispatchEvent",value:function _dispatchEvent(t){var r=this;this._renderedCapability.resolve();if(this._pendingDispatchEvent){clearTimeout(this._pendingDispatchEvent);this._pendingDispatchEvent=null}0!==t?this.eventBus.dispatch("attachmentsloaded",{source:this,attachmentsCount:t}):this._pendingDispatchEvent=setTimeout((function(){r.eventBus.dispatch("attachmentsloaded",{source:r,attachmentsCount:0});r._pendingDispatchEvent=null}))}},{key:"_bindPdfLink",value:function _bindPdfLink(t,r){var a,i=this,o=r.content,l=r.filename;t.onclick=function(){a||(a=URL.createObjectURL(new Blob([o],{type:"application/pdf"})));var t;t="?file="+encodeURIComponent(a+"#"+l);try{window.open(t)}catch(t){console.error("_bindPdfLink: ".concat(t));URL.revokeObjectURL(a);a=null;i.downloadManager.downloadData(o,l,"application/pdf")}return!1}}},{key:"_bindLink",value:function _bindLink(t,r){var a=this,i=r.content,o=r.filename;t.onclick=function(){var t=u.test(o)?"application/pdf":"";a.downloadManager.downloadData(i,o,t);return!1}}},{key:"render",value:function render(t){var r=t.attachments,a=t.keepRenderedCapability,o=void 0!==a&&a;this._attachments&&this.reset(o);this._attachments=r||null;if(r){var c,d=Object.keys(r).sort((function(t,r){return t.toLowerCase().localeCompare(r.toLowerCase())})),h=document.createDocumentFragment(),p=0,m=_createForOfIteratorHelper(d);try{for(m.s();!(c=m.n()).done;){var g=r[c.value],v=(0,i.getFilenameFromUrl)(g.filename),y=document.createElement("div");y.className="treeItem";var b=document.createElement("a");u.test(v)&&!l.viewerCompatibilityParams.disableCreateObjectURL?this._bindPdfLink(b,{content:g.content,filename:v}):this._bindLink(b,{content:g.content,filename:v});b.textContent=this._normalizeTextContent(v);y.appendChild(b);h.appendChild(y);p++}}catch(t){m.e(t)}finally{m.f()}this._finishRendering(h,p)}else this._dispatchEvent(0)}},{key:"_appendAttachment",value:function _appendAttachment(t){var r=this,a=t.id,i=t.filename,o=t.content,l=this._renderedCapability.promise;l.then((function(){if(l===r._renderedCapability.promise){var t=r._attachments;if(t){for(var u in t)if(a===u)return}else t=Object.create(null);t[a]={filename:i,content:o};r.render({attachments:t,keepRenderedCapability:!0})}}))}}]);return PDFAttachmentViewer}(o.BaseTreeViewer);r.PDFAttachmentViewer=c},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.BaseTreeViewer=void 0;var i=a(7);function _createForOfIteratorHelper(t,r){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){a&&(t=a);var i=0,o=function F(){};return{s:o,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){a=t[Symbol.iterator]()},n:function n(){var t=a.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==a.return||a.return()}finally{if(c)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}var o="selected",l=function(){function BaseTreeViewer(t){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,BaseTreeViewer);if(this.constructor===BaseTreeViewer)throw new Error("Cannot initialize BaseTreeViewer.");this.container=t.container;this.eventBus=t.eventBus;this.reset()}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(BaseTreeViewer,[{key:"reset",value:function reset(){this._pdfDocument=null;this._lastToggleIsShow=!0;this._currentTreeItem=null;this.container.textContent="";this.container.classList.remove("treeWithDeepNesting")}},{key:"_dispatchEvent",value:function _dispatchEvent(t){throw new Error("Not implemented: _dispatchEvent")}},{key:"_bindLink",value:function _bindLink(t,r){throw new Error("Not implemented: _bindLink")}},{key:"_normalizeTextContent",value:function _normalizeTextContent(t){return(0,i.removeNullCharacters)(t)||"–"}},{key:"_addToggleButton",value:function _addToggleButton(t){var r=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=document.createElement("div");i.className="treeItemToggler";a&&i.classList.add("treeItemsHidden");i.onclick=function(a){a.stopPropagation();i.classList.toggle("treeItemsHidden");if(a.shiftKey){var o=!i.classList.contains("treeItemsHidden");r._toggleTreeItem(t,o)}};t.insertBefore(i,t.firstChild)}},{key:"_toggleTreeItem",value:function _toggleTreeItem(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._lastToggleIsShow=r;var a,i=_createForOfIteratorHelper(t.querySelectorAll(".treeItemToggler"));try{for(i.s();!(a=i.n()).done;){var o=a.value;o.classList.toggle("treeItemsHidden",!r)}}catch(t){i.e(t)}finally{i.f()}}},{key:"_toggleAllTreeItems",value:function _toggleAllTreeItems(){this._toggleTreeItem(this.container,!this._lastToggleIsShow)}},{key:"_finishRendering",value:function _finishRendering(t,r){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(a){this.container.classList.add("treeWithDeepNesting");this._lastToggleIsShow=!t.querySelector(".treeItemsHidden")}this.container.appendChild(t);this._dispatchEvent(r)}},{key:"render",value:function render(t){throw new Error("Not implemented: render")}},{key:"_updateCurrentTreeItem",value:function _updateCurrentTreeItem(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this._currentTreeItem){this._currentTreeItem.classList.remove(o);this._currentTreeItem=null}if(t){t.classList.add(o);this._currentTreeItem=t}}},{key:"_scrollToCurrentTreeItem",value:function _scrollToCurrentTreeItem(t){if(t){for(var r=t.parentNode;r&&r!==this.container;){if(r.classList.contains("treeItem")){var a=r.firstElementChild;null==a||a.classList.remove("treeItemsHidden")}r=r.parentNode}this._updateCurrentTreeItem(t);this.container.scrollTo(t.offsetLeft,t.offsetTop+-100)}}}]);return BaseTreeViewer}();r.BaseTreeViewer=l},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFDocumentProperties=void 0;var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(a(4)),o=a(7),l=a(6);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var a=[],i=!0,o=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){a.push(u.value);if(r&&a.length===r)break}}catch(t){o=!0;l=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw l}}return a}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function asyncGeneratorStep(t,r,a,i,o,l,u){try{var c=t[l](u),d=c.value}catch(t){a(t);return}c.done?r(d):Promise.resolve(d).then(i,o)}function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,o){var l=t.apply(r,a);function _next(t){asyncGeneratorStep(l,i,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,i,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}var u="-",c=["en-us","en-lr","my"],d={"8.5x11":"Letter","8.5x14":"Legal"},h={"297x420":"A3","210x297":"A4"};function getPageName(t,r,a){var i=r?t.width:t.height,o=r?t.height:t.width;return a["".concat(i,"x").concat(o)]}var p=function(){function PDFDocumentProperties(t,r,a){var i=this,o=t.overlayName,u=t.fields,d=t.container,h=t.closeButton,p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l.NullL10n;_classCallCheck(this,PDFDocumentProperties);this.overlayName=o;this.fields=u;this.container=d;this.overlayManager=r;this.l10n=p;this._reset();h.addEventListener("click",this.close.bind(this));this.overlayManager.register(this.overlayName,this.container,this.close.bind(this));a._on("pagechanging",(function(t){i._currentPageNumber=t.pageNumber}));a._on("rotationchanging",(function(t){i._pagesRotation=t.pagesRotation}));this._isNonMetricLocale=!0;p.getLanguage().then((function(t){i._isNonMetricLocale=c.includes(t)}))}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(PDFDocumentProperties,[{key:"open",value:(p=_asyncToGenerator(i.default.mark((function _callee(){var t,r,a,o,u,c,d,h,p,m,g,v,y,b,S,w,C,P,k=this;return i.default.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:t=function freezeFieldData(t){Object.defineProperty(k,"fieldData",{value:Object.freeze(t),writable:!1,enumerable:!0,configurable:!0})};i.next=3;return Promise.all([this.overlayManager.open(this.overlayName),this._dataAvailableCapability.promise]);case 3:r=this._currentPageNumber;a=this._pagesRotation;if(!this.fieldData||r!==this.fieldData._currentPageNumber||a!==this.fieldData._pagesRotation){i.next=8;break}this._updateUI();return i.abrupt("return");case 8:i.next=10;return this.pdfDocument.getMetadata();case 10:o=i.sent;u=o.info;c=o.contentDispositionFilename;d=o.contentLength;i.next=16;return Promise.all([c||(0,l.getPDFFileNameFromURL)(this.url),this._parseFileSize(d),this._parseDate(u.CreationDate),this._parseDate(u.ModDate),this.pdfDocument.getPage(r).then((function(t){return k._parsePageSize((0,l.getPageSizeInches)(t),a)})),this._parseLinearization(u.IsLinearized)]);case 16:h=i.sent;p=_slicedToArray(h,6);m=p[0];g=p[1];v=p[2];y=p[3];b=p[4];S=p[5];t({fileName:m,fileSize:g,title:u.Title,author:u.Author,subject:u.Subject,keywords:u.Keywords,creationDate:v,modificationDate:y,creator:u.Creator,producer:u.Producer,version:u.PDFFormatVersion,pageCount:this.pdfDocument.numPages,pageSize:b,linearized:S,_currentPageNumber:r,_pagesRotation:a});this._updateUI();i.next=28;return this.pdfDocument.getDownloadInfo();case 28:w=i.sent;C=w.length;if(d!==C){i.next=32;break}return i.abrupt("return");case 32:P=Object.assign(Object.create(null),this.fieldData);i.next=35;return this._parseFileSize(C);case 35:P.fileSize=i.sent;t(P);this._updateUI();case 38:case"end":return i.stop()}}),_callee,this)}))),function open(){return p.apply(this,arguments)})},{key:"close",value:function close(){this.overlayManager.close(this.overlayName)}},{key:"setDocument",value:function setDocument(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.pdfDocument){this._reset();this._updateUI(!0)}if(t){this.pdfDocument=t;this.url=r;this._dataAvailableCapability.resolve()}}},{key:"_reset",value:function _reset(){this.pdfDocument=null;this.url=null;delete this.fieldData;this._dataAvailableCapability=(0,o.createPromiseCapability)();this._currentPageNumber=1;this._pagesRotation=0}},{key:"_updateUI",value:function _updateUI(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t&&this.fieldData){if(this.overlayManager.active===this.overlayName)for(var r in this.fields){var a=this.fieldData[r];this.fields[r].textContent=a||0===a?a:u}}else for(var i in this.fields)this.fields[i].textContent=u}},{key:"_parseFileSize",value:(a=_asyncToGenerator(i.default.mark((function _callee2(){var t,r,a=arguments;return i.default.wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:t=a.length>0&&void 0!==a[0]?a[0]:0;if(r=t/1024){i.next=6;break}return i.abrupt("return",void 0);case 6:if(!(r<1024)){i.next=8;break}return i.abrupt("return",this.l10n.get("document_properties_kb",{size_kb:(+r.toPrecision(3)).toLocaleString(),size_b:t.toLocaleString()},"{{size_kb}} KB ({{size_b}} bytes)"));case 8:return i.abrupt("return",this.l10n.get("document_properties_mb",{size_mb:(+(r/1024).toPrecision(3)).toLocaleString(),size_b:t.toLocaleString()},"{{size_mb}} MB ({{size_b}} bytes)"));case 9:case"end":return i.stop()}}),_callee2,this)}))),function _parseFileSize(){return a.apply(this,arguments)})},{key:"_parsePageSize",value:(r=_asyncToGenerator(i.default.mark((function _callee3(t,r){var a,o,u,c,p,m,g,v=this;return i.default.wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:if(t){i.next=2;break}return i.abrupt("return",void 0);case 2:r%180!=0&&(t={width:t.height,height:t.width});a=(0,l.isPortraitOrientation)(t);o={width:Math.round(100*t.width)/100,height:Math.round(100*t.height)/100};u={width:Math.round(25.4*t.width*10)/10,height:Math.round(25.4*t.height*10)/10};c=null;if(!((p=getPageName(o,a,d)||getPageName(u,a,h))||Number.isInteger(u.width)&&Number.isInteger(u.height))){m={width:25.4*t.width,height:25.4*t.height};g={width:Math.round(u.width),height:Math.round(u.height)};if(Math.abs(m.width-g.width)<.1&&Math.abs(m.height-g.height)<.1&&(p=getPageName(g,a,h))){o={width:Math.round(g.width/25.4*100)/100,height:Math.round(g.height/25.4*100)/100};u=g}}p&&(c=this.l10n.get("document_properties_page_size_name_"+p.toLowerCase(),null,p));return i.abrupt("return",Promise.all([this._isNonMetricLocale?o:u,this.l10n.get("document_properties_page_size_unit_"+(this._isNonMetricLocale?"inches":"millimeters"),null,this._isNonMetricLocale?"in":"mm"),c,this.l10n.get("document_properties_page_size_orientation_"+(a?"portrait":"landscape"),null,a?"portrait":"landscape")]).then((function(t){var r=_slicedToArray(t,4),a=r[0],i=a.width,o=a.height,l=r[1],u=r[2],c=r[3];return v.l10n.get("document_properties_page_size_dimension_"+(u?"name_":"")+"string",{width:i.toLocaleString(),height:o.toLocaleString(),unit:l,name:u,orientation:c},"{{width}} × {{height}} {{unit}} ("+(u?"{{name}}, ":"")+"{{orientation}})")})));case 11:case"end":return i.stop()}}),_callee3,this)}))),function _parsePageSize(t,a){return r.apply(this,arguments)})},{key:"_parseDate",value:(t=_asyncToGenerator(i.default.mark((function _callee4(t){var r;return i.default.wrap((function _callee4$(a){for(;;)switch(a.prev=a.next){case 0:if(r=o.PDFDateString.toDateObject(t)){a.next=3;break}return a.abrupt("return",void 0);case 3:return a.abrupt("return",this.l10n.get("document_properties_date_string",{date:r.toLocaleDateString(),time:r.toLocaleTimeString()},"{{date}}, {{time}}"));case 4:case"end":return a.stop()}}),_callee4,this)}))),function _parseDate(r){return t.apply(this,arguments)})},{key:"_parseLinearization",value:function _parseLinearization(t){return this.l10n.get("document_properties_linearized_"+(t?"yes":"no"),null,t?"Yes":"No")}}]);var t,r,a,p;return PDFDocumentProperties}();r.PDFDocumentProperties=p},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFFindBar=void 0;var i=a(17),o=a(6);function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}var l=function(){function PDFFindBar(t,r){var a=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.NullL10n;_classCallCheck(this,PDFFindBar);this.opened=!1;this.bar=t.bar||null;this.toggleButton=t.toggleButton||null;this.findField=t.findField||null;this.findFieldMultiline=t.findFieldMultiline||null;this.highlightAll=t.highlightAllCheckbox||null;this.caseSensitive=t.caseSensitiveCheckbox||null;this.entireWord=t.entireWordCheckbox||null;this.multipleSearchTexts=t.findMultipleSearchTextsCheckbox||null;this.ignoreAccents=t.ignoreAccentsCheckbox||null;this.fuzzySearch=t.fuzzyCheckbox||null;this.findMsg=t.findMsg||null;this.findResultsCount=t.findResultsCount||null;this.findPreviousButton=t.findPreviousButton||null;this.findNextButton=t.findNextButton||null;this.eventBus=r;this.l10n=i;this.toggleButton.addEventListener("click",(function(){a.toggle()}));this.findFieldMultiline.addEventListener("input",(function(){a.dispatchEvent("")}));this.findField.addEventListener("input",(function(){a.dispatchEvent("")}));this.bar.addEventListener("keydown",(function(t){switch(t.keyCode){case 13:t.target===a.findField&&a.dispatchEvent("again",t.shiftKey);break;case 27:a.close()}}));this.findPreviousButton.addEventListener("click",(function(){a.dispatchEvent("again",!0)}));this.findNextButton.addEventListener("click",(function(){a.dispatchEvent("again",!1)}));this.highlightAll.addEventListener("click",(function(){a.dispatchEvent("highlightallchange")}));this.caseSensitive.addEventListener("click",(function(){a.dispatchEvent("casesensitivitychange")}));this.entireWord.addEventListener("click",(function(){a.dispatchEvent("entirewordchange")}));this.multipleSearchTexts.addEventListener("click",(function(){a.dispatchEvent("multiplesearchtextschange")}));this.ignoreAccents.addEventListener("click",(function(){a.dispatchEvent("ignoreAccentsChange")}));this.fuzzySearch.addEventListener("click",(function(){a.dispatchEvent("fuzzySearchChange")}));this.eventBus._on("resize",this._adjustWidth.bind(this))}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(PDFFindBar,[{key:"reset",value:function reset(){this.updateUIState()}},{key:"dispatchEvent",value:function dispatchEvent(t,r){this.eventBus.dispatch("find",{source:this,type:t,query:this.findFieldMultiline.classList.contains("hidden")?this.findField.value:this.findFieldMultiline.value,phraseSearch:!this.multipleSearchTexts.checked,caseSensitive:this.caseSensitive.checked,entireWord:this.entireWord.checked,ignoreAccents:this.ignoreAccents.checked,fuzzySearch:this.fuzzySearch.checked,highlightAll:this.highlightAll.checked,findPrevious:r})}},{key:"updateUIState",value:function updateUIState(t,r,a){var o=this,l="",u="";switch(t){case i.FindState.FOUND:break;case i.FindState.PENDING:u="pending";break;case i.FindState.NOT_FOUND:l=this.l10n.get("find_not_found",null,"Phrase not found");u="notFound";break;case i.FindState.WRAPPED:l=r?this.l10n.get("find_reached_top",null,"Reached top of document, continued from bottom"):this.l10n.get("find_reached_bottom",null,"Reached end of document, continued from top")}this.findField.setAttribute("data-status",u);this.findFieldMultiline.classList.toggle("notFound","notFound"===u);this.findFieldMultiline.setAttribute("data-status",u);Promise.resolve(l).then((function(t){o.findMsg.textContent=t;o._adjustWidth()}));this.updateResultsCount(a)}},{key:"updateResultsCount",value:function updateResultsCount(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=r.current,i=void 0===a?0:a,o=r.total,l=void 0===o?0:o;if(this.findResultsCount){var u=1e3,c="";l>0&&(c=l>u?this.l10n.get("find_match_count_limit",{limit:u},"More than {{limit}} match"+(1!==u?"es":"")):this.l10n.get("find_match_count",{current:i,total:l},"{{current}} of {{total}} match"+(1!==l?"es":"")));Promise.resolve(c).then((function(r){t.findResultsCount.textContent=r;t.findResultsCount.classList.toggle("hidden",!l);t._adjustWidth()}))}}},{key:"open",value:function open(){if(!this.opened){this.opened=!0;this.toggleButton.classList.add("toggled");this.bar.classList.remove("hidden")}this.findField.select();this.findField.focus();this.dispatchEvent("");this._adjustWidth()}},{key:"close",value:function close(){if(this.opened){this.opened=!1;this.toggleButton.classList.remove("toggled");this.bar.classList.add("hidden");this.eventBus.dispatch("findbarclose",{source:this})}}},{key:"toggle",value:function toggle(){this.opened?this.close():this.open()}},{key:"_adjustWidth",value:function _adjustWidth(){if(this.opened){this.bar.classList.remove("wrapContainers");this.bar.clientHeight>this.bar.firstElementChild.clientHeight&&this.bar.classList.add("wrapContainers")}}}]);return PDFFindBar}();r.PDFFindBar=l},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFFindController=r.FindState=void 0;var i=a(7),o=a(18),l=a(19),u=a(20),c=a(6);function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var a=[],i=!0,o=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){a.push(u.value);if(r&&a.length===r)break}}catch(t){o=!0;l=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw l}}return a}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _createForOfIteratorHelper(t,r){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){a&&(t=a);var i=0,o=function F(){};return{s:o,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){a=t[Symbol.iterator]()},n:function n(){var t=a.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==a.return||a.return()}finally{if(c)throw l}}}}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);return"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var d={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};r.FindState=d;var h={"‘":"'","’":"'","‚":"'","‛":"'","“":'"',"”":'"',"„":'"',"‟":'"',"¼":"1/4","½":"1/2","¾":"3/4"},p=null;function normalize(t){if(!p){var r=Object.keys(h).join("");p=new RegExp("[".concat(r,"]"),"g")}var a=null;return[t.replace(p,(function(t,r){var i=h[t],o=i.length-t.length;0!==o&&(a||(a=[])).push([r,o]);return i})),a]}function getOriginalIndex(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!r)return t;var a,i=0,o=_createForOfIteratorHelper(r);try{for(o.s();!(a=o.n()).done;){var l=_slicedToArray(a.value,2),u=l[0],c=l[1],d=u+i;if(d>=t)break;if(d+c>t){i+=t-d;break}i+=c}}catch(t){o.e(t)}finally{o.f()}return t-i}var m=function(){function PDFFindController(t){var r=t.linkService,a=t.eventBus,i=t.pageViewMode;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PDFFindController);this._linkService=r;this._eventBus=a;this._pageViewMode=i;this._reset();a._on("findbarclose",this._onFindBarClose.bind(this))}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(PDFFindController,[{key:"setDocument",value:function setDocument(t){this._pdfDocument&&this._reset();if(t){this._pdfDocument=t;this._firstPageCapability.resolve()}}},{key:"executeCommand",value:function executeCommand(t,r){var a=this;if(r){var i=this._pdfDocument;(null===this._state||this._shouldDirtyMatch(t,r))&&(this._dirtyMatch=!0);this._state=r;"findhighlightallchange"!==t&&this._updateUIState(d.PENDING);this._firstPageCapability.promise.then((function(){if(a._pdfDocument&&(!i||a._pdfDocument===i)){a._extractText();var r=!a._highlightMatches,o=!!a._findTimeout;if(a._findTimeout){clearTimeout(a._findTimeout);a._findTimeout=null}if("find"===t)a._findTimeout=setTimeout((function(){a._nextMatch();a._findTimeout=null}),250);else if(a._dirtyMatch)a._nextMatch();else if("findagain"===t){a._nextMatch();r&&a._state.highlightAll&&a._updateAllPages()}else if("findhighlightallchange"===t){o?a._nextMatch():a._highlightMatches=!0;a._updateAllPages()}else a._nextMatch()}}))}}},{key:"scrollMatchIntoView",value:function scrollMatchIntoView(t){var r=t.element,a=void 0===r?null:r,i=t.pageIndex,o=void 0===i?-1:i,l=t.matchIndex,u=void 0===l?-1:l;if(this._scrollMatches&&a&&-1!==u&&u===this._selected.matchIdx&&-1!==o&&o===this._selected.pageIdx){this._scrollMatches=!1;var d={top:-50,left:-400};(0,c.scrollIntoView)(a,d,!0,"infinite-scroll"===this._pageViewMode)}}},{key:"_reset",value:function _reset(){this._highlightMatches=!1;this._scrollMatches=!1;this._pdfDocument=null;this._pageMatches=[];this._pageMatchesLength=[];this._pageMatchesColor=[];this._state=null;this._selected={pageIdx:-1,matchIdx:-1};this._offset={pageIdx:null,matchIdx:null,wrapped:!1};this._extractTextPromises=[];this._pageContents=[];this._pageDiffs=[];this._matchesCountTotal=0;this._pagesToSearch=null;this._pendingFindMatches=Object.create(null);this._resumePageIdx=null;this._dirtyMatch=!1;clearTimeout(this._findTimeout);this._findTimeout=null;this._firstPageCapability=(0,i.createPromiseCapability)()}},{key:"_shouldDirtyMatch",value:function _shouldDirtyMatch(t,r){if(r.query!==this._state.query)return!0;switch(t){case"findagain":var a=this._selected.pageIdx+1,i=this._linkService;return a>=1&&a<=i.pagesCount&&a!==i.page&&!i.isPageVisible(a);case"findhighlightallchange":return!1}return!0}},{key:"_prepareMatches",value:function _prepareMatches(t,r,a,i){function isSubTerm(r){var a=t[r],i=t[r+1];if(r<t.length-1&&a.match===i.match){a.skipped=!0;return!0}for(var o=r-1;o>=0;o--){var l=t[o];if(!l.skipped){if(l.match+l.matchLength<a.match)break;if(l.match+l.matchLength>=a.match+a.matchLength){a.skipped=!0;return!0}}}return!1}t.sort((function(t,r){return t.match===r.match?t.matchLength-r.matchLength:t.match-r.match}));for(var o=0,l=t.length;o<l;o++)if(!isSubTerm(o)){r.push(t[o].match);a.push(t[o].matchLength);i.push(t[o].color)}}},{key:"_isEntireWord",value:function _isEntireWord(t,r,a){if(r>0){var i=t.charCodeAt(r),o=t.charCodeAt(r-1);if((0,l.getCharacterType)(i)===(0,l.getCharacterType)(o))return!1}var u=r+a-1;if(u<t.length-1){var c=t.charCodeAt(u),d=t.charCodeAt(u+1);if((0,l.getCharacterType)(c)===(0,l.getCharacterType)(d))return!1}return!0}},{key:"_calculateFuzzyMatch",value:function _calculateFuzzyMatch(t,r,a,i){for(var o=[],l=[],c=t.length,d=c<5?c:5,h=Math.round(c/5),p=t.substring(0,d),m={useCollator:!0},g=0;g<a.length-c;g++){var v=a.substring(g,g+d);if(u.Levenshtein.distance(p,v,m)<3){var y=a.substring(g,g+c),b=u.Levenshtein.distance(t,y,m);if(b<=h){if(g+1<a.length-c){var S=a.substring(g+1,g+1+c);if(b>=u.Levenshtein.distance(t,S,m))continue}var w=getOriginalIndex(g,i),C=getOriginalIndex(g+c-1,i)-w+1;o.push(w);l.push(C);g+=c-1}}}this._pageMatches[r]=o;this._pageMatchesLength[r]=l}},{key:"_calculatePhraseMatch",value:function _calculatePhraseMatch(t,r,a,i,l,u){if(u){a=(0,o.deburr)(a);t=(0,o.deburr)(t)}for(var c=[],d=[],h=t.length,p=-h;-1!==(p=a.indexOf(t,p+h));)if(!l||this._isEntireWord(a,p,h)){var m=getOriginalIndex(p,i),g=getOriginalIndex(p+h-1,i)-m+1;c.push(m);d.push(g)}this._pageMatches[r]=c;this._pageMatchesLength[r]=d}},{key:"_calculateWordMatch",value:function _calculateWordMatch(t,r,a,i,l,u){if(u){a=(0,o.deburr)(a);t=(0,o.deburr)(t)}for(var c=[],d=t.includes("\n")?t.trim().split(/\n+/g):t.trim().match(/\S+/g),h=0,p=d.length;h<p;h++){var m=d[h],g=m.length;if(0!==g)for(var v=-g;-1!==(v=a.indexOf(m,v+g));)if(!l||this._isEntireWord(a,v,g)){var y=getOriginalIndex(v,i),b=getOriginalIndex(v+g-1,i)-y+1;c.push({match:y,matchLength:b,skipped:!1,color:h})}}this._pageMatchesLength[r]=[];this._pageMatchesColor[r]=[];this._pageMatches[r]=[];this._prepareMatches(c,this._pageMatches[r],this._pageMatchesLength[r],this._pageMatchesColor[r])}},{key:"_calculateMatch",value:function _calculateMatch(t){var r=this._pageContents[t],a=this._pageDiffs[t],i=this._query,o=this._state,l=o.caseSensitive,u=o.entireWord,c=o.ignoreAccents,d=o.fuzzySearch,h=o.phraseSearch;if(0!==i.length){if(!l){r=r.toLowerCase();i=i.toLowerCase()}d?i.length<=2?this._calculatePhraseMatch(i,t,r,a,!1):this._calculateFuzzyMatch(i,t,r,a):h?this._calculatePhraseMatch(i,t,r,a,u,c):this._calculateWordMatch(i,t,r,a,u,c);this._state.highlightAll&&this._updatePage(t);if(this._resumePageIdx===t){this._resumePageIdx=null;this._nextPageMatch()}var p=this._pageMatches[t].length;if(p>0){this._matchesCountTotal+=p;this._updateUIResultsCount()}}}},{key:"_extractText",value:function _extractText(){var t=this;if(!(this._extractTextPromises.length>0))for(var r=Promise.resolve(),a=function _loop(a,o){var l=(0,i.createPromiseCapability)();t._extractTextPromises[a]=l.promise;r=r.then((function(){return t._pdfDocument.getPage(a+1).then((function(t){return t.getTextContent({normalizeWhitespace:!0})})).then((function(r){for(var i=r.items,o=[],u=0,c=i.length;u<c;u++)o.push(i[u].str);var d=_slicedToArray(normalize(o.join("")),2);t._pageContents[a]=d[0];t._pageDiffs[a]=d[1];l.resolve(a)}),(function(r){console.error("Unable to get text content for page ".concat(a+1),r);t._pageContents[a]="";t._pageDiffs[a]=null;l.resolve(a)}))}))},o=0,l=this._linkService.pagesCount;o<l;o++)a(o)}},{key:"_updatePage",value:function _updatePage(t){this._scrollMatches&&this._selected.pageIdx===t&&(this._linkService.page=t+1);this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:t})}},{key:"_updateAllPages",value:function _updateAllPages(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}},{key:"_nextMatch",value:function _nextMatch(){var t=this,r=this._state.findPrevious,a=this._linkService.page-1,i=this._linkService.pagesCount;this._highlightMatches=!0;if(this._dirtyMatch){this._dirtyMatch=!1;this._selected.pageIdx=this._selected.matchIdx=-1;this._offset.pageIdx=a;this._offset.matchIdx=null;this._offset.wrapped=!1;this._resumePageIdx=null;this._pageMatches.length=0;this._pageMatchesLength.length=0;this._pageMatchesColor.length=0;this._matchesCountTotal=0;this._updateAllPages();for(var o=0;o<i;o++)if(!0!==this._pendingFindMatches[o]){this._pendingFindMatches[o]=!0;this._extractTextPromises[o].then((function(r){delete t._pendingFindMatches[r];t._calculateMatch(r)}))}}if(""!==this._query){if(!this._resumePageIdx){var l=this._offset;this._pagesToSearch=i;if(null!==l.matchIdx){var u=this._pageMatches[l.pageIdx].length;if(!r&&l.matchIdx+1<u||r&&l.matchIdx>0){l.matchIdx=r?l.matchIdx-1:l.matchIdx+1;this._updateMatch(!0);return}this._advanceOffsetPage(r)}this._nextPageMatch()}}else this._updateUIState(d.FOUND)}},{key:"_matchesReady",value:function _matchesReady(t){var r=this._offset,a=t.length,i=this._state.findPrevious;if(a){r.matchIdx=i?a-1:0;this._updateMatch(!0);return!0}this._advanceOffsetPage(i);if(r.wrapped){r.matchIdx=null;if(this._pagesToSearch<0){this._updateMatch(!1);return!0}}return!1}},{key:"_nextPageMatch",value:function _nextPageMatch(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");var t=null;do{var r=this._offset.pageIdx;if(!(t=this._pageMatches[r])){this._resumePageIdx=r;break}}while(!this._matchesReady(t))}},{key:"_advanceOffsetPage",value:function _advanceOffsetPage(t){var r=this._offset,a=this._linkService.pagesCount;r.pageIdx=t?r.pageIdx-1:r.pageIdx+1;r.matchIdx=null;this._pagesToSearch--;if(r.pageIdx>=a||r.pageIdx<0){r.pageIdx=t?a-1:0;r.wrapped=!0}}},{key:"_updateMatch",value:function _updateMatch(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=d.NOT_FOUND,a=this._offset.wrapped;this._offset.wrapped=!1;if(t){var i=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx;this._selected.matchIdx=this._offset.matchIdx;r=a?d.WRAPPED:d.FOUND;-1!==i&&i!==this._selected.pageIdx&&this._updatePage(i)}this._updateUIState(r,this._state.findPrevious);if(-1!==this._selected.pageIdx){this._scrollMatches=!0;this._updatePage(this._selected.pageIdx)}}},{key:"_onFindBarClose",value:function _onFindBarClose(t){var r=this,a=this._pdfDocument;this._firstPageCapability.promise.then((function(){if(r._pdfDocument&&(!a||r._pdfDocument===a)){if(r._findTimeout){clearTimeout(r._findTimeout);r._findTimeout=null}if(r._resumePageIdx){r._resumePageIdx=null;r._dirtyMatch=!0}r._updateUIState(d.FOUND);r._highlightMatches=!1;r._updateAllPages()}}))}},{key:"_requestMatchesCount",value:function _requestMatchesCount(){var t=this._selected,r=t.pageIdx,a=t.matchIdx,i=0,o=this._matchesCountTotal;if(-1!==a){for(var l=0;l<r;l++)i+=this._pageMatches[l]&&this._pageMatches[l].length||0;i+=a+1}(i<1||i>o)&&(i=o=0);return{current:i,total:o}}},{key:"_updateUIResultsCount",value:function _updateUIResultsCount(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}},{key:"_updateUIState",value:function _updateUIState(t,r){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:t,previous:r,matchesCount:this._requestMatchesCount(),rawQuery:this._state?this._state.query:null})}},{key:"highlightMatches",get:function get(){return this._highlightMatches}},{key:"pageMatches",get:function get(){return this._pageMatches}},{key:"pageMatchesColor",get:function get(){return this._pageMatchesColor}},{key:"pageMatchesLength",get:function get(){return this._pageMatchesLength}},{key:"selected",get:function get(){return this._selected}},{key:"state",get:function get(){return this._state}},{key:"_query",get:function get(){if(this._state.query!==this._rawQuery){this._rawQuery=this._state.query;var t=_slicedToArray(normalize(this._state.query),1);this._normalizedQuery=t[0]}return this._normalizedQuery}}]);return PDFFindController}();r.PDFFindController=m},(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.deburr=function deburr(t){return(t=function toString(t){return null==t?"":function baseToString(t){if("string"==typeof t)return t;if(function isSymbol(t){return"symbol"==_typeof(t)||function isObjectLike(t){return!!t&&"object"==_typeof(t)}(t)&&h.call(t)==a}(t))return g?g.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}(t)}(t))&&t.replace(i,d).replace(o,"")};function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a="[object Symbol]",i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]","g"),l="object"==("undefined"==typeof global?"undefined":_typeof(global))&&global&&global.Object===Object&&global,u="object"==("undefined"==typeof self?"undefined":_typeof(self))&&self&&self.Object===Object&&self,c=l||u||Function("return this")();var d=function basePropertyOf(t){return function(r){return null==t?void 0:t[r]}}({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"ss"}),h=Object.prototype.toString,p=c.Symbol,m=p?p.prototype:void 0,g=m?m.toString:void 0},(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.getCharacterType=function getCharacterType(t){if(function isAlphabeticalScript(t){return t<11904}(t))return function isAscii(t){return 0==(65408&t)}(t)?function isAsciiSpace(t){return 32===t||9===t||13===t||10===t}(t)?a.SPACE:function isAsciiAlpha(t){return t>=97&&t<=122||t>=65&&t<=90}(t)||function isAsciiDigit(t){return t>=48&&t<=57}(t)||95===t?a.ALPHA_LETTER:a.PUNCT:function isThai(t){return 3584==(65408&t)}(t)?a.THAI_LETTER:160===t?a.SPACE:a.ALPHA_LETTER;if(function isHan(t){return t>=13312&&t<=40959||t>=63744&&t<=64255}(t))return a.HAN_LETTER;if(function isKatakana(t){return t>=12448&&t<=12543}(t))return a.KATAKANA_LETTER;if(function isHiragana(t){return t>=12352&&t<=12447}(t))return a.HIRAGANA_LETTER;if(function isHalfwidthKatakana(t){return t>=65376&&t<=65439}(t))return a.HALFWIDTH_KATAKANA_LETTER;return a.ALPHA_LETTER};r.CharacterType=void 0;var a={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};r.CharacterType=a},(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.Levenshtein=void 0;function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}var a;try{a=Intl.Collator("und",{sensitivity:"base"})}catch(t){try{a=Intl.Collator("generic",{sensitivity:"base"})}catch(t){a=void 0}}var i=[],o=[],l=function(){function Levenshtein(){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Levenshtein)}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(Levenshtein,null,[{key:"distance",value:function distance(t,r,l){var u,c,d,h,p,m,g=l&&a&&l.useCollator,v=t.length,y=r.length;if(0===v)return y;if(0===y)return v;for(d=0;d<y;++d){i[d]=d;o[d]=r.charCodeAt(d)}i[y]=y;if(g)for(d=0;d<v;++d){c=d+1;for(h=0;h<y;++h){u=c;m=0===a.compare(t.charAt(d),String.fromCharCode(o[h]));(c=i[h]+(m?0:1))>(p=u+1)&&(c=p);c>(p=i[h+1]+1)&&(c=p);i[h]=u}i[h]=c}else for(d=0;d<v;++d){c=d+1;for(h=0;h<y;++h){u=c;m=t.charCodeAt(d)===o[h];(c=i[h]+(m?0:1))>(p=u+1)&&(c=p);c>(p=i[h+1]+1)&&(c=p);i[h]=u}i[h]=c}return c}}]);return Levenshtein}();r.Levenshtein=l},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.isDestArraysEqual=isDestArraysEqual;r.isDestHashesEqual=isDestHashesEqual;r.PDFHistory=void 0;var i=a(6);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var a=[],i=!0,o=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){a.push(u.value);if(r&&a.length===r)break}}catch(t){o=!0;l=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw l}}return a}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}function getCurrentHash(){return document.location.hash}var o=function(){function PDFHistory(t){var r=this,a=t.linkService,o=t.eventBus;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PDFHistory);this.linkService=a;this.eventBus=o;this._initialized=!1;this._fingerprint="";this.reset();this._boundEvents=null;this._isViewerInPresentationMode=!1;this.eventBus._on("presentationmodechanged",(function(t){r._isViewerInPresentationMode=t.state!==i.PresentationModeState.NORMAL}));this.eventBus._on("pagesinit",(function(){r._isPagesLoaded=!1;r.eventBus._on("pagesloaded",(function(t){r._isPagesLoaded=!!t.pagesCount}),{once:!0})}))}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(PDFHistory,[{key:"initialize",value:function initialize(t){var r=t.fingerprint,a=t.resetHistory,i=void 0!==a&&a,o=t.updateUrl,l=void 0!==o&&o;if(r&&"string"==typeof r){this._initialized&&this.reset();var u=""!==this._fingerprint&&this._fingerprint!==r;this._fingerprint=r;this._updateUrl=!0===l;this._initialized=!0;this._bindEvents();var c=window.history.state;this._popStateInProgress=!1;this._blockHashChange=0;this._currentHash=getCurrentHash();this._numPositionUpdates=0;this._uid=this._maxUid=0;this._destination=null;this._position=null;if(this._isValidState(c,!0)&&!i){var d=c.destination;this._updateInternalState(d,c.uid,!0);void 0!==d.rotation&&(this._initialRotation=d.rotation);if(d.dest){this._initialBookmark=JSON.stringify(d.dest);this._destination.page=null}else d.hash?this._initialBookmark=d.hash:d.page&&(this._initialBookmark="page=".concat(d.page))}else{var h=this._parseCurrentHash(!0),p=h.hash,m=h.page,g=h.rotation;if(!p||u||i){this._pushOrReplaceState(null,!0);return}this._pushOrReplaceState({hash:p,page:m,rotation:g},!0)}}else console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.')}},{key:"reset",value:function reset(){if(this._initialized){this._pageHide();this._initialized=!1;this._unbindEvents()}if(this._updateViewareaTimeout){clearTimeout(this._updateViewareaTimeout);this._updateViewareaTimeout=null}this._initialBookmark=null;this._initialRotation=null}},{key:"push",value:function push(t){var r=this,a=t.namedDest,i=void 0===a?null:a,o=t.explicitDest,l=t.pageNumber;if(this._initialized)if(i&&"string"!=typeof i)console.error("PDFHistory.push: "+'"'.concat(i,'" is not a valid namedDest parameter.'));else if(Array.isArray(o))if(Number.isInteger(l)&&l>0&&l<=this.linkService.pagesCount||null===l&&!this._destination){var u=i||JSON.stringify(o);if(u){var c=!1;if(this._destination&&(isDestHashesEqual(this._destination.hash,u)||isDestArraysEqual(this._destination.dest,o))){if(this._destination.page)return;c=!0}if(!this._popStateInProgress||c){this._pushOrReplaceState({dest:o,hash:u,page:l,rotation:this.linkService.rotation},c);if(!this._popStateInProgress){this._popStateInProgress=!0;Promise.resolve().then((function(){r._popStateInProgress=!1}))}}}}else console.error("PDFHistory.push: "+'"'.concat(l,'" is not a valid pageNumber parameter.'));else console.error("PDFHistory.push: "+'"'.concat(o,'" is not a valid explicitDest parameter.'))}},{key:"pushPage",value:function pushPage(t){var r,a=this;if(this._initialized)if(Number.isInteger(t)&&t>0&&t<=this.linkService.pagesCount){if((null===(r=this._destination)||void 0===r?void 0:r.page)!==t&&!this._popStateInProgress){this._pushOrReplaceState({hash:"page=".concat(t),page:t,rotation:this.linkService.rotation});if(!this._popStateInProgress){this._popStateInProgress=!0;Promise.resolve().then((function(){a._popStateInProgress=!1}))}}}else console.error('PDFHistory.pushPage: "'.concat(t,'" is not a valid page number.'))}},{key:"pushCurrentPosition",value:function pushCurrentPosition(){this._initialized&&!this._popStateInProgress&&this._tryPushCurrentPosition()}},{key:"back",value:function back(){if(this._initialized&&!this._popStateInProgress){var t=window.history.state;this._isValidState(t)&&t.uid>0&&window.history.back()}}},{key:"forward",value:function forward(){if(this._initialized&&!this._popStateInProgress){var t=window.history.state;this._isValidState(t)&&t.uid<this._maxUid&&window.history.forward()}}},{key:"_pushOrReplaceState",value:function _pushOrReplaceState(t){var r,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=a||!this._destination,o={fingerprint:this._fingerprint,uid:i?this._uid:this._uid+1,destination:t};this._updateInternalState(t,o.uid);if(this._updateUrl&&null!=t&&t.hash){var l=document.location.href.split("#")[0];l.startsWith("file://")||(r="".concat(l,"#").concat(t.hash))}i?window.history.replaceState(o,"",r):window.history.pushState(o,"",r)}},{key:"_tryPushCurrentPosition",value:function _tryPushCurrentPosition(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._position){var r=this._position;t&&((r=Object.assign(Object.create(null),this._position)).temporary=!0);if(this._destination){if(this._destination.temporary)this._pushOrReplaceState(r,!0);else if(this._destination.hash!==r.hash&&(this._destination.page||!(this._numPositionUpdates<=50))){var a=!1;if(this._destination.page>=r.first&&this._destination.page<=r.page){if(this._destination.dest||!this._destination.first)return;a=!0}this._pushOrReplaceState(r,a)}}else this._pushOrReplaceState(r)}}},{key:"_isValidState",value:function _isValidState(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return!1;if(t.fingerprint!==this._fingerprint){if(!r)return!1;if("string"!=typeof t.fingerprint||t.fingerprint.length!==this._fingerprint.length)return!1;var a=performance.getEntriesByType("navigation"),i=_slicedToArray(a,1),o=i[0];if("reload"!==(null==o?void 0:o.type))return!1}return!(!Number.isInteger(t.uid)||t.uid<0)&&(null!==t.destination&&"object"===_typeof(t.destination))}},{key:"_updateInternalState",value:function _updateInternalState(t,r){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this._updateViewareaTimeout){clearTimeout(this._updateViewareaTimeout);this._updateViewareaTimeout=null}a&&null!=t&&t.temporary&&delete t.temporary;this._destination=t;this._uid=r;this._maxUid=Math.max(this._maxUid,r);this._numPositionUpdates=0}},{key:"_parseCurrentHash",value:function _parseCurrentHash(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=unescape(getCurrentHash()).substring(1),a=(0,i.parseQueryString)(r),o=a.nameddest||"",l=0|a.page;Number.isInteger(l)&&l>0&&l<=this.linkService.pagesCount&&!(t&&o.length>0)||(l=null);return{hash:r,page:l,rotation:this.linkService.rotation}}},{key:"_updateViewarea",value:function _updateViewarea(t){var r=this,a=t.location;if(this._updateViewareaTimeout){clearTimeout(this._updateViewareaTimeout);this._updateViewareaTimeout=null}this._position={hash:this._isViewerInPresentationMode?"page=".concat(a.pageNumber):a.pdfOpenParams.substring(1),page:this.linkService.page,first:a.pageNumber,rotation:a.rotation};if(!this._popStateInProgress){this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++;this._updateViewareaTimeout=setTimeout((function(){r._popStateInProgress||r._tryPushCurrentPosition(!0);r._updateViewareaTimeout=null}),1e3)}}},{key:"_popState",value:function _popState(t){var r=this,a=t.state,o=getCurrentHash(),l=this._currentHash!==o;this._currentHash=o;if(a){if(this._isValidState(a)){this._popStateInProgress=!0;if(l){this._blockHashChange++;(0,i.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then((function(){r._blockHashChange--}))}var u=a.destination;this._updateInternalState(u,a.uid,!0);(0,i.isValidRotation)(u.rotation)&&(this.linkService.rotation=u.rotation);u.dest?this.linkService.goToDestination(u.dest):u.hash?this.linkService.setHash(u.hash):u.page&&(this.linkService.page=u.page);Promise.resolve().then((function(){r._popStateInProgress=!1}))}}else{this._uid++;var c=this._parseCurrentHash(),d=c.hash,h=c.page,p=c.rotation;this._pushOrReplaceState({hash:d,page:h,rotation:p},!0)}}},{key:"_pageHide",value:function _pageHide(){this._destination&&!this._destination.temporary||this._tryPushCurrentPosition()}},{key:"_bindEvents",value:function _bindEvents(){if(!this._boundEvents){this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)};this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea);window.addEventListener("popstate",this._boundEvents.popState);window.addEventListener("pagehide",this._boundEvents.pageHide)}}},{key:"_unbindEvents",value:function _unbindEvents(){if(this._boundEvents){this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea);window.removeEventListener("popstate",this._boundEvents.popState);window.removeEventListener("pagehide",this._boundEvents.pageHide);this._boundEvents=null}}},{key:"popStateInProgress",get:function get(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}},{key:"initialBookmark",get:function get(){return this._initialized?this._initialBookmark:null}},{key:"initialRotation",get:function get(){return this._initialized?this._initialRotation:null}}]);return PDFHistory}();r.PDFHistory=o;function isDestHashesEqual(t,r){return"string"==typeof t&&"string"==typeof r&&(t===r||(0,i.parseQueryString)(t).nameddest===r)}function isDestArraysEqual(t,r){function isEntryEqual(t,r){if(_typeof(t)!==_typeof(r))return!1;if(Array.isArray(t)||Array.isArray(r))return!1;if(null!==t&&"object"===_typeof(t)&&null!==r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(var a in t)if(!isEntryEqual(t[a],r[a]))return!1;return!0}return t===r||Number.isNaN(t)&&Number.isNaN(r)}if(!Array.isArray(t)||!Array.isArray(r))return!1;if(t.length!==r.length)return!1;for(var a=0,i=t.length;a<i;a++)if(!isEntryEqual(t[a],r[a]))return!1;return!0}},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFLayerViewer=void 0;var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(a(4));function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _createForOfIteratorHelper(t,r){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){a&&(t=a);var i=0,o=function F(){};return{s:o,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){a=t[Symbol.iterator]()},n:function n(){var t=a.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==a.return||a.return()}finally{if(c)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function asyncGeneratorStep(t,r,a,i,o,l,u){try{var c=t[l](u),d=c.value}catch(t){a(t);return}c.done?r(d):Promise.resolve(d).then(i,o)}function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,o){var l=t.apply(r,a);function _next(t){asyncGeneratorStep(l,i,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,i,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}function _get(t,r,a){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(t,r,a){var i=function _superPropBase(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&null!==(t=_getPrototypeOf(t)););return t}(t,r);if(i){var o=Object.getOwnPropertyDescriptor(i,r);return o.get?o.get.call(a):o.value}})(t,r,a||t)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){t.__proto__=r;return t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){return!r||"object"!==_typeof(r)&&"function"!=typeof r?_assertThisInitialized(t):r}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});r&&_setPrototypeOf(t,r)}(PDFLayerViewer,t);var r,a,o=_createSuper(PDFLayerViewer);function PDFLayerViewer(t){var r;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PDFLayerViewer);(r=o.call(this,t)).l10n=t.l10n;r.eventBus._on("resetlayers",r._resetLayers.bind(_assertThisInitialized(r)));r.eventBus._on("togglelayerstree",r._toggleAllTreeItems.bind(_assertThisInitialized(r)));return r}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(PDFLayerViewer,[{key:"reset",value:function reset(){_get(_getPrototypeOf(PDFLayerViewer.prototype),"reset",this).call(this);this._optionalContentConfig=null}},{key:"_dispatchEvent",value:function _dispatchEvent(t){this.eventBus.dispatch("layersloaded",{source:this,layersCount:t})}},{key:"_bindLink",value:function _bindLink(t,r){var a=this,i=r.groupId,o=r.input,l=function setVisibility(){a._optionalContentConfig.setVisibility(i,o.checked);a.eventBus.dispatch("optionalcontentconfig",{source:a,promise:Promise.resolve(a._optionalContentConfig)})};t.onclick=function(r){if(r.target===o){l();return!0}if(r.target!==t)return!0;o.checked=!o.checked;l();return!1}}},{key:"_setNestedName",value:(a=_asyncToGenerator(i.default.mark((function _callee(t,r){var a,o;return i.default.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:a=r.name;if("string"!=typeof(o=void 0===a?null:a)){i.next=4;break}t.textContent=this._normalizeTextContent(o);return i.abrupt("return");case 4:i.next=6;return this.l10n.get("additional_layers",null,"Additional Layers");case 6:t.textContent=i.sent;t.style.fontStyle="italic";case 8:case"end":return i.stop()}}),_callee,this)}))),function _setNestedName(t,r){return a.apply(this,arguments)})},{key:"_addToggleButton",value:function _addToggleButton(t,r){var a=r.name,i=void 0===a?null:a;_get(_getPrototypeOf(PDFLayerViewer.prototype),"_addToggleButton",this).call(this,t,null===i)}},{key:"_toggleAllTreeItems",value:function _toggleAllTreeItems(){this._optionalContentConfig&&_get(_getPrototypeOf(PDFLayerViewer.prototype),"_toggleAllTreeItems",this).call(this)}},{key:"render",value:function render(t){var r=t.optionalContentConfig,a=t.pdfDocument;this._optionalContentConfig&&this.reset();this._optionalContentConfig=r||null;this._pdfDocument=a||null;var i=r&&r.getOrder();if(i){for(var o=document.createDocumentFragment(),l=[{parent:o,groups:i}],u=0,c=!1;l.length>0;){var d,h=l.shift(),p=_createForOfIteratorHelper(h.groups);try{for(p.s();!(d=p.n()).done;){var m=d.value,g=document.createElement("div");g.className="treeItem";var v=document.createElement("a");g.appendChild(v);if("object"===_typeof(m)){c=!0;this._addToggleButton(g,m);this._setNestedName(v,m);var y=document.createElement("div");y.className="treeItems";g.appendChild(y);l.push({parent:y,groups:m.order})}else{var b=r.getGroup(m),S=document.createElement("input");this._bindLink(v,{groupId:m,input:S});S.type="checkbox";S.id=m;S.checked=b.visible;var w=document.createElement("label");w.setAttribute("for",m);w.textContent=this._normalizeTextContent(b.name);v.appendChild(S);v.appendChild(w);u++}h.parent.appendChild(g)}}catch(t){p.e(t)}finally{p.f()}}this._finishRendering(o,u,c)}else this._dispatchEvent(0)}},{key:"_resetLayers",value:(r=_asyncToGenerator(i.default.mark((function _callee2(){var t;return i.default.wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:if(this._optionalContentConfig){r.next=2;break}return r.abrupt("return");case 2:r.next=4;return this._pdfDocument.getOptionalContentConfig();case 4:t=r.sent;this.eventBus.dispatch("optionalcontentconfig",{source:this,promise:Promise.resolve(t)});this.render({optionalContentConfig:t,pdfDocument:this._pdfDocument});case 7:case"end":return r.stop()}}),_callee2,this)}))),function _resetLayers(){return r.apply(this,arguments)})}]);return PDFLayerViewer}(a(14).BaseTreeViewer);r.PDFLayerViewer=o},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.SimpleLinkService=r.PDFLinkService=void 0;var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(a(4)),o=a(6);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function asyncGeneratorStep(t,r,a,i,o,l,u){try{var c=t[l](u),d=c.value}catch(t){a(t);return}c.done?r(d):Promise.resolve(d).then(i,o)}function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,o){var l=t.apply(r,a);function _next(t){asyncGeneratorStep(l,i,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,i,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}var l=function(){function PDFLinkService(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.eventBus,a=t.externalLinkTarget,i=void 0===a?null:a,o=t.externalLinkRel,l=void 0===o?null:o,u=t.externalLinkEnabled,c=void 0===u||u,d=t.ignoreDestinationZoom,h=void 0!==d&&d;_classCallCheck(this,PDFLinkService);this.eventBus=r;this.externalLinkTarget=i;this.externalLinkRel=l;this.externalLinkEnabled=c;this._ignoreDestinationZoom=h;this.baseUrl=null;this.pdfDocument=null;this.pdfViewer=null;this.pdfHistory=null;this._pagesRefCache=null}_createClass(PDFLinkService,[{key:"setDocument",value:function setDocument(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.baseUrl=r;this.pdfDocument=t;this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function setViewer(t){this.pdfViewer=t}},{key:"setHistory",value:function setHistory(t){this.pdfHistory=t}},{key:"navigateTo",value:function navigateTo(t){console.error("Deprecated method: `navigateTo`, use `goToDestination` instead.");this.goToDestination(t)}},{key:"_goToDestinationHelper",value:function _goToDestinationHelper(t){var r,a=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2?arguments[2]:void 0,l=o[0];if(l instanceof Object){if(null===(r=this._cachedPageNumber(l))){this.pdfDocument.getPageIndex(l).then((function(r){a.cachePageRef(r+1,l);a._goToDestinationHelper(t,i,o)})).catch((function(){console.error('PDFLinkService._goToDestinationHelper: "'.concat(l,'" is not ')+'a valid page reference, for dest="'.concat(t,'".'))}));return}}else{if(!Number.isInteger(l)){console.error('PDFLinkService._goToDestinationHelper: "'.concat(l,'" is not ')+'a valid destination reference, for dest="'.concat(t,'".'));return}r=l+1}if(!r||r<1||r>this.pagesCount)console.error('PDFLinkService._goToDestinationHelper: "'.concat(r,'" is not ')+'a valid page number, for dest="'.concat(t,'".'));else{if(this.pdfHistory){this.pdfHistory.pushCurrentPosition();this.pdfHistory.push({namedDest:i,explicitDest:o,pageNumber:r})}this.pdfViewer.scrollPageIntoView({pageNumber:r,destArray:o,ignoreDestinationZoom:this._ignoreDestinationZoom})}}},{key:"goToDestination",value:(t=_asyncToGenerator(i.default.mark((function _callee(t){var r,a;return i.default.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if(this.pdfDocument){i.next=2;break}return i.abrupt("return");case 2:if("string"!=typeof t){i.next=9;break}r=t;i.next=6;return this.pdfDocument.getDestination(t);case 6:a=i.sent;i.next=13;break;case 9:r=null;i.next=12;return t;case 12:a=i.sent;case 13:if(Array.isArray(a)){i.next=16;break}console.error('PDFLinkService.goToDestination: "'.concat(a,'" is not ')+'a valid destination array, for dest="'.concat(t,'".'));return i.abrupt("return");case 16:this._goToDestinationHelper(t,r,a);case 17:case"end":return i.stop()}}),_callee,this)}))),function goToDestination(r){return t.apply(this,arguments)})},{key:"goToPage",value:function goToPage(t){if(this.pdfDocument){var r="string"==typeof t&&this.pdfViewer.pageLabelToPageNumber(t)||0|t;if(Number.isInteger(r)&&r>0&&r<=this.pagesCount){if(this.pdfHistory){this.pdfHistory.pushCurrentPosition();this.pdfHistory.pushPage(r)}this.pdfViewer.scrollPageIntoView({pageNumber:r})}else console.error('PDFLinkService.goToPage: "'.concat(t,'" is not a valid page.'))}}},{key:"getDestinationHash",value:function getDestinationHash(t){if("string"==typeof t){if(t.length>0)return this.getAnchorUrl("#"+escape(t))}else if(Array.isArray(t)){var r=JSON.stringify(t);if(r.length>0)return this.getAnchorUrl("#"+escape(r))}return this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function getAnchorUrl(t){return(this.baseUrl||"")+t}},{key:"setHash",value:function setHash(t){if(this.pdfDocument){var r,a;if(t.includes("=")){var i=(0,o.parseQueryString)(t);"search"in i&&this.eventBus.dispatch("findfromurlhash",{source:this,query:i.search.replace(/"/g,""),phraseSearch:"true"===i.phrase});"page"in i&&(r=0|i.page||1);if("zoom"in i){var l=i.zoom.split(","),u=l[0],c=parseFloat(u);u.includes("Fit")?"Fit"===u||"FitB"===u?a=[null,{name:u}]:"FitH"===u||"FitBH"===u||"FitV"===u||"FitBV"===u?a=[null,{name:u},l.length>1?0|l[1]:null]:"FitR"===u?5!==l.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):a=[null,{name:u},0|l[1],0|l[2],0|l[3],0|l[4]]:console.error('PDFLinkService.setHash: "'.concat(u,'" is not ')+"a valid zoom value."):a=[null,{name:"XYZ"},l.length>1?0|l[1]:null,l.length>2?0|l[2]:null,c?c/100:u]}a?this.pdfViewer.scrollPageIntoView({pageNumber:r||this.page,destArray:a,allowNegativeOffset:!0}):r&&(this.page=r);"pagemode"in i&&this.eventBus.dispatch("pagemode",{source:this,mode:i.pagemode});"nameddest"in i&&this.goToDestination(i.nameddest)}else{a=unescape(t);try{a=JSON.parse(a);Array.isArray(a)||(a=a.toString())}catch(t){}if("string"==typeof a||function isValidExplicitDestination(t){if(!Array.isArray(t))return!1;var r=t.length;if(r<2)return!1;var a=t[0];if(!("object"===_typeof(a)&&Number.isInteger(a.num)&&Number.isInteger(a.gen)||Number.isInteger(a)&&a>=0))return!1;var i=t[1];if("object"!==_typeof(i)||"string"!=typeof i.name)return!1;var o=!0;switch(i.name){case"XYZ":if(5!==r)return!1;break;case"Fit":case"FitB":return 2===r;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==r)return!1;break;case"FitR":if(6!==r)return!1;o=!1;break;default:return!1}for(var l=2;l<r;l++){var u=t[l];if(!("number"==typeof u||o&&null===u))return!1}return!0}(a)){this.goToDestination(a);return}console.error('PDFLinkService.setHash: "'.concat(unescape(t),'" is not ')+"a valid destination.")}}}},{key:"executeNamedAction",value:function executeNamedAction(t){switch(t){case"GoBack":this.pdfHistory&&this.pdfHistory.back();break;case"GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:t})}},{key:"cachePageRef",value:function cachePageRef(t,r){if(r){var a=0===r.gen?"".concat(r.num,"R"):"".concat(r.num,"R").concat(r.gen);this._pagesRefCache[a]=t}}},{key:"_cachedPageNumber",value:function _cachedPageNumber(t){var r=0===t.gen?"".concat(t.num,"R"):"".concat(t.num,"R").concat(t.gen);return this._pagesRefCache&&this._pagesRefCache[r]||null}},{key:"isPageVisible",value:function isPageVisible(t){return this.pdfViewer.isPageVisible(t)}},{key:"isPageCached",value:function isPageCached(t){return this.pdfViewer.isPageCached(t)}},{key:"pagesCount",get:function get(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function get(){return this.pdfViewer.currentPageNumber},set:function set(t){this.pdfViewer.currentPageNumber=t}},{key:"rotation",get:function get(){return this.pdfViewer.pagesRotation},set:function set(t){this.pdfViewer.pagesRotation=t}}]);var t;return PDFLinkService}();r.PDFLinkService=l;var u=function(){function SimpleLinkService(){_classCallCheck(this,SimpleLinkService);this.externalLinkTarget=null;this.externalLinkRel=null;this.externalLinkEnabled=!0;this._ignoreDestinationZoom=!1}_createClass(SimpleLinkService,[{key:"goToDestination",value:(t=_asyncToGenerator(i.default.mark((function _callee2(t){return i.default.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),_callee2)}))),function goToDestination(r){return t.apply(this,arguments)})},{key:"goToPage",value:function goToPage(t){}},{key:"getDestinationHash",value:function getDestinationHash(t){return"#"}},{key:"getAnchorUrl",value:function getAnchorUrl(t){return"#"}},{key:"setHash",value:function setHash(t){}},{key:"executeNamedAction",value:function executeNamedAction(t){}},{key:"cachePageRef",value:function cachePageRef(t,r){}},{key:"isPageVisible",value:function isPageVisible(t){return!0}},{key:"isPageCached",value:function isPageCached(t){return!0}},{key:"pagesCount",get:function get(){return 0}},{key:"page",get:function get(){return 0},set:function set(t){}},{key:"rotation",get:function get(){return 0},set:function set(t){}}]);var t;return SimpleLinkService}();r.SimpleLinkService=u},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFOutlineViewer=void 0;var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(a(4)),o=a(7),l=a(14),u=a(6);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var a=[],i=!0,o=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){a.push(u.value);if(r&&a.length===r)break}}catch(t){o=!0;l=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw l}}return a}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function asyncGeneratorStep(t,r,a,i,o,l,u){try{var c=t[l](u),d=c.value}catch(t){a(t);return}c.done?r(d):Promise.resolve(d).then(i,o)}function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,o){var l=t.apply(r,a);function _next(t){asyncGeneratorStep(l,i,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,i,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _createForOfIteratorHelper(t,r){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){a&&(t=a);var i=0,o=function F(){};return{s:o,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){a=t[Symbol.iterator]()},n:function n(){var t=a.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==a.return||a.return()}finally{if(c)throw l}}}}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);return"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}function _get(t,r,a){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(t,r,a){var i=function _superPropBase(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&null!==(t=_getPrototypeOf(t)););return t}(t,r);if(i){var o=Object.getOwnPropertyDescriptor(i,r);return o.get?o.get.call(a):o.value}})(t,r,a||t)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){t.__proto__=r;return t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){return!r||"object"!==_typeof(r)&&"function"!=typeof r?_assertThisInitialized(t):r}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});r&&_setPrototypeOf(t,r)}(PDFOutlineViewer,t);var r,a,l=_createSuper(PDFOutlineViewer);function PDFOutlineViewer(t){var r;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PDFOutlineViewer);(r=l.call(this,t)).linkService=t.linkService;r.eventBus._on("toggleoutlinetree",r._toggleAllTreeItems.bind(_assertThisInitialized(r)));r.eventBus._on("currentoutlineitem",r._currentOutlineItem.bind(_assertThisInitialized(r)));r.eventBus._on("pagechanging",(function(t){r._currentPageNumber=t.pageNumber}));r.eventBus._on("pagesloaded",(function(t){r._isPagesLoaded=!!t.pagesCount}));r.eventBus._on("sidebarviewchanged",(function(t){r._sidebarView=t.view}));return r}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(PDFOutlineViewer,[{key:"reset",value:function reset(){_get(_getPrototypeOf(PDFOutlineViewer.prototype),"reset",this).call(this);this._outline=null;this._pageNumberToDestHashCapability=null;this._currentPageNumber=1;this._isPagesLoaded=!1}},{key:"_dispatchEvent",value:function _dispatchEvent(t){var r;this.eventBus.dispatch("outlineloaded",{source:this,outlineCount:t,enableCurrentOutlineItemButton:t>0&&!(null!==(r=this._pdfDocument)&&void 0!==r&&r.loadingParams.disableAutoFetch)})}},{key:"_bindLink",value:function _bindLink(t,r){var a=this,i=r.url,l=r.newWindow,u=r.dest,c=this.linkService;if(i)(0,o.addLinkAttributes)(t,{url:i,target:l?o.LinkTarget.BLANK:c.externalLinkTarget,rel:c.externalLinkRel,enabled:c.externalLinkEnabled});else{t.href=c.getDestinationHash(u);t.onclick=function(t){a._updateCurrentTreeItem(t.target.parentNode);u&&c.goToDestination(u);return!1}}}},{key:"_setStyles",value:function _setStyles(t,r){var a=r.bold,i=r.italic;a&&(t.style.fontWeight="bold");i&&(t.style.fontStyle="italic")}},{key:"_addToggleButton",value:function _addToggleButton(t,r){var a=r.count,i=r.items,o=!1;if(a<0){var l=i.length;if(l>0)for(var u=_toConsumableArray(i);u.length>0;){var c=u.shift(),d=c.count,h=c.items;if(d>0&&h.length>0){l+=h.length;u.push.apply(u,_toConsumableArray(h))}}Math.abs(a)===l&&(o=!0)}_get(_getPrototypeOf(PDFOutlineViewer.prototype),"_addToggleButton",this).call(this,t,o)}},{key:"_toggleAllTreeItems",value:function _toggleAllTreeItems(){this._outline&&_get(_getPrototypeOf(PDFOutlineViewer.prototype),"_toggleAllTreeItems",this).call(this)}},{key:"render",value:function render(t){var r=t.outline,a=t.pdfDocument;this._outline&&this.reset();this._outline=r||null;this._pdfDocument=a||null;if(r){for(var i=document.createDocumentFragment(),o=[{parent:i,items:r}],l=0,u=!1;o.length>0;){var c,d=o.shift(),h=_createForOfIteratorHelper(d.items);try{for(h.s();!(c=h.n()).done;){var p=c.value,m=document.createElement("div");m.className="treeItem";var g=document.createElement("a");this._bindLink(g,p);this._setStyles(g,p);g.textContent=this._normalizeTextContent(p.title);m.appendChild(g);if(p.items.length>0){u=!0;this._addToggleButton(m,p);var v=document.createElement("div");v.className="treeItems";m.appendChild(v);o.push({parent:v,items:p.items})}d.parent.appendChild(m);l++}}catch(t){h.e(t)}finally{h.f()}}this._finishRendering(i,l,u)}else this._dispatchEvent(0)}},{key:"_currentOutlineItem",value:(a=_asyncToGenerator(i.default.mark((function _callee(){var t,r,a,o;return i.default.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if(this._isPagesLoaded){i.next=2;break}throw new Error("_currentOutlineItem: All pages have not been loaded.");case 2:if(this._outline&&this._pdfDocument){i.next=4;break}return i.abrupt("return");case 4:i.next=6;return this._getPageNumberToDestHash(this._pdfDocument);case 6:if(t=i.sent){i.next=9;break}return i.abrupt("return");case 9:this._updateCurrentTreeItem(null);if(this._sidebarView===u.SidebarView.OUTLINE){i.next=12;break}return i.abrupt("return");case 12:r=this._currentPageNumber;case 13:if(!(r>0)){i.next=25;break}if(a=t.get(r)){i.next=17;break}return i.abrupt("continue",22);case 17:if(o=this.container.querySelector('a[href="'.concat(a,'"]'))){i.next=20;break}return i.abrupt("continue",22);case 20:this._scrollToCurrentTreeItem(o.parentNode);return i.abrupt("break",25);case 22:r--;i.next=13;break;case 25:case"end":return i.stop()}}),_callee,this)}))),function _currentOutlineItem(){return a.apply(this,arguments)})},{key:"_getPageNumberToDestHash",value:(r=_asyncToGenerator(i.default.mark((function _callee2(t){var r,a,l,u,c,d,h,p,m,g,v,y,b,S,w;return i.default.wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:if(!this._pageNumberToDestHashCapability){i.next=2;break}return i.abrupt("return",this._pageNumberToDestHashCapability.promise);case 2:this._pageNumberToDestHashCapability=(0,o.createPromiseCapability)();r=new Map,a=new Map;l=[{nesting:0,items:this._outline}];case 5:if(!(l.length>0)){i.next=56;break}u=l.shift(),c=u.nesting;d=_createForOfIteratorHelper(u.items);i.prev=8;d.s();case 10:if((h=d.n()).done){i.next=46;break}p=h.value,m=p.dest,g=p.items;v=void 0,y=void 0;if("string"!=typeof m){i.next=21;break}i.next=16;return t.getDestination(m);case 16:v=i.sent;if(t===this._pdfDocument){i.next=19;break}return i.abrupt("return",null);case 19:i.next=22;break;case 21:v=m;case 22:if(!Array.isArray(v)){i.next=43;break}b=_slicedToArray(v,1);if("object"!==_typeof(S=b[0])){i.next=41;break}if(y=this.linkService._cachedPageNumber(S)){i.next=39;break}i.prev=27;i.next=30;return t.getPageIndex(S);case 30:i.t0=i.sent;y=i.t0+1;if(t===this._pdfDocument){i.next=34;break}return i.abrupt("return",null);case 34:this.linkService.cachePageRef(y,S);i.next=39;break;case 37:i.prev=37;i.t1=i.catch(27);case 39:i.next=42;break;case 41:Number.isInteger(S)&&(y=S+1);case 42:if(Number.isInteger(y)&&(!r.has(y)||c>a.get(y))){w=this.linkService.getDestinationHash(m);r.set(y,w);a.set(y,c)}case 43:g.length>0&&l.push({nesting:c+1,items:g});case 44:i.next=10;break;case 46:i.next=51;break;case 48:i.prev=48;i.t2=i.catch(8);d.e(i.t2);case 51:i.prev=51;d.f();return i.finish(51);case 54:i.next=5;break;case 56:this._pageNumberToDestHashCapability.resolve(r.size>0?r:null);return i.abrupt("return",this._pageNumberToDestHashCapability.promise);case 58:case"end":return i.stop()}}),_callee2,this,[[8,48,51,54],[27,37]])}))),function _getPageNumberToDestHash(t){return r.apply(this,arguments)})}]);return PDFOutlineViewer}(l.BaseTreeViewer);r.PDFOutlineViewer=c},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFPresentationMode=void 0;var i=a(6);function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}var o="pdfPresentationMode",l="pdfPresentationModeControls",u=Math.PI/6,c=function(){function PDFPresentationMode(t){var r=this,a=t.container,i=t.pdfViewer,o=t.eventBus,l=t.contextMenuItems,u=void 0===l?null:l;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PDFPresentationMode);this.container=a;this.pdfViewer=i;this.eventBus=o;this.active=!1;this.args=null;this.contextMenuOpen=!1;this.mouseScrollTimeStamp=0;this.mouseScrollDelta=0;this.touchSwipeState=null;if(u){u.contextFirstPage.addEventListener("click",(function(){r.contextMenuOpen=!1;r.eventBus.dispatch("firstpage",{source:r})}));u.contextLastPage.addEventListener("click",(function(){r.contextMenuOpen=!1;r.eventBus.dispatch("lastpage",{source:r})}));u.contextPageRotateCw.addEventListener("click",(function(){r.contextMenuOpen=!1;r.eventBus.dispatch("rotatecw",{source:r})}));u.contextPageRotateCcw.addEventListener("click",(function(){r.contextMenuOpen=!1;r.eventBus.dispatch("rotateccw",{source:r})}))}}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(PDFPresentationMode,[{key:"request",value:function request(){if(this.switchInProgress||this.active||!this.pdfViewer.pagesCount)return!1;this._addFullscreenChangeListeners();this._setSwitchInProgress();this._notifyStateChange();if(this.container.requestFullscreen)this.container.requestFullscreen();else if(this.container.mozRequestFullScreen)this.container.mozRequestFullScreen();else{if(!this.container.webkitRequestFullscreen)return!1;document.body.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);this._prepareFullscreenMode()}this.args={page:this.pdfViewer.currentPageNumber,previousScale:this.pdfViewer.currentScaleValue};return!0}},{key:"_mouseWheel",value:function _mouseWheel(t){if(this.active){t.preventDefault();var r=(0,i.normalizeWheelEventDelta)(t),a=(new Date).getTime(),o=this.mouseScrollTimeStamp;if(!(a>o&&a-o<50)){(this.mouseScrollDelta>0&&r<0||this.mouseScrollDelta<0&&r>0)&&this._resetMouseScrollState();this.mouseScrollDelta+=r;if(Math.abs(this.mouseScrollDelta)>=.1){var l=this.mouseScrollDelta;this._resetMouseScrollState();(l>0?this.pdfViewer.previousPage():this.pdfViewer.nextPage())&&(this.mouseScrollTimeStamp=a)}}}}},{key:"_notifyStateChange",value:function _notifyStateChange(){var t=i.PresentationModeState.NORMAL;this.switchInProgress?t=i.PresentationModeState.CHANGING:this.active&&(t=i.PresentationModeState.FULLSCREEN);this.eventBus.dispatch("presentationmodechanged",{source:this,state:t,get active(){throw new Error("Deprecated parameter: `active`, please use `state` instead.")},get switchInProgress(){throw new Error("Deprecated parameter: `switchInProgress`, please use `state` instead.")}})}},{key:"_setSwitchInProgress",value:function _setSwitchInProgress(){var t=this;this.switchInProgress&&clearTimeout(this.switchInProgress);this.switchInProgress=setTimeout((function(){t._removeFullscreenChangeListeners();delete t.switchInProgress;t._notifyStateChange()}),1500)}},{key:"_resetSwitchInProgress",value:function _resetSwitchInProgress(){if(this.switchInProgress){clearTimeout(this.switchInProgress);delete this.switchInProgress}}},{key:"_enter",value:function _enter(){var t=this;this.active=!0;this._resetSwitchInProgress();this._notifyStateChange();this.container.classList.add(o);setTimeout((function(){t.pdfViewer.currentPageNumber=t.args.page;t.pdfViewer.currentScaleValue="page-fit"}),0);this._addWindowListeners();this._showControls();this.contextMenuOpen=!1;this.container.setAttribute("contextmenu","viewerContextMenu");window.getSelection().removeAllRanges()}},{key:"_exit",value:function _exit(){var t=this;this._tidyUpFullscreenMode();var r=this.pdfViewer.currentPageNumber;this.container.classList.remove(o);setTimeout((function(){t.active=!1;t._removeFullscreenChangeListeners();t._notifyStateChange();t.pdfViewer.currentScaleValue=t.args.previousScale;t.pdfViewer.currentPageNumber=r;t.args=null}),0);this._removeWindowListeners();this._hideControls();this._resetMouseScrollState();this.container.removeAttribute("contextmenu");this.contextMenuOpen=!1}},{key:"_prepareFullscreenMode",value:function _prepareFullscreenMode(){var t=document.getElementsByClassName("zoom")[0].parentElement,r=t.parentElement;this.ngxContainer=r;for(var a=0;a<r.childElementCount;a++)r.children.item(a)===t&&(this.ngxContainerIndex=a);r.removeChild(t);document.body.append(t);for(var i=document.body.children,o=0;o<i.length;o++){var l=i.item(o);l!==t&&l instanceof HTMLElement&&l.classList.add("hidden-by-fullscreen")}document.getElementById("sidebarContainer").classList.add("hidden-by-fullscreen");document.getElementsByClassName("toolbar")[0].classList.add("hidden-by-fullscreen")}},{key:"_tidyUpFullscreenMode",value:function _tidyUpFullscreenMode(){if(this.ngxContainer){var t=document.getElementsByClassName("zoom")[0].parentElement;document.body.removeChild(t);this.ngxContainerIndex>=this.ngxContainer.childElementCount?this.ngxContainer.append(t):this.ngxContainer.insertBefore(t,this.ngxContainer.children.item(this.ngxContainerIndex));this.ngxContainer=void 0;for(var r=document.body.children,a=0;a<r.length;a++){var i=r.item(a);i!==t&&i instanceof HTMLElement&&i.classList.contains("hidden-by-fullscreen")&&i.classList.remove("hidden-by-fullscreen")}document.getElementById("sidebarContainer").classList.remove("hidden-by-fullscreen");document.getElementsByClassName("toolbar")[0].classList.remove("hidden-by-fullscreen")}}},{key:"_mouseDown",value:function _mouseDown(t){if(this.contextMenuOpen){this.contextMenuOpen=!1;t.preventDefault()}else if(0===t.button){if(!(t.target.href&&t.target.classList.contains("internalLink"))){t.preventDefault();t.shiftKey?this.pdfViewer.previousPage():this.pdfViewer.nextPage()}}}},{key:"_contextMenu",value:function _contextMenu(){this.contextMenuOpen=!0}},{key:"_showControls",value:function _showControls(){var t=this;this.controlsTimeout?clearTimeout(this.controlsTimeout):this.container.classList.add(l);this.controlsTimeout=setTimeout((function(){t.container.classList.remove(l);delete t.controlsTimeout}),3e3)}},{key:"_hideControls",value:function _hideControls(){if(this.controlsTimeout){clearTimeout(this.controlsTimeout);this.container.classList.remove(l);delete this.controlsTimeout}}},{key:"_resetMouseScrollState",value:function _resetMouseScrollState(){this.mouseScrollTimeStamp=0;this.mouseScrollDelta=0}},{key:"_touchSwipe",value:function _touchSwipe(t){if(this.active)if(t.touches.length>1)this.touchSwipeState=null;else switch(t.type){case"touchstart":this.touchSwipeState={startX:t.touches[0].pageX,startY:t.touches[0].pageY,endX:t.touches[0].pageX,endY:t.touches[0].pageY};break;case"touchmove":if(null===this.touchSwipeState)return;this.touchSwipeState.endX=t.touches[0].pageX;this.touchSwipeState.endY=t.touches[0].pageY;t.preventDefault();break;case"touchend":if(null===this.touchSwipeState)return;var r=0,a=this.touchSwipeState.endX-this.touchSwipeState.startX,i=this.touchSwipeState.endY-this.touchSwipeState.startY,o=Math.abs(Math.atan2(i,a));Math.abs(a)>50&&(o<=u||o>=Math.PI-u)?r=a:Math.abs(i)>50&&Math.abs(o-Math.PI/2)<=u&&(r=i);r>0?this.pdfViewer.previousPage():r<0&&this.pdfViewer.nextPage()}}},{key:"_addWindowListeners",value:function _addWindowListeners(){this.showControlsBind=this._showControls.bind(this);this.mouseDownBind=this._mouseDown.bind(this);this.mouseWheelBind=this._mouseWheel.bind(this);this.resetMouseScrollStateBind=this._resetMouseScrollState.bind(this);this.contextMenuBind=this._contextMenu.bind(this);this.touchSwipeBind=this._touchSwipe.bind(this);window.addEventListener("mousemove",this.showControlsBind);window.addEventListener("mousedown",this.mouseDownBind);window.addEventListener("wheel",this.mouseWheelBind,{passive:!1});window.addEventListener("keydown",this.resetMouseScrollStateBind);window.addEventListener("contextmenu",this.contextMenuBind);window.addEventListener("touchstart",this.touchSwipeBind);window.addEventListener("touchmove",this.touchSwipeBind);window.addEventListener("touchend",this.touchSwipeBind)}},{key:"_removeWindowListeners",value:function _removeWindowListeners(){window.removeEventListener("mousemove",this.showControlsBind);window.removeEventListener("mousedown",this.mouseDownBind);window.removeEventListener("wheel",this.mouseWheelBind,{passive:!1});window.removeEventListener("keydown",this.resetMouseScrollStateBind);window.removeEventListener("contextmenu",this.contextMenuBind);window.removeEventListener("touchstart",this.touchSwipeBind);window.removeEventListener("touchmove",this.touchSwipeBind);window.removeEventListener("touchend",this.touchSwipeBind);delete this.showControlsBind;delete this.mouseDownBind;delete this.mouseWheelBind;delete this.resetMouseScrollStateBind;delete this.contextMenuBind;delete this.touchSwipeBind}},{key:"_fullscreenChange",value:function _fullscreenChange(){this.isFullscreen?this._enter():this._exit()}},{key:"_addFullscreenChangeListeners",value:function _addFullscreenChangeListeners(){this.fullscreenChangeBind=this._fullscreenChange.bind(this);window.addEventListener("fullscreenchange",this.fullscreenChangeBind);window.addEventListener("mozfullscreenchange",this.fullscreenChangeBind);window.addEventListener("webkitfullscreenchange",this.fullscreenChangeBind)}},{key:"_removeFullscreenChangeListeners",value:function _removeFullscreenChangeListeners(){window.removeEventListener("fullscreenchange",this.fullscreenChangeBind);window.removeEventListener("mozfullscreenchange",this.fullscreenChangeBind);window.removeEventListener("webkitfullscreenchange",this.fullscreenChangeBind);delete this.fullscreenChangeBind}},{key:"isFullscreen",get:function get(){return!!(document.fullscreenElement||document.mozFullScreen||document.webkitIsFullScreen)}}]);return PDFPresentationMode}();r.PDFPresentationMode=c},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFSidebar=void 0;var i=a(6),o=a(10);function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}var l="pdfSidebarNotification",u=function(){function PDFSidebar(t){var r=t.elements,a=t.pdfViewer,o=t.pdfThumbnailViewer,l=t.eventBus,u=t.l10n,c=void 0===u?i.NullL10n:u;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PDFSidebar);this.isOpen=!1;this.active=i.SidebarView.THUMBS;this.isInitialViewSet=!1;this.onToggled=null;this.pdfViewer=a;this.pdfThumbnailViewer=o;this.outerContainer=r.outerContainer;this.viewerContainer=r.viewerContainer;this.toggleButton=r.toggleButton;this.thumbnailButton=r.thumbnailButton;this.outlineButton=r.outlineButton;this.attachmentsButton=r.attachmentsButton;this.layersButton=r.layersButton;this.thumbnailView=r.thumbnailView;this.outlineView=r.outlineView;this.attachmentsView=r.attachmentsView;this.layersView=r.layersView;this._outlineOptionsContainer=r.outlineOptionsContainer;this._currentOutlineItemButton=r.currentOutlineItemButton;this.eventBus=l;this.l10n=c;this._addEventListeners()}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(PDFSidebar,[{key:"reset",value:function reset(){this.isInitialViewSet=!1;this._hideUINotification(!0);this.switchView(i.SidebarView.THUMBS);this.outlineButton.disabled=!1;this.attachmentsButton.disabled=!1;this.layersButton.disabled=!1;this.outlineButton.hidden=!1;this.attachmentsButton.hidden=!1;this.layersButton.hidden=!1;this._currentOutlineItemButton.disabled=!0}},{key:"setInitialView",value:function setInitialView(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.SidebarView.NONE;if(!this.isInitialViewSet){this.isInitialViewSet=!0;t!==i.SidebarView.NONE&&t!==i.SidebarView.UNKNOWN&&this._switchView(t,!0)||this._dispatchEvent()}}},{key:"switchView",value:function switchView(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._switchView(t,r)}},{key:"_switchView",value:function _switchView(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t!==this.active,o=!1;switch(t){case i.SidebarView.NONE:if(this.isOpen){this.close();return!0}return!1;case i.SidebarView.THUMBS:this.isOpen&&a&&(o=!0);break;case i.SidebarView.OUTLINE:if(this.outlineButton.disabled)return!1;break;case i.SidebarView.ATTACHMENTS:if(this.attachmentsButton.disabled)return!1;break;case i.SidebarView.LAYERS:if(this.layersButton.disabled)return!1;break;default:console.error('PDFSidebar._switchView: "'.concat(t,'" is not a valid view.'));return!1}this.active=t;this.thumbnailButton.classList.toggle("toggled",t===i.SidebarView.THUMBS);this.outlineButton.classList.toggle("toggled",t===i.SidebarView.OUTLINE);this.attachmentsButton.classList.toggle("toggled",t===i.SidebarView.ATTACHMENTS);this.layersButton.classList.toggle("toggled",t===i.SidebarView.LAYERS);this.thumbnailView.classList.toggle("hidden",t!==i.SidebarView.THUMBS);this.outlineView.classList.toggle("hidden",t!==i.SidebarView.OUTLINE);this.attachmentsView.classList.toggle("hidden",t!==i.SidebarView.ATTACHMENTS);this.layersView.classList.toggle("hidden",t!==i.SidebarView.LAYERS);this._outlineOptionsContainer.classList.toggle("hidden",t!==i.SidebarView.OUTLINE);if(r&&!this.isOpen){this.open();return!0}if(o){this._updateThumbnailViewer();this._forceRendering()}a&&this._dispatchEvent();return a}},{key:"open",value:function open(){if(!this.isOpen){this.isOpen=!0;this.toggleButton.classList.add("toggled");this.outerContainer.classList.add("sidebarMoving","sidebarOpen");this.active===i.SidebarView.THUMBS&&this._updateThumbnailViewer();this._forceRendering();this._dispatchEvent();this._hideUINotification()}}},{key:"close",value:function close(){if(this.isOpen){this.isOpen=!1;this.toggleButton.classList.remove("toggled");this.outerContainer.classList.add("sidebarMoving");this.outerContainer.classList.remove("sidebarOpen");this._forceRendering();this._dispatchEvent()}}},{key:"toggle",value:function toggle(){this.isOpen?this.close():this.open()}},{key:"_dispatchEvent",value:function _dispatchEvent(){this.eventBus.dispatch("sidebarviewchanged",{source:this,view:this.visibleView})}},{key:"_forceRendering",value:function _forceRendering(){if(this.onToggled)this.onToggled();else{this.pdfViewer.forceRendering();this.pdfThumbnailViewer.forceRendering()}}},{key:"_updateThumbnailViewer",value:function _updateThumbnailViewer(){for(var t=this.pdfViewer,r=this.pdfThumbnailViewer,a=t.pagesCount,i=0;i<a;i++){var l=t.getPageView(i);if(l&&l.renderingState===o.RenderingStates.FINISHED){r.getThumbnail(i).setImage(l)}}r.scrollThumbnailIntoView(t.currentPageNumber)}},{key:"_showUINotification",value:function _showUINotification(){var t=this;this.l10n.get("toggle_sidebar_notification2.title",null,"Toggle Sidebar (document contains outline/attachments/layers)").then((function(r){t.toggleButton.title=r}));this.isOpen||this.toggleButton.classList.add(l)}},{key:"_hideUINotification",value:function _hideUINotification(){var t=this,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(this.isOpen||r)&&this.toggleButton.classList.remove(l);r&&this.l10n.get("toggle_sidebar.title",null,"Toggle Sidebar").then((function(r){t.toggleButton.title=r}))}},{key:"_addEventListeners",value:function _addEventListeners(){var t=this;this.viewerContainer.addEventListener("transitionend",(function(r){r.target===t.viewerContainer&&t.outerContainer.classList.remove("sidebarMoving")}));this.toggleButton.addEventListener("click",(function(){t.toggle()}));this.thumbnailButton.addEventListener("click",(function(){t.switchView(i.SidebarView.THUMBS)}));this.outlineButton.addEventListener("click",(function(){t.switchView(i.SidebarView.OUTLINE)}));this.outlineButton.addEventListener("dblclick",(function(){t.eventBus.dispatch("toggleoutlinetree",{source:t})}));this.attachmentsButton.addEventListener("click",(function(){t.switchView(i.SidebarView.ATTACHMENTS)}));this.layersButton.addEventListener("click",(function(){t.switchView(i.SidebarView.LAYERS)}));this.layersButton.addEventListener("dblclick",(function(){t.eventBus.dispatch("resetlayers",{source:t})}));this._currentOutlineItemButton.addEventListener("click",(function(){t.eventBus.dispatch("currentoutlineitem",{source:t})}));var r=function onTreeLoaded(r,a,o){a.disabled=!r;a.hidden=!r;r?t._showUINotification():t.active===o&&t.switchView(i.SidebarView.THUMBS)};this.eventBus._on("outlineloaded",(function(a){r(a.outlineCount,t.outlineButton,i.SidebarView.OUTLINE);a.enableCurrentOutlineItemButton&&t.pdfViewer.pagesPromise.then((function(){t._currentOutlineItemButton.disabled=!t.isInitialViewSet}))}));this.eventBus._on("attachmentsloaded",(function(a){r(a.attachmentsCount,t.attachmentsButton,i.SidebarView.ATTACHMENTS)}));this.eventBus._on("layersloaded",(function(a){r(a.layersCount,t.layersButton,i.SidebarView.LAYERS)}));this.eventBus._on("presentationmodechanged",(function(r){r.state===i.PresentationModeState.NORMAL&&t.isThumbnailViewVisible&&t._updateThumbnailViewer()}))}},{key:"visibleView",get:function get(){return this.isOpen?this.active:i.SidebarView.NONE}},{key:"isThumbnailViewVisible",get:function get(){return this.isOpen&&this.active===i.SidebarView.THUMBS}},{key:"isOutlineViewVisible",get:function get(){return this.isOpen&&this.active===i.SidebarView.OUTLINE}},{key:"isAttachmentsViewVisible",get:function get(){return this.isOpen&&this.active===i.SidebarView.ATTACHMENTS}},{key:"isLayersViewVisible",get:function get(){return this.isOpen&&this.active===i.SidebarView.LAYERS}}]);return PDFSidebar}();r.PDFSidebar=u},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFSidebarResizer=void 0;var i=a(6);function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}var o="--sidebar-width",l=200,u="sidebarResizing",c=function(){function PDFSidebarResizer(t,r){var a=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.NullL10n;_classCallCheck(this,PDFSidebarResizer);this.isRTL=!1;this.sidebarOpen=!1;this.doc=document.documentElement;this._width=null;this._outerContainerWidth=null;this._boundEvents=Object.create(null);this.outerContainer=t.outerContainer;this.resizer=t.resizer;this.eventBus=r;o.getDirection().then((function(t){a.isRTL="rtl"===t}));this._addEventListeners()}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(PDFSidebarResizer,[{key:"_updateWidth",value:function _updateWidth(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=Math.floor(this.outerContainerWidth/2);t>r&&(t=r);t<l&&(t=l);if(t===this._width)return!1;this._width=t;this.doc.style.setProperty(o,"".concat(t,"px"));return!0}},{key:"_mouseMove",value:function _mouseMove(t){var r=t.clientX;this.isRTL&&(r=this.outerContainerWidth-r);this._updateWidth(r)}},{key:"_mouseUp",value:function _mouseUp(t){this.outerContainer.classList.remove(u);this.eventBus.dispatch("resize",{source:this});var r=this._boundEvents;window.removeEventListener("mousemove",r.mouseMove);window.removeEventListener("mouseup",r.mouseUp)}},{key:"_addEventListeners",value:function _addEventListeners(){var t=this,r=this._boundEvents;r.mouseMove=this._mouseMove.bind(this);r.mouseUp=this._mouseUp.bind(this);this.resizer.addEventListener("mousedown",(function(a){if(0===a.button){t.outerContainer.classList.add(u);window.addEventListener("mousemove",r.mouseMove);window.addEventListener("mouseup",r.mouseUp)}}));this.eventBus._on("sidebarviewchanged",(function(r){t.sidebarOpen=!(!r||!r.view)}));this.eventBus._on("resize",(function(r){if(r&&r.source===window){t._outerContainerWidth=null;if(t._width)if(t.sidebarOpen){t.outerContainer.classList.add(u);var a=t._updateWidth(t._width);Promise.resolve().then((function(){t.outerContainer.classList.remove(u);a&&t.eventBus.dispatch("resize",{source:t})}))}else t._updateWidth(t._width)}}))}},{key:"outerContainerWidth",get:function get(){this._outerContainerWidth||(this._outerContainerWidth=this.outerContainer.clientWidth);return this._outerContainerWidth}}]);return PDFSidebarResizer}();r.PDFSidebarResizer=c},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFThumbnailViewer=void 0;var i=a(6),o=a(29),l=a(10);function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}var u="selected",c=function(){function PDFThumbnailViewer(t){var r=this,a=t.container,o=t.eventBus,l=t.linkService,u=t.renderingQueue,c=t.l10n,d=void 0===c?i.NullL10n:c;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PDFThumbnailViewer);this.container=a;this.linkService=l;this.renderingQueue=u;this.l10n=d;this.scroll=(0,i.watchScroll)(this.container,this._scrollUpdated.bind(this));this._resetView();o._on("optionalcontentconfigchanged",(function(){r._setImageDisabled=!0}))}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(PDFThumbnailViewer,[{key:"_scrollUpdated",value:function _scrollUpdated(){this.renderingQueue.renderHighestPriority()}},{key:"getThumbnail",value:function getThumbnail(t){return this._thumbnails[t]}},{key:"_getVisibleThumbs",value:function _getVisibleThumbs(){return(0,i.getVisibleElements)({scrollEl:this.container,views:this._thumbnails})}},{key:"scrollThumbnailIntoView",value:function scrollThumbnailIntoView(t){if(this.pdfDocument){var r=this._thumbnails[t-1];if(r){if(t!==this._currentPageNumber){this._thumbnails[this._currentPageNumber-1].div.classList.remove(u);r.div.classList.add(u)}var a=this._getVisibleThumbs(),o=a.views.length;if(o>0){var l=a.first.id,c=o>1?a.last.id:l,d=!1;t<=l||t>=c?d=!0:a.views.some((function(r){if(r.id!==t)return!1;d=r.percent<100;return!0}));d&&(0,i.scrollIntoView)(r.div,{top:-19})}this._currentPageNumber=t}else console.error('scrollThumbnailIntoView: Invalid "pageNumber" parameter.')}}},{key:"cleanup",value:function cleanup(){for(var t=0,r=this._thumbnails.length;t<r;t++)this._thumbnails[t]&&this._thumbnails[t].renderingState!==l.RenderingStates.FINISHED&&this._thumbnails[t].reset();o.TempImageFactory.destroyCanvas()}},{key:"_resetView",value:function _resetView(){this._thumbnails=[];this._currentPageNumber=1;this._pageLabels=null;this._pagesRotation=0;this._optionalContentConfigPromise=null;this._pagesRequests=new WeakMap;this._setImageDisabled=!1;this.container.textContent=""}},{key:"setDocument",value:function setDocument(t){var r=this;if(this.pdfDocument){this._cancelRendering();this._resetView()}this.pdfDocument=t;if(t){var a=t.getPage(1),i=t.getOptionalContentConfig();a.then((function(a){r._optionalContentConfigPromise=i;for(var l=t.numPages,c=a.getViewport({scale:1}),d=function checkSetImageDisabled(){return r._setImageDisabled},h=1;h<=l;++h){var p=new o.PDFThumbnailView({container:r.container,id:h,defaultViewport:c.clone(),optionalContentConfigPromise:i,linkService:r.linkService,renderingQueue:r.renderingQueue,checkSetImageDisabled:d,disableCanvasToImageConversion:!1,l10n:r.l10n});r._thumbnails.push(p)}var m=r._thumbnails[0];m&&m.setPdfPage(a);r._thumbnails[r._currentPageNumber-1].div.classList.add(u)})).catch((function(t){console.error("Unable to initialize thumbnail viewer",t)}))}}},{key:"_cancelRendering",value:function _cancelRendering(){for(var t=0,r=this._thumbnails.length;t<r;t++)this._thumbnails[t]&&this._thumbnails[t].cancelRendering()}},{key:"setPageLabels",value:function setPageLabels(t){if(this.pdfDocument){if(t)if(Array.isArray(t)&&this.pdfDocument.numPages===t.length)this._pageLabels=t;else{this._pageLabels=null;console.error("PDFThumbnailViewer_setPageLabels: Invalid page labels.")}else this._pageLabels=null;for(var r=0,a=this._thumbnails.length;r<a;r++){var i=this._pageLabels&&this._pageLabels[r];this._thumbnails[r].setPageLabel(i)}}}},{key:"_ensurePdfPageLoaded",value:function _ensurePdfPageLoaded(t){var r=this;if(t.pdfPage)return Promise.resolve(t.pdfPage);if(this._pagesRequests.has(t))return this._pagesRequests.get(t);var a=this.pdfDocument.getPage(t.id).then((function(a){t.pdfPage||t.setPdfPage(a);r._pagesRequests.delete(t);return a})).catch((function(a){console.error("Unable to get page for thumb view",a);r._pagesRequests.delete(t)}));this._pagesRequests.set(t,a);return a}},{key:"forceRendering",value:function forceRendering(){var t=this,r=this._getVisibleThumbs(),a=this.renderingQueue.getHighestPriority(r,this._thumbnails,this.scroll.down);if(a){this._ensurePdfPageLoaded(a).then((function(){t.renderingQueue.renderView(a)}));return!0}return!1}},{key:"pagesRotation",get:function get(){return this._pagesRotation},set:function set(t){if(!(0,i.isValidRotation)(t))throw new Error("Invalid thumbnails rotation angle.");if(this.pdfDocument&&this._pagesRotation!==t){this._pagesRotation=t;for(var r=0,a=this._thumbnails.length;r<a;r++)this._thumbnails[r].update(t)}}}]);return PDFThumbnailViewer}();r.PDFThumbnailViewer=c},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.TempImageFactory=r.PDFThumbnailView=void 0;var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(a(4)),o=a(6),l=a(7),u=a(10);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var a=[],i=!0,o=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){a.push(u.value);if(r&&a.length===r)break}}catch(t){o=!0;l=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw l}}return a}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function asyncGeneratorStep(t,r,a,i,o,l,u){try{var c=t[l](u),d=c.value}catch(t){a(t);return}c.done?r(d):Promise.resolve(d).then(i,o)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}var c=function TempImageFactoryClosure(){var t=null;return{getCanvas:function getCanvas(r,a){var i=t;if(!i){i=document.createElement("canvas");t=i}i.width=r;i.height=a;i.mozOpaque=!0;var o=i.getContext("2d",{alpha:!1});o.save();o.fillStyle="rgb(255, 255, 255)";o.fillRect(0,0,r,a);o.restore();return i},destroyCanvas:function destroyCanvas(){var r=t;if(r){r.width=0;r.height=0}t=null}}}();r.TempImageFactory=c;var d=function(){function PDFThumbnailView(t){var r=t.container,a=t.id,i=t.defaultViewport,l=t.optionalContentConfigPromise,c=t.linkService,d=t.renderingQueue,h=t.checkSetImageDisabled,p=t.disableCanvasToImageConversion,m=void 0!==p&&p,g=t.l10n,v=void 0===g?o.NullL10n:g;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PDFThumbnailView);this.id=a;this.renderingId="thumbnail"+a;this.pageLabel=null;this.pdfPage=null;this.rotation=0;this.viewport=i;this.pdfPageRotate=i.rotation;this._optionalContentConfigPromise=l||null;this.linkService=c;this.renderingQueue=d;this.renderTask=null;this.renderingState=u.RenderingStates.INITIAL;this.resume=null;this._checkSetImageDisabled=h||function(){return!1};this.disableCanvasToImageConversion=m;this.pageWidth=this.viewport.width;this.pageHeight=this.viewport.height;this.pageRatio=this.pageWidth/this.pageHeight;this.canvasWidth=98;this.canvasHeight=this.canvasWidth/this.pageRatio|0;this.scale=this.canvasWidth/this.pageWidth;this.l10n=v;window.pdfThumbnailGenerator?window.pdfThumbnailGenerator(this,c,a,r,this._thumbPageTitle):this.createThumbnail(this,c,a,r,this._thumbPageTitle)}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(PDFThumbnailView,[{key:"createThumbnail",value:function createThumbnail(t,r,a,i,o){var l=document.createElement("a");l.href=r.getAnchorUrl("#page="+a);o.then((function(t){l.title=t}));l.onclick=function(){r.goToPage(a);return!1};t.anchor=l;var u=document.createElement("div");u.className="thumbnail";u.setAttribute("data-page-number",this.id);t.div=u;var c=document.createElement("div");c.className="thumbnailSelectionRing";c.style.width=this.canvasWidth+2+"px";c.style.height=this.canvasHeight+2+"px";t.ring=c;u.appendChild(c);l.appendChild(u);i.appendChild(l)}},{key:"setPdfPage",value:function setPdfPage(t){this.pdfPage=t;this.pdfPageRotate=t.rotate;var r=(this.rotation+this.pdfPageRotate)%360;this.viewport=t.getViewport({scale:1,rotation:r});this.reset()}},{key:"reset",value:function reset(){this.cancelRendering();this.renderingState=u.RenderingStates.INITIAL;this.pageWidth=this.viewport.width;this.pageHeight=this.viewport.height;this.pageRatio=this.pageWidth/this.pageHeight;this.canvasHeight=this.canvasWidth/this.pageRatio|0;this.scale=this.canvasWidth/this.pageWidth;this.div.removeAttribute("data-loaded");for(var t=this.ring,r=t.childNodes,a=r.length-1;a>=0;a--)t.removeChild(r[a]);t.style.width=this.canvasWidth+2+"px";t.style.height=this.canvasHeight+2+"px";if(this.canvas){this.canvas.width=0;this.canvas.height=0;delete this.canvas}if(this.image){this.image.removeAttribute("src");delete this.image}}},{key:"update",value:function update(t){void 0!==t&&(this.rotation=t);var r=(this.rotation+this.pdfPageRotate)%360;this.viewport=this.viewport.clone({scale:1,rotation:r});this.reset()}},{key:"cancelRendering",value:function cancelRendering(){if(this.renderTask){this.renderTask.cancel();this.renderTask=null}this.resume=null}},{key:"_getPageDrawContext",value:function _getPageDrawContext(){var t=document.createElement("canvas");this.canvas=t;t.mozOpaque=!0;var r=t.getContext("2d",{alpha:!1}),a=(0,o.getOutputScale)(r);t.width=this.canvasWidth*a.sx|0;t.height=this.canvasHeight*a.sy|0;t.style.width=this.canvasWidth+"px";t.style.height=this.canvasHeight+"px";return[r,a.scaled?[a.sx,0,0,a.sy,0,0]:null]}},{key:"_convertCanvasToImage",value:function _convertCanvasToImage(){var t=this;if(this.canvas&&this.renderingState===u.RenderingStates.FINISHED){var r="thumbnailImage";if(this.disableCanvasToImageConversion){this.canvas.className=r;this._thumbPageCanvas.then((function(r){t.canvas.setAttribute("aria-label",r)}));this.div.setAttribute("data-loaded",!0);this.ring.appendChild(this.canvas)}else{var a=document.createElement("img");a.className=r;this._thumbPageCanvas.then((function(t){a.setAttribute("aria-label",t)}));a.style.width=this.canvasWidth+"px";a.style.height=this.canvasHeight+"px";a.src=this.canvas.toDataURL();this.image=a;this.div.setAttribute("data-loaded",!0);this.ring.appendChild(a);this.canvas.width=0;this.canvas.height=0;delete this.canvas}}}},{key:"draw",value:function draw(){var t=this;if(this.renderingState!==u.RenderingStates.INITIAL){console.error("Must be in new state before drawing");return Promise.resolve(void 0)}var r=this.pdfPage;if(!r){this.renderingState=u.RenderingStates.FINISHED;return Promise.reject(new Error("pdfPage is not loaded"))}this.renderingState=u.RenderingStates.RUNNING;var a=function(){var r=function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,o){var l=t.apply(r,a);function _next(t){asyncGeneratorStep(l,i,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,i,o,_next,_throw,"throw",t)}_next(void 0)}))}}(i.default.mark((function _callee(){var r,a=arguments;return i.default.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:r=a.length>0&&void 0!==a[0]?a[0]:null;d===t.renderTask&&(t.renderTask=null);if(!(r instanceof l.RenderingCancelledException)){i.next=4;break}return i.abrupt("return");case 4:t.renderingState=u.RenderingStates.FINISHED;t._convertCanvasToImage();if(!r){i.next=8;break}throw r;case 8:case"end":return i.stop()}}),_callee)})));return function finishRenderTask(){return r.apply(this,arguments)}}(),o=_slicedToArray(this._getPageDrawContext(),2),c={canvasContext:o[0],transform:o[1],viewport:this.viewport.clone({scale:this.scale}),optionalContentConfigPromise:this._optionalContentConfigPromise},d=this.renderTask=r.render(c);d.onContinue=function renderContinueCallback(r){if(t.renderingQueue.isHighestPriority(t))r();else{t.renderingState=u.RenderingStates.PAUSED;t.resume=function(){t.renderingState=u.RenderingStates.RUNNING;r()}}};var h=d.promise.then((function(){a(null)}),(function(t){a(t)}));h.finally((function(){var r;t.linkService.isPageCached(t.id)||null===(r=t.pdfPage)||void 0===r||r.cleanup()}));return h}},{key:"setImage",value:function setImage(t){if(!this._checkSetImageDisabled()&&this.renderingState===u.RenderingStates.INITIAL){var r=t.canvas;if(r){this.pdfPage||this.setPdfPage(t.pdfPage);this.renderingState=u.RenderingStates.FINISHED;var a=_slicedToArray(this._getPageDrawContext(),1)[0],i=a.canvas;if(r.width<=2*i.width){a.drawImage(r,0,0,r.width,r.height,0,0,i.width,i.height);this._convertCanvasToImage()}else{for(var o=i.width<<3,l=i.height<<3,d=c.getCanvas(o,l),h=d.getContext("2d");o>r.width||l>r.height;){o>>=1;l>>=1}h.drawImage(r,0,0,r.width,r.height,0,0,o,l);for(;o>2*i.width;){h.drawImage(d,0,0,o,l,0,0,o>>1,l>>1);o>>=1;l>>=1}a.drawImage(d,0,0,o,l,0,0,i.width,i.height);this._convertCanvasToImage()}}}}},{key:"setPageLabel",value:function setPageLabel(t){var r=this;this.pageLabel="string"==typeof t?t:null;this._thumbPageTitle.then((function(t){r.anchor.title=t}));this.renderingState===u.RenderingStates.FINISHED&&this._thumbPageCanvas.then((function(t){r.image?r.image.setAttribute("aria-label",t):r.disableCanvasToImageConversion&&r.canvas&&r.canvas.setAttribute("aria-label",t)}))}},{key:"_thumbPageTitle",get:function get(){var t;return this.l10n.get("thumb_page_title",{page:null!==(t=this.pageLabel)&&void 0!==t?t:this.id},"Page {{page}}")}},{key:"_thumbPageCanvas",get:function get(){var t;return this.l10n.get("thumb_page_canvas",{page:null!==(t=this.pageLabel)&&void 0!==t?t:this.id},"Thumbnail of Page {{page}}")}}]);return PDFThumbnailView}();r.PDFThumbnailView=d},(t,r,a)=>{"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(r,"__esModule",{value:!0});r.PDFViewer=void 0;var i=a(6),o=a(31),l=a(7);function _createForOfIteratorHelper(t,r){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){a&&(t=a);var i=0,o=function F(){};return{s:o,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){a=t[Symbol.iterator]()},n:function n(){var t=a.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==a.return||a.return()}finally{if(c)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}function _get(t,r,a){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(t,r,a){var i=function _superPropBase(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&null!==(t=_getPrototypeOf(t)););return t}(t,r);if(i){var o=Object.getOwnPropertyDescriptor(i,r);return o.get?o.get.call(a):o.value}})(t,r,a||t)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){t.__proto__=r;return t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){return!r||"object"!==_typeof(r)&&"function"!=typeof r?function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):r}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});r&&_setPrototypeOf(t,r)}(PDFViewer,t);var r=_createSuper(PDFViewer);function PDFViewer(){_classCallCheck(this,PDFViewer);return r.apply(this,arguments)}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(PDFViewer,[{key:"_scrollIntoView",value:function _scrollIntoView(t){var r=t.pageDiv,a=t.pageSpot,i=void 0===a?null:a,o=t.pageNumber,l=void 0===o?null:o;if(!i&&!this.isInPresentationMode){var u=r.offsetLeft+r.clientLeft,c=u+r.clientWidth,d=this.container,h=d.scrollLeft,p=d.clientWidth;(this._isScrollModeHorizontal||u<h||c>h+p)&&(i={left:0,top:0})}_get(_getPrototypeOf(PDFViewer.prototype),"_scrollIntoView",this).call(this,{pageDiv:r,pageSpot:i,pageNumber:l})}},{key:"_getVisiblePages",value:function _getVisiblePages(){return this.isInPresentationMode?this._getCurrentVisiblePage():_get(_getPrototypeOf(PDFViewer.prototype),"_getVisiblePages",this).call(this)}},{key:"_updateHelper",value:function _updateHelper(t){if(!this.isInPresentationMode){var r,a=this._currentPageNumber,o=!1,l=_createForOfIteratorHelper(t);try{for(l.s();!(r=l.n()).done;){var u=r.value;if(u.percent<100)break;if(u.id===a&&this._scrollMode===i.ScrollMode.VERTICAL&&this._spreadMode===i.SpreadMode.NONE){o=!0;break}}}catch(t){l.e(t)}finally{l.f()}o||(a=t[0].id);this._setCurrentPageNumber(a)}}},{key:"_viewerElement",get:function get(){return(0,l.shadow)(this,"_viewerElement",this.viewer)}}]);return PDFViewer}(o.BaseViewer);r.PDFViewer=u},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.BaseViewer=void 0;var i=a(7),o=a(6),l=a(10),u=a(32),c=a(33),d=a(23),h=a(165);function _createForOfIteratorHelper(t,r){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){a&&(t=a);var i=0,o=function F(){};return{s:o,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){a=t[Symbol.iterator]()},n:function n(){var t=a.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==a.return||a.return()}finally{if(c)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}function PDFPageViewBuffer(t){var r=[];this.push=function(a){var i=r.indexOf(a);i>=0&&r.splice(i,1);r.push(a);r.length>t&&r.shift().destroy()};this.resize=function(a,i){t=a;if(i){for(var l=new Set,u=0,c=i.length;u<c;++u)l.add(i[u].id);(0,o.moveToEndOfArray)(r,(function(t){return l.has(t.id)}))}for(;r.length>t;)r.shift().destroy()};this.has=function(t){return r.includes(t)}}function isSameScale(t,r){return r===t||Math.abs(r-t)<1e-15}var p=function(){function BaseViewer(t){var r,a,u=this;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,BaseViewer);if(this.constructor===BaseViewer)throw new Error("Cannot initialize BaseViewer.");var c="2.7.673";if(i.version!==c)throw new Error('The API version "'.concat(i.version,'" does not match the Viewer version "').concat(c,'".'));this._name=this.constructor.name;this.container=t.container;this.viewer=t.viewer||t.container.firstElementChild;this.pageViewMode=t.pageViewMode||"single";if("DIV"!==(null===(r=this.container)||void 0===r?void 0:r.tagName.toUpperCase())||"DIV"!==(null===(a=this.viewer)||void 0===a?void 0:a.tagName.toUpperCase()))throw new Error("Invalid `container` and/or `viewer` option.");if("absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=t.eventBus;this.linkService=t.linkService||new d.SimpleLinkService;this.downloadManager=t.downloadManager||null;this.findController=t.findController||null;this.removePageBorders=t.removePageBorders||!1;this.textLayerMode=Number.isInteger(t.textLayerMode)?t.textLayerMode:o.TextLayerMode.ENABLE;this.imageResourcesPath=t.imageResourcesPath||"";this.renderInteractiveForms="boolean"!=typeof t.renderInteractiveForms||t.renderInteractiveForms;this.enablePrintAutoRotate=t.enablePrintAutoRotate||!1;this.renderer=t.renderer||o.RendererType.CANVAS;this.enableWebGL=t.enableWebGL||!1;this.useOnlyCssZoom=t.useOnlyCssZoom||!1;this.maxCanvasPixels=t.maxCanvasPixels;this.l10n=t.l10n||o.NullL10n;this.enableScripting=t.enableScripting||!1;this._mouseState=t.mouseState||null;this.defaultRenderingQueue=!t.renderingQueue;if(this.defaultRenderingQueue){this.renderingQueue=new l.PDFRenderingQueue;this.renderingQueue.setViewer(this)}else this.renderingQueue=t.renderingQueue;this.scroll=(0,o.watchScroll)(this.container,this._scrollUpdate.bind(this));this.presentationModeState=o.PresentationModeState.UNKNOWN;this._onBeforeDraw=this._onAfterDraw=null;this._resetView();this.removePageBorders&&this.viewer.classList.add("removePageBorders");Promise.resolve().then((function(){u.eventBus.dispatch("baseviewerinit",{source:u})}))}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(BaseViewer,[{key:"getPageView",value:function getPageView(t){return this._pages[t]}},{key:"hidePagesDependingOnpageViewMode",value:function hidePagesDependingOnpageViewMode(){var t=this;"single"===this.pageViewMode&&this._pages.forEach((function(r){r.div.style.display=r.id===t.currentPageNumber?"block":"none"}))}},{key:"_setCurrentPageNumber",value:function _setCurrentPageNumber(t){var r=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._currentPageNumber===t){a&&this._resetCurrentPageView();return!0}if(!(0<t&&t<=this.pagesCount))return!1;var i=this._currentPageNumber;this._currentPageNumber=t;this.hidePagesDependingOnpageViewMode();if("single"===this.pageViewMode||"infinite-scroll"===this.pageViewMode){var o=this._pages[this.currentPageNumber-1];this._ensurePdfPageLoaded(o).then((function(){r.renderingQueue.renderView(o)}))}this.eventBus.dispatch("pagechanging",{source:this,pageNumber:t,pageLabel:this._pageLabels&&this._pageLabels[t-1],previous:i});a&&this._resetCurrentPageView();return!0}},{key:"_onePageRenderedOrForceFetch",value:function _onePageRenderedOrForceFetch(){return this.container.offsetParent&&0!==this._getVisiblePages().views.length?this._onePageRenderedCapability.promise:Promise.resolve()}},{key:"setDocument",value:function setDocument(t){var r=this;if(this.pdfDocument){this.eventBus.dispatch("pagesdestroy",{source:this});this._cancelRendering();this._resetView();this.findController&&this.findController.setDocument(null)}this.pdfDocument=t;if(t){var a=t.numPages,i=t.getPage(1),l=t.getOptionalContentConfig();this._pagesCapability.promise.then((function(){r.eventBus.dispatch("pagesloaded",{source:r,pagesCount:a})}));this._onBeforeDraw=function(t){var a=r._pages[t.pageNumber-1];a&&r._buffer.push(a)};this.eventBus._on("pagerender",this._onBeforeDraw);this._onAfterDraw=function(t){if(!t.cssTransform&&!r._onePageRenderedCapability.settled){r._onePageRenderedCapability.resolve();r.eventBus._off("pagerendered",r._onAfterDraw);r._onAfterDraw=null}};this.eventBus._on("pagerendered",this._onAfterDraw);i.then((function(i){r._firstPageCapability.resolve(i);r._optionalContentConfigPromise=l;for(var u=r.currentScale,d=i.getViewport({scale:u*o.CSS_UNITS}),h=r.textLayerMode!==o.TextLayerMode.DISABLE?r:null,p=1;p<=a;++p){var m=new c.PDFPageView({container:r._viewerElement,eventBus:r.eventBus,id:p,scale:u,defaultViewport:d.clone(),optionalContentConfigPromise:l,renderingQueue:r.renderingQueue,textLayerFactory:h,textLayerMode:r.textLayerMode,annotationLayerFactory:r,imageResourcesPath:r.imageResourcesPath,removePageBorders:r.removePageBorders,renderInteractiveForms:r.renderInteractiveForms,renderer:r.renderer,enableWebGL:r.enableWebGL,useOnlyCssZoom:r.useOnlyCssZoom,maxCanvasPixels:r.maxCanvasPixels,l10n:r.l10n,enableScripting:r.enableScripting});r._pages.push(m)}var g=r._pages[0];if(g){g.setPdfPage(i);r.linkService.cachePageRef(1,i.ref)}r._spreadMode!==o.SpreadMode.NONE&&r._updateSpreadMode();r._onePageRenderedOrForceFetch().then((function(){r.findController&&r.findController.setDocument(t);if(t.loadingParams.disableAutoFetch||a>7500)r._pagesCapability.resolve();else{var i=a-1;if(i<=0)r._pagesCapability.resolve();else for(var o=function _loop(a){t.getPage(a).then((function(t){var o=r._pages[a-1];o.pdfPage||o.setPdfPage(t);r.linkService.cachePageRef(a,t.ref);0==--i&&r._pagesCapability.resolve()}),(function(t){console.error("Unable to get page ".concat(a," to initialize viewer"),t);0==--i&&r._pagesCapability.resolve()}))},l=2;l<=a;++l)o(l)}}));r.hidePagesDependingOnpageViewMode();r.eventBus.dispatch("pagesinit",{source:r});r.defaultRenderingQueue&&r.update()})).catch((function(t){console.error("Unable to initialize viewer",t)}))}}},{key:"setPageLabels",value:function setPageLabels(t){if(this.pdfDocument){if(t)if(Array.isArray(t)&&this.pdfDocument.numPages===t.length)this._pageLabels=t;else{this._pageLabels=null;console.error("".concat(this._name,".setPageLabels: Invalid page labels."))}else this._pageLabels=null;for(var r=0,a=this._pages.length;r<a;r++){var i=this._pages[r],o=this._pageLabels&&this._pageLabels[r];i.setPageLabel(o)}}}},{key:"_resetView",value:function _resetView(){this._pages=[];this._currentPageNumber=1;this._currentScale=o.UNKNOWN_SCALE;this._currentScaleValue=null;this._pageLabels=null;this._buffer=new PDFPageViewBuffer(10);this._location=null;this._pagesRotation=0;this._optionalContentConfigPromise=null;this._pagesRequests=new WeakMap;this._firstPageCapability=(0,i.createPromiseCapability)();this._onePageRenderedCapability=(0,i.createPromiseCapability)();this._pagesCapability=(0,i.createPromiseCapability)();this._scrollMode=o.ScrollMode.VERTICAL;this._spreadMode=o.SpreadMode.NONE;if(this._onBeforeDraw){this.eventBus._off("pagerender",this._onBeforeDraw);this._onBeforeDraw=null}if(this._onAfterDraw){this.eventBus._off("pagerendered",this._onAfterDraw);this._onAfterDraw=null}this._resetScriptingEvents();this.viewer.textContent="";this._updateScrollMode()}},{key:"_scrollUpdate",value:function _scrollUpdate(){0!==this.pagesCount&&this.update()}},{key:"_scrollIntoView",value:function _scrollIntoView(t){var r=t.pageDiv,a=t.pageSpot,i=void 0===a?null:a;t.pageNumber;"single"===this.pageViewMode&&this._pages.forEach((function(){r.style.display="block"}));(0,o.scrollIntoView)(r,i,!1,"infinite-scroll"===this.pageViewMode)}},{key:"_setScaleUpdatePages",value:function _setScaleUpdatePages(t,r){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this._currentScaleValue=r.toString();if(isSameScale(this._currentScale,t))i&&this.eventBus.dispatch("scalechanging",{source:this,scale:t,presetValue:r});else{for(var o=0,l=this._pages.length;o<l;o++)this._pages[o].update(t);this._currentScale=t;if(!a){var u,c=this._currentPageNumber;if(this._location&&!this.isInPresentationMode&&!this.isChangingPresentationMode){c=this._location.pageNumber;u=[null,{name:"XYZ"},this._location.left,this._location.top,null]}this.scrollPageIntoView({pageNumber:c,destArray:u,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:t,presetValue:i?r:void 0});this.defaultRenderingQueue&&this.update()}}},{key:"_setScale",value:function _setScale(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=parseFloat(t);if(a>0)this._setScaleUpdatePages(a,t,r,!1);else{var i=this._pages[this._currentPageNumber-1];if(!i)return;var l=this.isInPresentationMode||this.removePageBorders,u=o.VERTICAL_PADDING;"single"===this.pageViewMode&&(u+=15);var c=l?0:o.SCROLLBAR_PADDING,d=l?"single"===this.pageViewMode?10:0:u;if(!l&&this._isScrollModeHorizontal){var h=[d,c];c=h[0];d=h[1]}var p=(this.container.clientWidth-c)/i.width*i.scale/this._pageWidthScaleFactor,m=(this.container.clientHeight-d)/i.height*i.scale;switch(t){case"page-actual":a=1;break;case"page-width":a=p;break;case"page-height":a=m;break;case"page-fit":a=Math.min(p,m);break;case"auto":var g=(0,o.isPortraitOrientation)(i)?p:Math.min(m,p);a=Math.min(o.MAX_AUTO_SCALE,g);break;default:console.error("".concat(this._name,'._setScale: "').concat(t,'" is an unknown zoom value.'));return}this._setScaleUpdatePages(a,t,r,!0)}}},{key:"_resetCurrentPageView",value:function _resetCurrentPageView(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0);var t=this._pages[this._currentPageNumber-1];this._scrollIntoView({pageDiv:t.div})}},{key:"pageLabelToPageNumber",value:function pageLabelToPageNumber(t){if(!this._pageLabels)return null;var r=this._pageLabels.indexOf(t);return r<0?null:r+1}},{key:"scrollPageIntoView",value:function scrollPageIntoView(t){var r=this,a=t.pageNumber,i=t.destArray,l=void 0===i?null:i,u=t.allowNegativeOffset,c=void 0!==u&&u,d=t.ignoreDestinationZoom,h=void 0!==d&&d;if(this.pdfDocument){var p=Number.isInteger(a)&&this._pages[a-1];if(p)if(!this.isInPresentationMode&&l){var m,g,v=0,y=0,b=0,S=0,w=p.rotation%180!=0,C=(w?p.height:p.width)/p.scale/o.CSS_UNITS,P=(w?p.width:p.height)/p.scale/o.CSS_UNITS,k=0;switch(l[1].name){case"XYZ":v=l[2];y=l[3];k=l[4];v=null!==v?v:0;y=null!==y?y:P;break;case"Fit":case"FitB":k="page-fit";break;case"FitH":case"FitBH":k="page-width";if(null===(y=l[2])&&this._location){v=this._location.left;y=this._location.top}else"number"!=typeof y&&(y=P);break;case"FitV":case"FitBV":v=l[2];b=C;S=P;k="page-height";break;case"FitR":v=l[2];y=l[3];b=l[4]-v;S=l[5]-y;var R=this.removePageBorders?0:o.SCROLLBAR_PADDING,A=this.removePageBorders?0:o.VERTICAL_PADDING;m=(this.container.clientWidth-R)/b/o.CSS_UNITS;g=(this.container.clientHeight-A)/S/o.CSS_UNITS;k=Math.min(Math.abs(m),Math.abs(g));break;default:console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(l[1].name,'" is not a valid destination type.'));return}h||(k&&k!==this._currentScale?this.currentScaleValue=k:this._currentScale===o.UNKNOWN_SCALE&&(this.currentScaleValue=o.DEFAULT_SCALE_VALUE));this._ensurePdfPageLoaded(p).then((function(){r.renderingQueue.renderView(p);r.currentPageNumber!==a&&(r.currentPageNumber=a)}));if("page-fit"!==k||l[4]){var T=[p.viewport.convertToViewportPoint(v,y),p.viewport.convertToViewportPoint(v+b,y+S)],E=Math.min(T[0][0],T[1][0]),x=Math.min(T[0][1],T[1][1]);if(!c){E=Math.max(E,0);x=Math.max(x,0)}this._scrollIntoView({pageDiv:p.div,pageSpot:{left:E,top:x},pageNumber:a})}else this._scrollIntoView({pageDiv:p.div,pageNumber:a})}else this._setCurrentPageNumber(a,!0);else console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(a,'" is not a valid pageNumber parameter.'))}}},{key:"_updateLocation",value:function _updateLocation(t){var r=this._currentScale,a=this._currentScaleValue,i=parseFloat(a)===r?Math.round(1e4*r)/100:a,o=t.id,l="#page="+o;l+="&zoom="+i;var u=this._pages[o-1],c=this.container,d=u.getPagePoint(c.scrollLeft-t.x,c.scrollTop-t.y),h=Math.round(d[0]),p=Math.round(d[1]);l+=","+h+","+p;this._location={pageNumber:o,scale:i,top:p,left:h,rotation:this._pagesRotation,pdfOpenParams:l}}},{key:"_updateHelper",value:function _updateHelper(t){throw new Error("Not implemented: _updateHelper")}},{key:"update",value:function update(){var t=this._getVisiblePages(),r=t.views,a=r.length;if(0!==a){var i=Math.max(10,2*a+1);this._buffer.resize(i,r);this.renderingQueue.renderHighestPriority(t);this._updateHelper(r);this._updateLocation(t.first);this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}}},{key:"containsElement",value:function containsElement(t){return this.container.contains(t)}},{key:"focus",value:function focus(){this.container.focus()}},{key:"_getCurrentVisiblePage",value:function _getCurrentVisiblePage(){if(!this.pagesCount)return{views:[]};var t=this._pages[this._currentPageNumber-1],r=t.div,a={id:t.id,x:r.offsetLeft+r.clientLeft,y:r.offsetTop+r.clientTop,view:t};return{first:a,last:a,views:[a]}}},{key:"_getVisiblePages",value:function _getVisiblePages(){return"single"===this.pageViewMode?this._getCurrentVisiblePage():(0,o.getVisibleElements)({scrollEl:this.container,views:this._pages,sortByVisibility:!0,horizontal:this._isScrollModeHorizontal,rtl:this._isScrollModeHorizontal&&this._isContainerRtl})}},{key:"isPageVisible",value:function isPageVisible(t){if(!this.pdfDocument)return!1;if(!(Number.isInteger(t)&&t>0&&t<=this.pagesCount)){console.error("".concat(this._name,'.isPageVisible: "').concat(t,'" is not a valid page.'));return!1}return this._getVisiblePages().views.some((function(r){return r.id===t}))}},{key:"isPageCached",value:function isPageCached(t){if(!this.pdfDocument||!this._buffer)return!1;if(!(Number.isInteger(t)&&t>0&&t<=this.pagesCount)){console.error("".concat(this._name,'.isPageCached: "').concat(t,'" is not a valid page.'));return!1}var r=this._pages[t-1];return!!r&&this._buffer.has(r)}},{key:"cleanup",value:function cleanup(){for(var t=0,r=this._pages.length;t<r;t++)this._pages[t]&&this._pages[t].renderingState!==l.RenderingStates.FINISHED&&this._pages[t].reset()}},{key:"_cancelRendering",value:function _cancelRendering(){for(var t=0,r=this._pages.length;t<r;t++)this._pages[t]&&this._pages[t].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function _ensurePdfPageLoaded(t){var r=this;if(t.pdfPage)return Promise.resolve(t.pdfPage);if(this._pagesRequests.has(t))return this._pagesRequests.get(t);var a=this.pdfDocument.getPage(t.id).then((function(a){t.pdfPage||t.setPdfPage(a);r._pagesRequests.delete(t);return a})).catch((function(a){console.error("Unable to get page for page view",a);r._pagesRequests.delete(t)}));this._pagesRequests.set(t,a);return a}},{key:"forceRendering",value:function forceRendering(t){var r=this,a=t||this._getVisiblePages(),i=this._isScrollModeHorizontal?this.scroll.right:this.scroll.down,o=this.renderingQueue.getHighestPriority(a,this._pages,i);if(o){this._ensurePdfPageLoaded(o).then((function(){r.renderingQueue.renderView(o)}));return!0}return!1}},{key:"createTextLayerBuilder",value:function createTextLayerBuilder(t,r,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0;return new h.TextLayerBuilder({textLayerDiv:t,eventBus:o,pageIndex:r,viewport:a,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:!this.isInPresentationMode&&i})}},{key:"createAnnotationLayerBuilder",value:function createAnnotationLayerBuilder(t,r){var a,i,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",d=arguments.length>4&&void 0!==arguments[4]&&arguments[4],h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:o.NullL10n,p=arguments.length>6&&void 0!==arguments[6]&&arguments[6],m=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,g=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;return new u.AnnotationLayerBuilder({pageDiv:t,pdfPage:r,annotationStorage:l||(null===(a=this.pdfDocument)||void 0===a?void 0:a.annotationStorage),imageResourcesPath:c,renderInteractiveForms:d,linkService:this.linkService,downloadManager:this.downloadManager,l10n:h,enableScripting:p,hasJSActionsPromise:m||(null===(i=this.pdfDocument)||void 0===i?void 0:i.hasJSActions()),mouseState:g||this._mouseState})}},{key:"getPagesOverview",value:function getPagesOverview(){var t=this._pages.map((function(t){var r=t.pdfPage.getViewport({scale:1});return{width:r.width,height:r.height,rotation:r.rotation}}));return this.enablePrintAutoRotate?t.map((function(t){return(0,o.isPortraitOrientation)(t)?t:{width:t.height,height:t.width,rotation:(t.rotation+90)%360}})):t}},{key:"_updateScrollMode",value:function _updateScrollMode(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=this._scrollMode,a=this.viewer;a.classList.toggle("scrollHorizontal",r===o.ScrollMode.HORIZONTAL);a.classList.toggle("scrollWrapped",r===o.ScrollMode.WRAPPED);if(this.pdfDocument&&t){this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0);this._setCurrentPageNumber(t,!0);this.update()}}},{key:"_updateSpreadMode",value:function _updateSpreadMode(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.pdfDocument){var r=this.viewer,a=this._pages;r.textContent="";if(this._spreadMode===o.SpreadMode.NONE)for(var i=0,l=a.length;i<l;++i)r.appendChild(a[i].div);else for(var u=this._spreadMode-1,c=null,d=0,h=a.length;d<h;++d){if(null===c){(c=document.createElement("div")).className="spread";r.appendChild(c)}else if(d%2===u){c=c.cloneNode(!1);r.appendChild(c)}c.appendChild(a[d].div)}if(t){this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0);this._setCurrentPageNumber(t,!0);this.update()}}}},{key:"_getPageAdvance",value:function _getPageAdvance(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.isInPresentationMode)return 1;switch(this._scrollMode){case o.ScrollMode.WRAPPED:var a,i=this._getVisiblePages(),l=i.views,u=new Map,c=_createForOfIteratorHelper(l);try{for(c.s();!(a=c.n()).done;){var d=a.value,h=d.id,p=d.y,m=d.percent,g=d.widthPercent;if(!(0===m||g<100)){var v=u.get(p);v||u.set(p,v||(v=[]));v.push(h)}}}catch(t){c.e(t)}finally{c.f()}var y,b=_createForOfIteratorHelper(u.values());try{for(b.s();!(y=b.n()).done;){var S=y.value,w=S.indexOf(t);if(-1!==w){var C=S.length;if(1===C)break;if(r)for(var P=w-1,k=0;P>=k;P--){var R=S[P],A=S[P+1]-1;if(R<A)return t-A}else for(var T=w+1,E=C;T<E;T++){var x=S[T],I=S[T-1]+1;if(x>I)return I-t}if(r){var O=S[0];if(O<t)return t-O+1}else{var L=S[C-1];if(L>t)return L-t+1}break}}}catch(t){b.e(t)}finally{b.f()}break;case o.ScrollMode.HORIZONTAL:break;case o.ScrollMode.VERTICAL:if(this._spreadMode===o.SpreadMode.NONE)break;var D=this._spreadMode-1;if(r&&t%2!==D)break;if(!r&&t%2===D)break;var M,B=this._getVisiblePages(),N=B.views,W=r?t-1:t+1,j=_createForOfIteratorHelper(N);try{for(j.s();!(M=j.n()).done;){var V=M.value,U=V.id,q=V.percent,G=V.widthPercent;if(U===W){if(q>0&&100===G)return 2;break}}}catch(t){j.e(t)}finally{j.f()}}return 1}},{key:"nextPage",value:function nextPage(){var t=this._currentPageNumber,r=this.pagesCount;if(t>=r)return!1;var a=this._getPageAdvance(t,!1)||1;this.currentPageNumber=Math.min(t+a,r);return!0}},{key:"previousPage",value:function previousPage(){var t=this._currentPageNumber;if(t<=1)return!1;var r=this._getPageAdvance(t,!0)||1;this.currentPageNumber=Math.max(t-r,1);return!0}},{key:"initializeScriptingEvents",value:function initializeScriptingEvents(){var t=this;if(this.enableScripting&&!this._pageOpenPendingSet){var r=this.eventBus,a=this._pageOpenPendingSet=new Set,i=this._scriptingEvents||(this._scriptingEvents=Object.create(null)),o=function dispatchPageClose(i){a.has(i)||r.dispatch("pageclose",{source:t,pageNumber:i})},u=function dispatchPageOpen(i){var o=t._pages[i-1];if((null==o?void 0:o.renderingState)===l.RenderingStates.FINISHED){var u;a.delete(i);r.dispatch("pageopen",{source:t,pageNumber:i,actionsPromise:null===(u=o.pdfPage)||void 0===u?void 0:u.getJSActions()})}else a.add(i)};i.onPageChanging=function(t){var r=t.pageNumber,a=t.previous;if(r!==a){o(a);u(r)}};r._on("pagechanging",i.onPageChanging);i.onPageRendered=function(r){var i=r.pageNumber;a.has(i)&&i===t._currentPageNumber&&u(i)};r._on("pagerendered",i.onPageRendered);i.onPagesDestroy=function(){o(t._currentPageNumber)};r._on("pagesdestroy",i.onPagesDestroy);u(this._currentPageNumber)}}},{key:"_resetScriptingEvents",value:function _resetScriptingEvents(){if(this.enableScripting&&this._pageOpenPendingSet){var t=this.eventBus,r=this._scriptingEvents;t._off("pagechanging",r.onPageChanging);r.onPageChanging=null;t._off("pagerendered",r.onPageRendered);r.onPageRendered=null;t._off("pagesdestroy",r.onPagesDestroy);r.onPagesDestroy=null;this._pageOpenPendingSet=null}}},{key:"pagesCount",get:function get(){return this._pages.length}},{key:"pageViewsReady",get:function get(){return!!this._pagesCapability.settled&&this._pages.every((function(t){return t&&t.pdfPage}))}},{key:"currentPageNumber",get:function get(){return this._currentPageNumber},set:function set(t){if(!Number.isInteger(t))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(t,!0)||console.error("".concat(this._name,'.currentPageNumber: "').concat(t,'" is not a valid page.')))}},{key:"currentPageLabel",get:function get(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set:function set(t){if(this.pdfDocument){var r=0|t;if(this._pageLabels){var a=this._pageLabels.indexOf(t);a>=0&&(r=a+1)}this._setCurrentPageNumber(r,!0)||console.error("".concat(this._name,'.currentPageLabel: "').concat(t,'" is not a valid page.'))}}},{key:"currentScale",get:function get(){return this._currentScale!==o.UNKNOWN_SCALE?this._currentScale:o.DEFAULT_SCALE},set:function set(t){if(isNaN(t))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(t,"single"===this.pageViewMode)}},{key:"currentScaleValue",get:function get(){return this._currentScaleValue},set:function set(t){this.pdfDocument&&this._setScale(t,"single"===this.pageViewMode)}},{key:"pagesRotation",get:function get(){return this._pagesRotation},set:function set(t){if(!(0,o.isValidRotation)(t))throw new Error("Invalid pages rotation angle.");if(this.pdfDocument&&this._pagesRotation!==t){this._pagesRotation=t;for(var r=this._currentPageNumber,a=0,i=this._pages.length;a<i;a++){var l=this._pages[a];l.update(l.scale,t)}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0);this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:t,pageNumber:r});this.defaultRenderingQueue&&this.update()}}},{key:"firstPagePromise",get:function get(){return this.pdfDocument?this._firstPageCapability.promise:null}},{key:"onePageRendered",get:function get(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}},{key:"pagesPromise",get:function get(){return this.pdfDocument?this._pagesCapability.promise:null}},{key:"_viewerElement",get:function get(){throw new Error("Not implemented: _viewerElement")}},{key:"_pageWidthScaleFactor",get:function get(){return this.spreadMode===o.SpreadMode.NONE||this.scrollMode===o.ScrollMode.HORIZONTAL||this.isInPresentationMode?1:2}},{key:"_isScrollModeHorizontal",get:function get(){return!this.isInPresentationMode&&this._scrollMode===o.ScrollMode.HORIZONTAL}},{key:"_isContainerRtl",get:function get(){return"rtl"===getComputedStyle(this.container).direction}},{key:"isInPresentationMode",get:function get(){return this.presentationModeState===o.PresentationModeState.FULLSCREEN}},{key:"isChangingPresentationMode",get:function get(){return this.presentationModeState===o.PresentationModeState.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function get(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}},{key:"isVerticalScrollbarEnabled",get:function get(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}},{key:"hasEqualPageSizes",get:function get(){for(var t=this._pages[0],r=1,a=this._pages.length;r<a;++r){var i=this._pages[r];if(i.width!==t.width||i.height!==t.height)return!1}return!0}},{key:"optionalContentConfigPromise",get:function get(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)},set:function set(t){if(!(t instanceof Promise))throw new Error("Invalid optionalContentConfigPromise: ".concat(t));if(this.pdfDocument&&this._optionalContentConfigPromise){this._optionalContentConfigPromise=t;var r,a=_createForOfIteratorHelper(this._pages);try{for(a.s();!(r=a.n()).done;){var i=r.value;i.update(i.scale,i.rotation,t)}}catch(t){a.e(t)}finally{a.f()}this.update();this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:t})}}},{key:"scrollMode",get:function get(){return this._scrollMode},set:function set(t){if(this._scrollMode!==t){if(!(0,o.isValidScrollMode)(t))throw new Error("Invalid scroll mode: ".concat(t));this._scrollMode=t;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:t});this._updateScrollMode(this._currentPageNumber)}}},{key:"spreadMode",get:function get(){return this._spreadMode},set:function set(t){if(this._spreadMode!==t){if(!(0,o.isValidSpreadMode)(t))throw new Error("Invalid spread mode: ".concat(t));this._spreadMode=t;this.eventBus.dispatch("spreadmodechanged",{source:this,mode:t});this._updateSpreadMode(this._currentPageNumber)}}}]);return BaseViewer}();r.BaseViewer=p},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.DefaultAnnotationLayerFactory=r.AnnotationLayerBuilder=void 0;var i=a(7),o=a(6),l=a(23);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var a=[],i=!0,o=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){a.push(u.value);if(r&&a.length===r)break}}catch(t){o=!0;l=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw l}}return a}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}var u=function(){function AnnotationLayerBuilder(t){var r=t.pageDiv,a=t.pdfPage,i=t.linkService,l=t.downloadManager,u=t.annotationStorage,c=void 0===u?null:u,d=t.imageResourcesPath,h=void 0===d?"":d,p=t.renderInteractiveForms,m=void 0===p||p,g=t.l10n,v=void 0===g?o.NullL10n:g,y=t.enableScripting,b=void 0!==y&&y,S=t.hasJSActionsPromise,w=void 0===S?null:S,C=t.mouseState,P=void 0===C?null:C;_classCallCheck(this,AnnotationLayerBuilder);this.pageDiv=r;this.pdfPage=a;this.linkService=i;this.downloadManager=l;this.imageResourcesPath=h;this.renderInteractiveForms=m;this.l10n=v;this.annotationStorage=c;this.enableScripting=b;this._hasJSActionsPromise=w;this._mouseState=P;this.div=null;this._cancelled=!1}_createClass(AnnotationLayerBuilder,[{key:"render",value:function render(t){var r=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"display";return Promise.all([this.pdfPage.getAnnotations({intent:a}),this._hasJSActionsPromise]).then((function(a){var o=_slicedToArray(a,2),l=o[0],u=o[1],c=void 0!==u&&u;if(!r._cancelled&&0!==l.length){var d={viewport:t.clone({dontFlip:!0}),div:r.div,annotations:l,page:r.pdfPage,imageResourcesPath:r.imageResourcesPath,removePageBorders:r.removePageBorders,renderInteractiveForms:r.renderInteractiveForms,linkService:r.linkService,downloadManager:r.downloadManager,annotationStorage:r.annotationStorage,enableScripting:r.enableScripting,hasJSActions:c,mouseState:r._mouseState};if(r.div)i.AnnotationLayer.update(d);else{r.div=document.createElement("div");r.div.className="annotationLayer";r.pageDiv.appendChild(r.div);d.div=r.div;i.AnnotationLayer.render(d);r.l10n.translate(r.div)}}}))}},{key:"cancel",value:function cancel(){this._cancelled=!0}},{key:"hide",value:function hide(){this.div&&this.div.setAttribute("hidden","true")}}]);return AnnotationLayerBuilder}();r.AnnotationLayerBuilder=u;var c=function(){function DefaultAnnotationLayerFactory(){_classCallCheck(this,DefaultAnnotationLayerFactory)}_createClass(DefaultAnnotationLayerFactory,[{key:"createAnnotationLayerBuilder",value:function createAnnotationLayerBuilder(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:o.NullL10n,h=arguments.length>6&&void 0!==arguments[6]&&arguments[6],p=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,m=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;return new u({pageDiv:t,pdfPage:r,imageResourcesPath:i,renderInteractiveForms:c,linkService:new l.SimpleLinkService,l10n:d,annotationStorage:a,enableScripting:h,hasJSActionsPromise:p,mouseState:m})}}]);return DefaultAnnotationLayerFactory}();r.DefaultAnnotationLayerFactory=c},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFPageView=void 0;var i=_interopRequireDefault(a(4)),o=a(6),l=a(7),u=a(10),c=a(2),d=_interopRequireDefault(a(34)),h=a(35);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function asyncGeneratorStep(t,r,a,i,o,l,u){try{var c=t[l](u),d=c.value}catch(t){a(t);return}c.done?r(d):Promise.resolve(d).then(i,o)}function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,o){var l=t.apply(r,a);function _next(t){asyncGeneratorStep(l,i,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,i,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}var p=c.viewerCompatibilityParams.maxCanvasPixels||16777216,m=function(){function PDFPageView(t){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PDFPageView);var r=t.container,a=t.defaultViewport;this.id=t.id;this.renderingId="page"+this.id;this.pdfPage=null;this.pageLabel=null;this.rotation=0;this.scale=t.scale||o.DEFAULT_SCALE;this.viewport=a;this.pdfPageRotate=a.rotation;this._optionalContentConfigPromise=t.optionalContentConfigPromise||null;this.hasRestrictedScaling=!1;this.textLayerMode=Number.isInteger(t.textLayerMode)?t.textLayerMode:o.TextLayerMode.ENABLE;this.imageResourcesPath=t.imageResourcesPath||"";this.renderInteractiveForms="boolean"!=typeof t.renderInteractiveForms||t.renderInteractiveForms;this.useOnlyCssZoom=t.useOnlyCssZoom||!1;this.maxCanvasPixels=t.maxCanvasPixels||p;this.eventBus=t.eventBus;this.renderingQueue=t.renderingQueue;this.textLayerFactory=t.textLayerFactory;this.annotationLayerFactory=t.annotationLayerFactory;this.renderer=t.renderer||o.RendererType.CANVAS;this.enableWebGL=t.enableWebGL||!1;this.l10n=t.l10n||o.NullL10n;this.enableScripting=t.enableScripting||!1;this.paintTask=null;this.paintedViewportMap=new WeakMap;this.renderingState=u.RenderingStates.INITIAL;this.resume=null;this._renderError=null;this.annotationLayer=null;this.textLayer=null;this.zoomLayer=null;var i=document.createElement("div");i.className="page";i.style.width=Math.floor(this.viewport.width)+"px";i.style.height=Math.floor(this.viewport.height)+"px";i.setAttribute("data-page-number",this.id);this.div=i;r.appendChild(i)}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(PDFPageView,[{key:"setPdfPage",value:function setPdfPage(t){this.pdfPage=t;this.pdfPageRotate=t.rotate;var r=(this.rotation+this.pdfPageRotate)%360;this.viewport=t.getViewport({scale:this.scale*o.CSS_UNITS,rotation:r});this.reset()}},{key:"destroy",value:function destroy(){this.reset();this.pdfPage&&this.pdfPage.cleanup()}},{key:"_renderAnnotationLayer",value:(t=_asyncToGenerator(i.default.mark((function _callee(){var t;return i.default.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:t=null;r.prev=1;r.next=4;return this.annotationLayer.render(this.viewport,"display");case 4:r.next=9;break;case 6:r.prev=6;r.t0=r.catch(1);t=r.t0;case 9:r.prev=9;this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:t});return r.finish(9);case 12:case"end":return r.stop()}}),_callee,this,[[1,6,9,12]])}))),function _renderAnnotationLayer(){return t.apply(this,arguments)})},{key:"_resetZoomLayer",value:function _resetZoomLayer(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.zoomLayer){var r=this.zoomLayer.firstChild;this.paintedViewportMap.delete(r);r.width=0;r.height=0;t&&this.zoomLayer.remove();this.zoomLayer=null}}},{key:"reset",value:function reset(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.cancelRendering(r);this.renderingState=u.RenderingStates.INITIAL;var a=this.div;a.style.width=Math.floor(this.viewport.width)+"px";a.style.height=Math.floor(this.viewport.height)+"px";for(var i=a.childNodes,o=t&&this.zoomLayer||null,l=r&&this.annotationLayer&&this.annotationLayer.div||null,c=i.length-1;c>=0;c--){var d=i[c];o!==d&&l!==d&&a.removeChild(d)}a.removeAttribute("data-loaded");if(l)this.annotationLayer.hide();else if(this.annotationLayer){this.annotationLayer.cancel();this.annotationLayer=null}if(!o){if(this.canvas){this.paintedViewportMap.delete(this.canvas);this.canvas.width=0;this.canvas.height=0;delete this.canvas}this._resetZoomLayer()}if(this.svg){this.paintedViewportMap.delete(this.svg);delete this.svg}this.loadingIconDiv=document.createElement("div");this.loadingIconDiv.className="loadingIcon";a.appendChild(this.loadingIconDiv)}},{key:"update",value:function update(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.scale=t||this.scale;void 0!==r&&(this.rotation=r);a instanceof Promise&&(this._optionalContentConfigPromise=a);var i=(this.rotation+this.pdfPageRotate)%360;this.viewport=this.viewport.clone({scale:this.scale*o.CSS_UNITS,rotation:i});if(this.svg){this.cssTransform(this.svg,!0);this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError})}else{var l=!1;if(this.canvas&&this.maxCanvasPixels>0){var u=this.outputScale;(Math.floor(this.viewport.width)*u.sx|0)*(Math.floor(this.viewport.height)*u.sy|0)>this.maxCanvasPixels&&(l=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&l){this.cssTransform(this.canvas,!0);this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});return}if(!this.zoomLayer&&!this.canvas.hasAttribute("hidden")){this.zoomLayer=this.canvas.parentNode;this.zoomLayer.style.position="absolute"}}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild);this.reset(!0,!0)}}},{key:"cancelRendering",value:function cancelRendering(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.paintTask){this.paintTask.cancel();this.paintTask=null}this.resume=null;if(this.textLayer){this.textLayer.cancel();this.textLayer=null}if(!t&&this.annotationLayer){this.annotationLayer.cancel();this.annotationLayer=null}}},{key:"cssTransform",value:function cssTransform(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.viewport.width,i=this.viewport.height,o=this.div;t.style.width=t.parentNode.style.width=o.style.width=Math.floor(a)+"px";t.style.height=t.parentNode.style.height=o.style.height=Math.floor(i)+"px";var l=this.viewport.rotation-this.paintedViewportMap.get(t).rotation,u=Math.abs(l),c=1,d=1;if(90===u||270===u){c=i/a;d=a/i}t.style.transform="rotate(".concat(l,"deg) scale(").concat(c,", ").concat(d,")");if(this.textLayer){var h=this.textLayer.viewport,p=this.viewport.rotation-h.rotation,m=Math.abs(p),g=a/h.width;90!==m&&270!==m||(g=a/h.height);var v,y,b=this.textLayer.textLayerDiv;switch(m){case 0:v=y=0;break;case 90:v=0;y="-"+b.style.height;break;case 180:v="-"+b.style.width;y="-"+b.style.height;break;case 270:v="-"+b.style.width;y=0;break;default:console.error("Bad rotation value.")}b.style.transform="rotate(".concat(m,"deg) ")+"scale(".concat(g,") ")+"translate(".concat(v,", ").concat(y,")");b.style.transformOrigin="0% 0%"}r&&this.annotationLayer&&this._renderAnnotationLayer()}},{key:"getPagePoint",value:function getPagePoint(t,r){return this.viewport.convertToPdfPoint(t,r)}},{key:"draw",value:function draw(){var t=this;if(this.renderingState!==u.RenderingStates.INITIAL){console.error("Must be in new state before drawing");this.reset()}var r=this.div,a=this.pdfPage;if(!a){this.renderingState=u.RenderingStates.FINISHED;if(this.loadingIconDiv){r.removeChild(this.loadingIconDiv);delete this.loadingIconDiv}return Promise.reject(new Error("pdfPage is not loaded"))}this.renderingState=u.RenderingStates.RUNNING;var c=document.createElement("div");c.style.width=r.style.width;c.style.height=r.style.height;c.classList.add("canvasWrapper");this.annotationLayer&&this.annotationLayer.div?r.insertBefore(c,this.annotationLayer.div):r.appendChild(c);var d=null;if(this.textLayerMode!==o.TextLayerMode.DISABLE&&this.textLayerFactory){var h=document.createElement("div");h.className="textLayer";h.style.width=c.style.width;h.style.height=c.style.height;this.annotationLayer&&this.annotationLayer.div?r.insertBefore(h,this.annotationLayer.div):r.appendChild(h);d=this.textLayerFactory.createTextLayerBuilder(h,this.id-1,this.viewport,this.textLayerMode===o.TextLayerMode.ENABLE_ENHANCE,this.eventBus)}this.textLayer=d;var p=null;this.renderingQueue&&(p=function renderContinueCallback(r){if(t.renderingQueue.isHighestPriority(t))r();else{t.renderingState=u.RenderingStates.PAUSED;t.resume=function(){t.renderingState=u.RenderingStates.RUNNING;r()}}});var m=function(){var a=_asyncToGenerator(i.default.mark((function _callee2(){var a,o=arguments;return i.default.wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:a=o.length>0&&void 0!==o[0]?o[0]:null;g===t.paintTask&&(t.paintTask=null);if(!(a instanceof l.RenderingCancelledException)){i.next=5;break}t._renderError=null;return i.abrupt("return");case 5:t._renderError=a;t.renderingState=u.RenderingStates.FINISHED;if(t.loadingIconDiv){r.removeChild(t.loadingIconDiv);delete t.loadingIconDiv}t._resetZoomLayer(!0);t.eventBus.dispatch("pagerendered",{source:t,pageNumber:t.id,cssTransform:!1,timestamp:performance.now(),error:t._renderError});if(!a){i.next=12;break}throw a;case 12:case"end":return i.stop()}}),_callee2)})));return function finishPaintTask(){return a.apply(this,arguments)}}(),g=this.renderer===o.RendererType.SVG?this.paintOnSvg(c):this.paintOnCanvas(c);g.onRenderContinue=p;this.paintTask=g;var v=g.promise.then((function(){return m(null).then((function(){if(d){var t=a.streamTextContent({normalizeWhitespace:!0});d.setTextContentStream(t);d.render()}}))}),(function(t){return m(t)}));if(this.annotationLayerFactory){this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(r,a,null,this.imageResourcesPath,this.renderInteractiveForms,this.l10n,this.enableScripting,null,null));this._renderAnnotationLayer()}r.setAttribute("data-loaded",!0);this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id});return v}},{key:"paintOnCanvas",value:function paintOnCanvas(t){var r=(0,l.createPromiseCapability)(),a={promise:r.promise,onRenderContinue:function onRenderContinue(t){t()},cancel:function cancel(){E.cancel()}},i=this.viewport,u=document.createElement("canvas");this.l10n.get("page_canvas",{page:this.id},"Page {{page}}").then((function(t){u.setAttribute("aria-label",t)}));u.setAttribute("hidden","hidden");var c=!0,p=function showCanvas(){if(c){u.removeAttribute("hidden");c=!1}};t.appendChild(u);this.canvas=u;u.mozOpaque=!0;var m=u.getContext("2d",{alpha:!1}),g=(0,o.getOutputScale)(m);this.outputScale=g;if(this.useOnlyCssZoom){var v=i.clone({scale:o.CSS_UNITS});g.sx*=v.width/i.width;g.sy*=v.height/i.height;g.scaled=!0}if(this.maxCanvasPixels>0){var y=i.width*i.height,b=Math.sqrt(this.maxCanvasPixels/y);if(g.sx>b||g.sy>b){g.sx=b;g.sy=b;g.scaled=!0;this.hasRestrictedScaling=!0}else this.hasRestrictedScaling=!1}var S=(0,o.approximateFraction)(g.sx),w=(0,o.approximateFraction)(g.sy),C=(0,o.roundToDivide)(i.width*g.sx,S[0]),P=(0,o.roundToDivide)(i.height*g.sy,w[0]);if((C>=4096||P>=4096)&&(this.maxWidth||!d.default.test({width:C,height:P}))){var k=this.determineMaxDimensions(),R=Math.max(C/k,P/k),A=Math.floor(100*this.scale/R)/100;R=this.scale/A;this.scale=A;window.PDFViewerApplicationOptions.set("maxZoom",A);PDFViewerApplication.pdfViewer.currentScaleValue=this.scale;i.width/=R;i.height/=R;(0,h.warn)("Page "+this.id+": Reduced the maximum zoom to "+A+" because the browser can't render larger canvases.")}u.width=(0,o.roundToDivide)(i.width*g.sx,S[0]);u.height=(0,o.roundToDivide)(i.height*g.sy,w[0]);u.style.width=(0,o.roundToDivide)(i.width,S[1])+"px";u.style.height=(0,o.roundToDivide)(i.height,w[1])+"px";this.paintedViewportMap.set(u,i);var T={canvasContext:m,transform:g.scaled?[g.sx,0,0,g.sy,0,0]:null,viewport:this.viewport,enableWebGL:this.enableWebGL,renderInteractiveForms:this.renderInteractiveForms,optionalContentConfigPromise:this._optionalContentConfigPromise},E=this.pdfPage.render(T);E.onContinue=function(t){p();a.onRenderContinue?a.onRenderContinue(t):t()};E.promise.then((function(){p();r.resolve(void 0)}),(function(t){p();r.reject(t)}));return a}},{key:"paintOnSvg",value:function paintOnSvg(t){var r=this,a=!1,i=function ensureNotCancelled(){if(a)throw new l.RenderingCancelledException("Rendering cancelled, page ".concat(r.id),"svg")},c=this.pdfPage,d=this.viewport.clone({scale:o.CSS_UNITS});return{promise:c.getOperatorList().then((function(a){i();return new l.SVGGraphics(c.commonObjs,c.objs).getSVG(a,d).then((function(a){i();r.svg=a;r.paintedViewportMap.set(a,d);a.style.width=t.style.width;a.style.height=t.style.height;r.renderingState=u.RenderingStates.FINISHED;t.appendChild(a)}))})),onRenderContinue:function onRenderContinue(t){t()},cancel:function cancel(){a=!0}}}},{key:"setPageLabel",value:function setPageLabel(t){this.pageLabel="string"==typeof t?t:null;null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}},{key:"determineMaxDimensions",value:function determineMaxDimensions(){if(this.maxWidth)return this.maxWidth;for(var t=0,r=[4096,8192,10836,11180,11402,14188,16384];t<r.length;t++){var a=r[t];if(!d.default.test({width:a+1,height:a+1})){this.maxWidth=a;return this.maxWidth}}return 16384}},{key:"width",get:function get(){return this.viewport.width}},{key:"height",get:function get(){return this.viewport.height}}]);var t;return PDFPageView}();r.PDFPageView=m},(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default=void 0;function _defineProperty(t,r,a){r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a;return t}function ownKeys(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})));a.push.apply(a,i)}return a}function _objectSpread2(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(a),!0).forEach((function(r){_defineProperty(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}function _objectWithoutProperties(t,r){if(null==t)return{};var a,i,o=function _objectWithoutPropertiesLoose(t,r){if(null==t)return{};var a,i,o={},l=Object.keys(t);for(i=0;i<l.length;i++){a=l[i];r.indexOf(a)>=0||(o[a]=t[a])}return o}(t,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(i=0;i<l.length;i++){a=l[i];r.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(o[a]=t[a])}}return o}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var a=[],i=!0,o=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){a.push(u.value);if(r&&a.length===r)break}}catch(t){o=!0;l=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw l}}return a}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);return"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function canvasTest(t){var r,a,i=t.sizes.shift(),o=i[0],l=i[1],u=[o-1,l-1,1,1],c=Date.now(),d="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope;if(d){r=new OffscreenCanvas(1,1);a=new OffscreenCanvas(o,l)}else{(r=document.createElement("canvas")).width=1;r.height=1;(a=document.createElement("canvas")).width=o;a.height=l}var h=r.getContext("2d"),p=a.getContext("2d");if(p){p.fillRect.apply(p,u);h.drawImage(a,o-1,l-1,1,1,0,0,1,1)}var m=h&&0!==h.getImageData(0,0,1,1).data[3],g=Date.now()-c;if(d){postMessage({width:o,height:l,benchmark:g,isTestPass:m});!m&&t.sizes.length&&canvasTest(t)}else if(m)t.onSuccess(o,l,g);else{t.onError(o,l,g);t.sizes.length&&canvasTest(t)}return m}var a=[16384,14188,11402,10836,11180,8192,4096,1],i=[8388607,65535,32767,16384,8192,4096,1],o=[4194303,65535,32767,16384,8192,4096,1],l={max:null,min:1,sizes:[],step:1024,usePromise:!1,useWorker:!1,onError:Function.prototype,onSuccess:Function.prototype},u={};function createSizesArray(t){var r=t.width===t.height,a=1===t.height,i=1===t.width,o=[];if(t.width&&t.height)for(var u=t.min||l.min,c=t.step||l.step,d=Math.max(t.width,t.height);d>=u;){var h=r||a?d:1,p=r||i?d:1;o.push([h,p]);d-=c}else t.sizes.forEach((function(t){var l=r||a?t:1,u=r||i?t:1;o.push([l,u])}));return o}function handleMethod(t){var r=window&&"HTMLCanvasElement"in window,a=window&&"OffscreenCanvas"in window,i=Date.now(),o=t.onError,l=t.onSuccess,c=_objectWithoutProperties(t,["onError","onSuccess"]),d=null;if(!r)return!1;if(t.useWorker&&a){var h="\n            ".concat(canvasTest.toString(),"\n            onmessage = function(e) {\n                canvasTest(e.data);\n            };\n        "),p=new Blob([h],{type:"application/javascript"}),m=URL.createObjectURL(p);d=new Worker(m);URL.revokeObjectURL(m);d.onmessage=function(t){var r=t.data,a=r.width,o=r.height,l=r.benchmark;if(r.isTestPass){u[i].onSuccess(a,o,l);delete u[i]}else u[i].onError(a,o,l)}}if(t.usePromise)return new Promise((function(r,a){var h=_objectSpread2(_objectSpread2({},t),{},{onError:function onError(r,i,l){var u;if(0===t.sizes.length)u=!0;else{var c=_slicedToArray(t.sizes.slice(-1),1),d=_slicedToArray(c[0],2),h=d[0],p=d[1];u=r===h&&i===p}o(r,i,l);u&&a({width:r,height:i,benchmark:l})},onSuccess:function onSuccess(t,a,i){l(t,a,i);r({width:t,height:a,benchmark:i})}});if(d){var p=h.onError,m=h.onSuccess;u[i]={onError:p,onSuccess:m};d.postMessage(c)}else canvasTest(h)}));if(!d)return canvasTest(t);u[i]={onError:o,onSuccess:l};d.postMessage(c)}var c={maxArea:function maxArea(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=createSizesArray({width:t.max,height:t.max,min:t.min,step:t.step,sizes:_toConsumableArray(a)}),i=_objectSpread2(_objectSpread2(_objectSpread2({},l),t),{},{sizes:r});return handleMethod(i)},maxHeight:function maxHeight(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=createSizesArray({width:1,height:t.max,min:t.min,step:t.step,sizes:_toConsumableArray(i)}),a=_objectSpread2(_objectSpread2(_objectSpread2({},l),t),{},{sizes:r});return handleMethod(a)},maxWidth:function maxWidth(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=createSizesArray({width:t.max,height:1,min:t.min,step:t.step,sizes:_toConsumableArray(o)}),a=_objectSpread2(_objectSpread2(_objectSpread2({},l),t),{},{sizes:r});return handleMethod(a)},test:function test(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=_objectSpread2(_objectSpread2({},l),t);r.sizes=_toConsumableArray(r.sizes);r.width&&r.height&&(r.sizes=[[r.width,r.height]]);return handleMethod(r)}};r.default=c},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.arrayByteLength=arrayByteLength;r.arraysToBytes=function arraysToBytes(t){var r=t.length;if(1===r&&t[0]instanceof Uint8Array)return t[0];for(var a=0,i=0;i<r;i++)a+=arrayByteLength(t[i]);for(var o=0,l=new Uint8Array(a),u=0;u<r;u++){var c=t[u];c instanceof Uint8Array||(c="string"==typeof c?stringToBytes(c):new Uint8Array(c));var d=c.byteLength;l.set(c,o);o+=d}return l};r.assert=assert;r.bytesToString=function bytesToString(t){assert(null!==t&&"object"===_typeof(t)&&void 0!==t.length,"Invalid argument for bytesToString");var r=t.length,a=8192;if(r<a)return String.fromCharCode.apply(null,t);for(var i=[],o=0;o<r;o+=a){var l=Math.min(o+a,r),u=t.subarray(o,l);i.push(String.fromCharCode.apply(null,u))}return i.join("")};r.createPromiseCapability=function createPromiseCapability(){var t=Object.create(null),r=!1;Object.defineProperty(t,"settled",{get:function get(){return r}});t.promise=new Promise((function(a,i){t.resolve=function(t){r=!0;a(t)};t.reject=function(t){r=!0;i(t)}}));return t};r.createValidAbsoluteUrl=function createValidAbsoluteUrl(t,r){if(!t)return null;try{var a=r?new URL(t,r):new URL(t);if(function _isValidProtocol(t){if(!t)return!1;switch(t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(a))return a}catch(t){}return null};r.encodeToXmlString=function encodeToXmlString(t){for(var r=[],a=0,i=0,o=t.length;i<o;i++){var l=t.codePointAt(i);if(32<=l&&l<=126){var u=k[l];if(u){a<i&&r.push(t.substring(a,i));r.push(u);a=i+1}}else{a<i&&r.push(t.substring(a,i));r.push("&#x".concat(l.toString(16).toUpperCase(),";"));l>55295&&(l<57344||l>65533)&&i++;a=i+1}}if(0===r.length)return t;a<t.length&&r.push(t.substring(a,t.length));return r.join("")};r.escapeString=function escapeString(t){return t.replace(/([()\\\n\r])/g,(function(t){return"\n"===t?"\\n":"\r"===t?"\\r":"\\".concat(t)}))};r.getModificationDate=function getModificationDate(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,r=[t.getUTCFullYear().toString(),(t.getUTCMonth()+1).toString().padStart(2,"0"),t.getUTCDate().toString().padStart(2,"0"),t.getUTCHours().toString().padStart(2,"0"),t.getUTCMinutes().toString().padStart(2,"0"),t.getUTCSeconds().toString().padStart(2,"0")];return r.join("")};r.getVerbosityLevel=function getVerbosityLevel(){return o};r.info=function info(t){o>=i.INFOS&&console.log("Info: ".concat(t))};r.isArrayBuffer=function isArrayBuffer(t){return"object"===_typeof(t)&&null!==t&&void 0!==t.byteLength};r.isArrayEqual=function isArrayEqual(t,r){if(t.length!==r.length)return!1;return t.every((function(t,a){return t===r[a]}))};r.isAscii=function isAscii(t){return/^[\x00-\x7F]*$/.test(t)};r.isBool=function isBool(t){return"boolean"==typeof t};r.isNum=function isNum(t){return"number"==typeof t};r.isSameOrigin=function isSameOrigin(t,r){var a;try{if(!(a=new URL(t)).origin||"null"===a.origin)return!1}catch(t){return!1}var i=new URL(r,a);return a.origin===i.origin};r.isString=function isString(t){return"string"==typeof t};r.objectFromEntries=function objectFromEntries(t){return Object.assign(Object.create(null),Object.fromEntries(t))};r.objectSize=function objectSize(t){return Object.keys(t).length};r.removeNullCharacters=function removeNullCharacters(t){if("string"!=typeof t){warn("The argument for removeNullCharacters must be a string.");return t}return t.replace(v,"")};r.setVerbosityLevel=function setVerbosityLevel(t){Number.isInteger(t)&&(o=t)};r.shadow=shadow;r.string32=function string32(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)};r.stringToBytes=stringToBytes;r.stringToPDFString=function stringToPDFString(t){var r=t.length,a=[];if("þ"===t[0]&&"ÿ"===t[1])for(var i=2;i<r;i+=2)a.push(String.fromCharCode(t.charCodeAt(i)<<8|t.charCodeAt(i+1)));else if("ÿ"===t[0]&&"þ"===t[1])for(var o=2;o<r;o+=2)a.push(String.fromCharCode(t.charCodeAt(o+1)<<8|t.charCodeAt(o)));else for(var l=0;l<r;++l){var u=C[t.charCodeAt(l)];a.push(u?String.fromCharCode(u):t.charAt(l))}return a.join("")};r.stringToUTF16BEString=function stringToUTF16BEString(t){for(var r=["þÿ"],a=0,i=t.length;a<i;a++){var o=t.charCodeAt(a);r.push(String.fromCharCode(o>>8&255));r.push(String.fromCharCode(255&o))}return r.join("")};r.stringToUTF8String=function stringToUTF8String(t){return decodeURIComponent(escape(t))};r.unreachable=unreachable;r.utf8StringToString=function utf8StringToString(t){return unescape(encodeURIComponent(t))};r.warn=warn;r.VerbosityLevel=r.Util=r.UNSUPPORTED_FEATURES=r.UnknownErrorException=r.UnexpectedResponseException=r.TextRenderingMode=r.StreamType=r.PermissionFlag=r.PasswordResponses=r.PasswordException=r.PageActionEventType=r.OPS=r.MissingPDFException=r.IsLittleEndianCached=r.IsEvalSupportedCached=r.InvalidPDFException=r.ImageKind=r.IDENTITY_MATRIX=r.FormatError=r.FontType=r.FONT_IDENTITY_MATRIX=r.DocumentActionEventType=r.createObjectURL=r.CMapCompressionType=r.BaseException=r.AnnotationType=r.AnnotationStateModelType=r.AnnotationReviewState=r.AnnotationReplyType=r.AnnotationMarkedState=r.AnnotationFlag=r.AnnotationFieldFlag=r.AnnotationBorderStyleType=r.AnnotationActionEventType=r.AbortException=void 0;a(36);function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){t.__proto__=r;return t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){return!r||"object"!==_typeof(r)&&"function"!=typeof r?function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):r}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}r.IDENTITY_MATRIX=[1,0,0,1,0,0];r.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0];r.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};r.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};r.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};r.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};r.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"};r.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"};r.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};r.AnnotationReplyType={GROUP:"Group",REPLY:"R"};r.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};r.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};r.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};r.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};r.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};r.PageActionEventType={O:"PageOpen",C:"PageClose"};r.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};r.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var i={ERRORS:0,WARNINGS:1,INFOS:5};r.VerbosityLevel=i;r.CMapCompressionType={NONE:0,BINARY:1,STREAM:2};r.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};r.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent"};r.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var o=i.WARNINGS;function warn(t){o>=i.WARNINGS&&console.log("Warning: ".concat(t))}function unreachable(t){throw new Error(t)}function assert(t,r){t||unreachable(r)}function shadow(t,r,a){Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!1});return a}var l=function BaseExceptionClosure(){function BaseException(t){this.constructor===BaseException&&unreachable("Cannot initialize BaseException.");this.message=t;this.name=this.constructor.name}BaseException.prototype=new Error;BaseException.constructor=BaseException;return BaseException}();r.BaseException=l;var u=function(t){_inherits(PasswordException,t);var r=_createSuper(PasswordException);function PasswordException(t,a){var i;_classCallCheck(this,PasswordException);(i=r.call(this,t)).code=a;return i}return PasswordException}(l);r.PasswordException=u;var c=function(t){_inherits(UnknownErrorException,t);var r=_createSuper(UnknownErrorException);function UnknownErrorException(t,a){var i;_classCallCheck(this,UnknownErrorException);(i=r.call(this,t)).details=a;return i}return UnknownErrorException}(l);r.UnknownErrorException=c;var d=function(t){_inherits(InvalidPDFException,t);var r=_createSuper(InvalidPDFException);function InvalidPDFException(){_classCallCheck(this,InvalidPDFException);return r.apply(this,arguments)}return InvalidPDFException}(l);r.InvalidPDFException=d;var h=function(t){_inherits(MissingPDFException,t);var r=_createSuper(MissingPDFException);function MissingPDFException(){_classCallCheck(this,MissingPDFException);return r.apply(this,arguments)}return MissingPDFException}(l);r.MissingPDFException=h;var p=function(t){_inherits(UnexpectedResponseException,t);var r=_createSuper(UnexpectedResponseException);function UnexpectedResponseException(t,a){var i;_classCallCheck(this,UnexpectedResponseException);(i=r.call(this,t)).status=a;return i}return UnexpectedResponseException}(l);r.UnexpectedResponseException=p;var m=function(t){_inherits(FormatError,t);var r=_createSuper(FormatError);function FormatError(){_classCallCheck(this,FormatError);return r.apply(this,arguments)}return FormatError}(l);r.FormatError=m;var g=function(t){_inherits(AbortException,t);var r=_createSuper(AbortException);function AbortException(){_classCallCheck(this,AbortException);return r.apply(this,arguments)}return AbortException}(l);r.AbortException=g;var v=/\x00/g;function stringToBytes(t){assert("string"==typeof t,"Invalid argument for stringToBytes");for(var r=t.length,a=new Uint8Array(r),i=0;i<r;++i)a[i]=255&t.charCodeAt(i);return a}function arrayByteLength(t){if(void 0!==t.length)return t.length;assert(void 0!==t.byteLength,"arrayByteLength - invalid argument.");return t.byteLength}var y={get value(){return shadow(this,"value",function isLittleEndian(){var t=new Uint8Array(4);t[0]=1;return 1===new Uint32Array(t.buffer,0,1)[0]}())}};r.IsLittleEndianCached=y;var b={get value(){return shadow(this,"value",function isEvalSupported(){try{new Function("");return!0}catch(t){return!1}}())}};r.IsEvalSupportedCached=b;var S=function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Array(256).keys()).map((function(t){return t.toString(16).padStart(2,"0")})),w=function(){function Util(){_classCallCheck(this,Util)}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(Util,null,[{key:"makeHexColor",value:function makeHexColor(t,r,a){return"#".concat(S[t]).concat(S[r]).concat(S[a])}},{key:"transform",value:function transform(t,r){return[t[0]*r[0]+t[2]*r[1],t[1]*r[0]+t[3]*r[1],t[0]*r[2]+t[2]*r[3],t[1]*r[2]+t[3]*r[3],t[0]*r[4]+t[2]*r[5]+t[4],t[1]*r[4]+t[3]*r[5]+t[5]]}},{key:"applyTransform",value:function applyTransform(t,r){return[t[0]*r[0]+t[1]*r[2]+r[4],t[0]*r[1]+t[1]*r[3]+r[5]]}},{key:"applyInverseTransform",value:function applyInverseTransform(t,r){var a=r[0]*r[3]-r[1]*r[2];return[(t[0]*r[3]-t[1]*r[2]+r[2]*r[5]-r[4]*r[3])/a,(-t[0]*r[1]+t[1]*r[0]+r[4]*r[1]-r[5]*r[0])/a]}},{key:"getAxialAlignedBoundingBox",value:function getAxialAlignedBoundingBox(t,r){var a=Util.applyTransform(t,r),i=Util.applyTransform(t.slice(2,4),r),o=Util.applyTransform([t[0],t[3]],r),l=Util.applyTransform([t[2],t[1]],r);return[Math.min(a[0],i[0],o[0],l[0]),Math.min(a[1],i[1],o[1],l[1]),Math.max(a[0],i[0],o[0],l[0]),Math.max(a[1],i[1],o[1],l[1])]}},{key:"inverseTransform",value:function inverseTransform(t){var r=t[0]*t[3]-t[1]*t[2];return[t[3]/r,-t[1]/r,-t[2]/r,t[0]/r,(t[2]*t[5]-t[4]*t[3])/r,(t[4]*t[1]-t[5]*t[0])/r]}},{key:"apply3dTransform",value:function apply3dTransform(t,r){return[t[0]*r[0]+t[1]*r[1]+t[2]*r[2],t[3]*r[0]+t[4]*r[1]+t[5]*r[2],t[6]*r[0]+t[7]*r[1]+t[8]*r[2]]}},{key:"singularValueDecompose2dScale",value:function singularValueDecompose2dScale(t){var r=[t[0],t[2],t[1],t[3]],a=t[0]*r[0]+t[1]*r[2],i=t[0]*r[1]+t[1]*r[3],o=t[2]*r[0]+t[3]*r[2],l=t[2]*r[1]+t[3]*r[3],u=(a+l)/2,c=Math.sqrt((a+l)*(a+l)-4*(a*l-o*i))/2,d=u+c||1,h=u-c||1;return[Math.sqrt(d),Math.sqrt(h)]}},{key:"normalizeRect",value:function normalizeRect(t){var r=t.slice(0);if(t[0]>t[2]){r[0]=t[2];r[2]=t[0]}if(t[1]>t[3]){r[1]=t[3];r[3]=t[1]}return r}},{key:"intersect",value:function intersect(t,r){function compare(t,r){return t-r}var a=[t[0],t[2],r[0],r[2]].sort(compare),i=[t[1],t[3],r[1],r[3]].sort(compare),o=[];t=Util.normalizeRect(t);r=Util.normalizeRect(r);if(!(a[0]===t[0]&&a[1]===r[0]||a[0]===r[0]&&a[1]===t[0]))return null;o[0]=a[1];o[2]=a[2];if(!(i[0]===t[1]&&i[1]===r[1]||i[0]===r[1]&&i[1]===t[1]))return null;o[1]=i[1];o[3]=i[2];return o}}]);return Util}();r.Util=w;var C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];var P=function createObjectURLClosure(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function createObjectURL(r,a){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!i&&URL.createObjectURL){var o=new Blob([r],{type:a});return URL.createObjectURL(o)}for(var l="data:".concat(a,";base64,"),u=0,c=r.length;u<c;u+=3){var d=255&r[u],h=255&r[u+1],p=255&r[u+2],m=d>>2,g=(3&d)<<4|h>>4,v=u+1<c?(15&h)<<2|p>>6:64,y=u+2<c?63&p:64;l+=t[m]+t[g]+t[v]+t[y]}return l}}();r.createObjectURL=P;var k={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"}},(t,r,a)=>{"use strict";if("undefined"==typeof globalThis||!globalThis._pdfjsCompatibilityChecked){"undefined"!=typeof globalThis&&globalThis.Math===Math||(globalThis=a(37));globalThis._pdfjsCompatibilityChecked=!0;!function checkNodeBtoa(){globalThis.btoa}();!function checkNodeAtob(){globalThis.atob}();!function checkObjectFromEntries(){Object.fromEntries||a(82)}();!function checkPromise(){globalThis.Promise.allSettled||(globalThis.Promise=a(112))}();!function checkURL(){globalThis.URL=a(141)}();!function checkReadableStream(){var t=!1;if("undefined"!=typeof ReadableStream)try{new ReadableStream({start:function start(t){t.close()}});t=!0}catch(t){}t||(globalThis.ReadableStream=a(151).ReadableStream)}();!function checkStringPadStart(){String.prototype.padStart||a(152)}();!function checkStringPadEnd(){String.prototype.padEnd||a(158)}();!function checkObjectValues(){Object.values||(Object.values=a(160))}();!function checkObjectEntries(){Object.entries||(Object.entries=a(163))}()}},(t,r,a)=>{a(38);t.exports=a(40)},(t,r,a)=>{a(39)({global:!0},{globalThis:a(40)})},(t,r,a)=>{var i=a(40),o=a(41).f,l=a(55),u=a(58),c=a(59),d=a(69),h=a(81);t.exports=function(t,r){var a,p,m,g,v,y=t.target,b=t.global,S=t.stat;if(a=b?i:S?i[y]||c(y,{}):(i[y]||{}).prototype)for(p in r){g=r[p];m=t.noTargetGet?(v=o(a,p))&&v.value:a[p];if(!h(b?p:y+(S?".":"#")+p,t.forced)&&void 0!==m){if(typeof g==typeof m)continue;d(g,m)}(t.sham||m&&m.sham)&&l(g,"sham",!0);u(a,p,g,t)}}},t=>{var check=function(t){return t&&t.Math==Math&&t};t.exports=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof global&&global)||function(){return this}()||Function("return this")()},(t,r,a)=>{var i=a(42),o=a(44),l=a(45),u=a(46),c=a(50),d=a(52),h=a(53),p=Object.getOwnPropertyDescriptor;r.f=i?p:function getOwnPropertyDescriptor(t,r){t=u(t);r=c(r,!0);if(h)try{return p(t,r)}catch(t){}if(d(t,r))return l(!o.f.call(t,r),t[r])}},(t,r,a)=>{var i=a(43);t.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},(t,r)=>{"use strict";var a={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!a.call({1:2},1);r.f=o?function propertyIsEnumerable(t){var r=i(this,t);return!!r&&r.enumerable}:a},t=>{t.exports=function(t,r){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:r}}},(t,r,a)=>{var i=a(47),o=a(49);t.exports=function(t){return i(o(t))}},(t,r,a)=>{var i=a(43),o=a(48),l="".split;t.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?l.call(t,""):Object(t)}:Object},t=>{var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},(t,r,a)=>{var i=a(51);t.exports=function(t,r){if(!i(t))return t;var a,o;if(r&&"function"==typeof(a=t.toString)&&!i(o=a.call(t)))return o;if("function"==typeof(a=t.valueOf)&&!i(o=a.call(t)))return o;if(!r&&"function"==typeof(a=t.toString)&&!i(o=a.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},t=>{var r={}.hasOwnProperty;t.exports=function(t,a){return r.call(t,a)}},(t,r,a)=>{var i=a(42),o=a(43),l=a(54);t.exports=!i&&!o((function(){return 7!=Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a}))},(t,r,a)=>{var i=a(40),o=a(51),l=i.document,u=o(l)&&o(l.createElement);t.exports=function(t){return u?l.createElement(t):{}}},(t,r,a)=>{var i=a(42),o=a(56),l=a(45);t.exports=i?function(t,r,a){return o.f(t,r,l(1,a))}:function(t,r,a){t[r]=a;return t}},(t,r,a)=>{var i=a(42),o=a(53),l=a(57),u=a(50),c=Object.defineProperty;r.f=i?c:function defineProperty(t,r,a){l(t);r=u(r,!0);l(a);if(o)try{return c(t,r,a)}catch(t){}if("get"in a||"set"in a)throw TypeError("Accessors not supported");"value"in a&&(t[r]=a.value);return t}},(t,r,a)=>{var i=a(51);t.exports=function(t){if(!i(t))throw TypeError(String(t)+" is not an object");return t}},(t,r,a)=>{var i=a(40),o=a(55),l=a(52),u=a(59),c=a(60),d=a(62),h=d.get,p=d.enforce,m=String(String).split("String");(t.exports=function(t,r,a,c){var d,h=!!c&&!!c.unsafe,g=!!c&&!!c.enumerable,v=!!c&&!!c.noTargetGet;if("function"==typeof a){"string"!=typeof r||l(a,"name")||o(a,"name",r);(d=p(a)).source||(d.source=m.join("string"==typeof r?r:""))}if(t!==i){h?!v&&t[r]&&(g=!0):delete t[r];g?t[r]=a:o(t,r,a)}else g?t[r]=a:u(r,a)})(Function.prototype,"toString",(function toString(){return"function"==typeof this&&h(this).source||c(this)}))},(t,r,a)=>{var i=a(40),o=a(55);t.exports=function(t,r){try{o(i,t,r)}catch(a){i[t]=r}return r}},(t,r,a)=>{var i=a(61),o=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(t){return o.call(t)});t.exports=i.inspectSource},(t,r,a)=>{var i=a(40),o=a(59),l="__core-js_shared__",u=i[l]||o(l,{});t.exports=u},(t,r,a)=>{var i,o,l,u=a(63),c=a(40),d=a(51),h=a(55),p=a(52),m=a(61),g=a(64),v=a(68),y=c.WeakMap;if(u){var b=m.state||(m.state=new y),S=b.get,w=b.has,C=b.set;i=function(t,r){r.facade=t;C.call(b,t,r);return r};o=function(t){return S.call(b,t)||{}};l=function(t){return w.call(b,t)}}else{var P=g("state");v[P]=!0;i=function(t,r){r.facade=t;h(t,P,r);return r};o=function(t){return p(t,P)?t[P]:{}};l=function(t){return p(t,P)}}t.exports={set:i,get:o,has:l,enforce:function(t){return l(t)?o(t):i(t,{})},getterFor:function(t){return function(r){var a;if(!d(r)||(a=o(r)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return a}}}},(t,r,a)=>{var i=a(40),o=a(60),l=i.WeakMap;t.exports="function"==typeof l&&/native code/.test(o(l))},(t,r,a)=>{var i=a(65),o=a(67),l=i("keys");t.exports=function(t){return l[t]||(l[t]=o(t))}},(t,r,a)=>{var i=a(66),o=a(61);(t.exports=function(t,r){return o[t]||(o[t]=void 0!==r?r:{})})("versions",[]).push({version:"3.8.3",mode:i?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},t=>{t.exports=!1},t=>{var r=0,a=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++r+a).toString(36)}},t=>{t.exports={}},(t,r,a)=>{var i=a(52),o=a(70),l=a(41),u=a(56);t.exports=function(t,r){for(var a=o(r),c=u.f,d=l.f,h=0;h<a.length;h++){var p=a[h];i(t,p)||c(t,p,d(r,p))}}},(t,r,a)=>{var i=a(71),o=a(73),l=a(80),u=a(57);t.exports=i("Reflect","ownKeys")||function ownKeys(t){var r=o.f(u(t)),a=l.f;return a?r.concat(a(t)):r}},(t,r,a)=>{var i=a(72),o=a(40),aFunction=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,r){return arguments.length<2?aFunction(i[t])||aFunction(o[t]):i[t]&&i[t][r]||o[t]&&o[t][r]}},(t,r,a)=>{var i=a(40);t.exports=i},(t,r,a)=>{var i=a(74),o=a(79).concat("length","prototype");r.f=Object.getOwnPropertyNames||function getOwnPropertyNames(t){return i(t,o)}},(t,r,a)=>{var i=a(52),o=a(46),l=a(75).indexOf,u=a(68);t.exports=function(t,r){var a,c=o(t),d=0,h=[];for(a in c)!i(u,a)&&i(c,a)&&h.push(a);for(;r.length>d;)i(c,a=r[d++])&&(~l(h,a)||h.push(a));return h}},(t,r,a)=>{var i=a(46),o=a(76),l=a(78),createMethod=function(t){return function(r,a,u){var c,d=i(r),h=o(d.length),p=l(u,h);if(t&&a!=a){for(;h>p;)if((c=d[p++])!=c)return!0}else for(;h>p;p++)if((t||p in d)&&d[p]===a)return t||p||0;return!t&&-1}};t.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},(t,r,a)=>{var i=a(77),o=Math.min;t.exports=function(t){return t>0?o(i(t),9007199254740991):0}},t=>{var r=Math.ceil,a=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?a:r)(t)}},(t,r,a)=>{var i=a(77),o=Math.max,l=Math.min;t.exports=function(t,r){var a=i(t);return a<0?o(a+r,0):l(a,r)}},t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(t,r)=>{r.f=Object.getOwnPropertySymbols},(t,r,a)=>{var i=a(43),o=/#|\.prototype\./,isForced=function(t,r){var a=u[l(t)];return a==d||a!=c&&("function"==typeof r?i(r):!!r)},l=isForced.normalize=function(t){return String(t).replace(o,".").toLowerCase()},u=isForced.data={},c=isForced.NATIVE="N",d=isForced.POLYFILL="P";t.exports=isForced},(t,r,a)=>{a(83);a(102);var i=a(72);t.exports=i.Object.fromEntries},(t,r,a)=>{"use strict";var i=a(46),o=a(84),l=a(92),u=a(62),c=a(93),d="Array Iterator",h=u.set,p=u.getterFor(d);t.exports=c(Array,"Array",(function(t,r){h(this,{type:d,target:i(t),index:0,kind:r})}),(function(){var t=p(this),r=t.target,a=t.kind,i=t.index++;if(!r||i>=r.length){t.target=void 0;return{value:void 0,done:!0}}return"keys"==a?{value:i,done:!1}:"values"==a?{value:r[i],done:!1}:{value:[i,r[i]],done:!1}}),"values");l.Arguments=l.Array;o("keys");o("values");o("entries")},(t,r,a)=>{var i=a(85),o=a(88),l=a(56),u=i("unscopables"),c=Array.prototype;null==c[u]&&l.f(c,u,{configurable:!0,value:o(null)});t.exports=function(t){c[u][t]=!0}},(t,r,a)=>{var i=a(40),o=a(65),l=a(52),u=a(67),c=a(86),d=a(87),h=o("wks"),p=i.Symbol,m=d?p:p&&p.withoutSetter||u;t.exports=function(t){l(h,t)||(c&&l(p,t)?h[t]=p[t]:h[t]=m("Symbol."+t));return h[t]}},(t,r,a)=>{var i=a(43);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},(t,r,a)=>{var i=a(86);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},(t,r,a)=>{var i,o=a(57),l=a(89),u=a(79),c=a(68),d=a(91),h=a(54),p=a(64),m=p("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(t){return"<script>"+t+"</"+"script>"},NullProtoObject=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(t){}NullProtoObject=i?function(t){t.write(scriptTag(""));t.close();var r=t.parentWindow.Object;t=null;return r}(i):function(){var t,r=h("iframe");r.style.display="none";d.appendChild(r);r.src=String("javascript:");(t=r.contentWindow.document).open();t.write(scriptTag("document.F=Object"));t.close();return t.F}();for(var t=u.length;t--;)delete NullProtoObject.prototype[u[t]];return NullProtoObject()};c[m]=!0;t.exports=Object.create||function create(t,r){var a;if(null!==t){EmptyConstructor.prototype=o(t);a=new EmptyConstructor;EmptyConstructor.prototype=null;a[m]=t}else a=NullProtoObject();return void 0===r?a:l(a,r)}},(t,r,a)=>{var i=a(42),o=a(56),l=a(57),u=a(90);t.exports=i?Object.defineProperties:function defineProperties(t,r){l(t);for(var a,i=u(r),c=i.length,d=0;c>d;)o.f(t,a=i[d++],r[a]);return t}},(t,r,a)=>{var i=a(74),o=a(79);t.exports=Object.keys||function keys(t){return i(t,o)}},(t,r,a)=>{var i=a(71);t.exports=i("document","documentElement")},t=>{t.exports={}},(t,r,a)=>{"use strict";var i=a(39),o=a(94),l=a(96),u=a(100),c=a(99),d=a(55),h=a(58),p=a(85),m=a(66),g=a(92),v=a(95),y=v.IteratorPrototype,b=v.BUGGY_SAFARI_ITERATORS,S=p("iterator"),w="keys",C="values",P="entries",returnThis=function(){return this};t.exports=function(t,r,a,p,v,k,R){o(a,r,p);var A,T,E,getIterationMethod=function(t){if(t===v&&D)return D;if(!b&&t in O)return O[t];switch(t){case w:return function keys(){return new a(this,t)};case C:return function values(){return new a(this,t)};case P:return function entries(){return new a(this,t)}}return function(){return new a(this)}},x=r+" Iterator",I=!1,O=t.prototype,L=O[S]||O["@@iterator"]||v&&O[v],D=!b&&L||getIterationMethod(v),M="Array"==r&&O.entries||L;if(M){A=l(M.call(new t));if(y!==Object.prototype&&A.next){m||l(A)===y||(u?u(A,y):"function"!=typeof A[S]&&d(A,S,returnThis));c(A,x,!0,!0);m&&(g[x]=returnThis)}}if(v==C&&L&&L.name!==C){I=!0;D=function values(){return L.call(this)}}m&&!R||O[S]===D||d(O,S,D);g[r]=D;if(v){T={values:getIterationMethod(C),keys:k?D:getIterationMethod(w),entries:getIterationMethod(P)};if(R)for(E in T)(b||I||!(E in O))&&h(O,E,T[E]);else i({target:r,proto:!0,forced:b||I},T)}return T}},(t,r,a)=>{"use strict";var i=a(95).IteratorPrototype,o=a(88),l=a(45),u=a(99),c=a(92),returnThis=function(){return this};t.exports=function(t,r,a){var d=r+" Iterator";t.prototype=o(i,{next:l(1,a)});u(t,d,!1,!0);c[d]=returnThis;return t}},(t,r,a)=>{"use strict";var i,o,l,u=a(43),c=a(96),d=a(55),h=a(52),p=a(85),m=a(66),g=p("iterator"),v=!1;[].keys&&("next"in(l=[].keys())?(o=c(c(l)))!==Object.prototype&&(i=o):v=!0);var y=null==i||u((function(){var t={};return i[g].call(t)!==t}));y&&(i={});m&&!y||h(i,g)||d(i,g,(function(){return this}));t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:v}},(t,r,a)=>{var i=a(52),o=a(97),l=a(64),u=a(98),c=l("IE_PROTO"),d=Object.prototype;t.exports=u?Object.getPrototypeOf:function(t){t=o(t);return i(t,c)?t[c]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?d:null}},(t,r,a)=>{var i=a(49);t.exports=function(t){return Object(i(t))}},(t,r,a)=>{var i=a(43);t.exports=!i((function(){function F(){}F.prototype.constructor=null;return Object.getPrototypeOf(new F)!==F.prototype}))},(t,r,a)=>{var i=a(56).f,o=a(52),l=a(85)("toStringTag");t.exports=function(t,r,a){t&&!o(t=a?t:t.prototype,l)&&i(t,l,{configurable:!0,value:r})}},(t,r,a)=>{var i=a(57),o=a(101);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,r=!1,a={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(a,[]);r=a instanceof Array}catch(t){}return function setPrototypeOf(a,l){i(a);o(l);r?t.call(a,l):a.__proto__=l;return a}}():void 0)},(t,r,a)=>{var i=a(51);t.exports=function(t){if(!i(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},(t,r,a)=>{var i=a(39),o=a(103),l=a(111);i({target:"Object",stat:!0},{fromEntries:function fromEntries(t){var r={};o(t,(function(t,a){l(r,t,a)}),{AS_ENTRIES:!0});return r}})},(t,r,a)=>{var i=a(57),o=a(104),l=a(76),u=a(105),c=a(107),d=a(110),Result=function(t,r){this.stopped=t;this.result=r};t.exports=function(t,r,a){var h,p,m,g,v,y,b,S=a&&a.that,w=!(!a||!a.AS_ENTRIES),C=!(!a||!a.IS_ITERATOR),P=!(!a||!a.INTERRUPTED),k=u(r,S,1+w+P),stop=function(t){h&&d(h);return new Result(!0,t)},callFn=function(t){if(w){i(t);return P?k(t[0],t[1],stop):k(t[0],t[1])}return P?k(t,stop):k(t)};if(C)h=t;else{if("function"!=typeof(p=c(t)))throw TypeError("Target is not iterable");if(o(p)){for(m=0,g=l(t.length);g>m;m++)if((v=callFn(t[m]))&&v instanceof Result)return v;return new Result(!1)}h=p.call(t)}y=h.next;for(;!(b=y.call(h)).done;){try{v=callFn(b.value)}catch(t){d(h);throw t}if("object"==typeof v&&v&&v instanceof Result)return v}return new Result(!1)}},(t,r,a)=>{var i=a(85),o=a(92),l=i("iterator"),u=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||u[l]===t)}},(t,r,a)=>{var i=a(106);t.exports=function(t,r,a){i(t);if(void 0===r)return t;switch(a){case 0:return function(){return t.call(r)};case 1:return function(a){return t.call(r,a)};case 2:return function(a,i){return t.call(r,a,i)};case 3:return function(a,i,o){return t.call(r,a,i,o)}}return function(){return t.apply(r,arguments)}}},t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},(t,r,a)=>{var i=a(108),o=a(92),l=a(85)("iterator");t.exports=function(t){if(null!=t)return t[l]||t["@@iterator"]||o[i(t)]}},(t,r,a)=>{var i=a(109),o=a(48),l=a(85)("toStringTag"),u="Arguments"==o(function(){return arguments}());t.exports=i?o:function(t){var r,a,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(a=function(t,r){try{return t[r]}catch(t){}}(r=Object(t),l))?a:u?o(r):"Object"==(i=o(r))&&"function"==typeof r.callee?"Arguments":i}},(t,r,a)=>{var i={};i[a(85)("toStringTag")]="z";t.exports="[object z]"===String(i)},(t,r,a)=>{var i=a(57);t.exports=function(t){var r=t.return;if(void 0!==r)return i(r.call(t)).value}},(t,r,a)=>{"use strict";var i=a(50),o=a(56),l=a(45);t.exports=function(t,r,a){var u=i(r);u in t?o.f(t,u,l(0,a)):t[u]=a}},(t,r,a)=>{a(113);a(114);a(116);a(134);a(135);a(136);a(137);a(139);var i=a(72);t.exports=i.Promise},(t,r,a)=>{"use strict";var i=a(39),o=a(96),l=a(100),u=a(88),c=a(55),d=a(45),h=a(103),p=function AggregateError(t,r){var a=this;if(!(a instanceof p))return new p(t,r);l&&(a=l(new Error(void 0),o(a)));void 0!==r&&c(a,"message",String(r));var i=[];h(t,i.push,{that:i});c(a,"errors",i);return a};p.prototype=u(Error.prototype,{constructor:d(5,p),message:d(5,""),name:d(5,"AggregateError")});i({global:!0},{AggregateError:p})},(t,r,a)=>{var i=a(109),o=a(58),l=a(115);i||o(Object.prototype,"toString",l,{unsafe:!0})},(t,r,a)=>{"use strict";var i=a(109),o=a(108);t.exports=i?{}.toString:function toString(){return"[object "+o(this)+"]"}},(t,r,a)=>{"use strict";var i,o,l,u,c=a(39),d=a(66),h=a(40),p=a(71),m=a(117),g=a(58),v=a(118),y=a(99),b=a(119),S=a(51),w=a(106),C=a(120),P=a(60),k=a(103),R=a(121),A=a(122),T=a(123).set,E=a(127),x=a(129),I=a(131),O=a(130),L=a(132),D=a(62),M=a(81),B=a(85),N=a(126),W=a(133),j=B("species"),V="Promise",U=D.get,q=D.set,G=D.getterFor(V),z=m,H=h.TypeError,Y=h.document,Q=h.process,X=p("fetch"),K=O.f,$=K,J=!!(Y&&Y.createEvent&&h.dispatchEvent),Z="function"==typeof PromiseRejectionEvent,ee="unhandledrejection",te=M(V,(function(){if(!(P(z)!==String(z))){if(66===W)return!0;if(!N&&!Z)return!0}if(d&&!z.prototype.finally)return!0;if(W>=51&&/native code/.test(z))return!1;var t=z.resolve(1),FakePromise=function(t){t((function(){}),(function(){}))};(t.constructor={})[j]=FakePromise;return!(t.then((function(){}))instanceof FakePromise)})),re=te||!R((function(t){z.all(t).catch((function(){}))})),isThenable=function(t){var r;return!(!S(t)||"function"!=typeof(r=t.then))&&r},notify=function(t,r){if(!t.notified){t.notified=!0;var a=t.reactions;E((function(){for(var i=t.value,o=1==t.state,l=0;a.length>l;){var u,c,d,h=a[l++],p=o?h.ok:h.fail,m=h.resolve,g=h.reject,v=h.domain;try{if(p){if(!o){2===t.rejection&&onHandleUnhandled(t);t.rejection=1}if(!0===p)u=i;else{v&&v.enter();u=p(i);if(v){v.exit();d=!0}}u===h.promise?g(H("Promise-chain cycle")):(c=isThenable(u))?c.call(u,m,g):m(u)}else g(i)}catch(t){v&&!d&&v.exit();g(t)}}t.reactions=[];t.notified=!1;r&&!t.rejection&&onUnhandled(t)}))}},dispatchEvent=function(t,r,a){var i,o;if(J){(i=Y.createEvent("Event")).promise=r;i.reason=a;i.initEvent(t,!1,!0);h.dispatchEvent(i)}else i={promise:r,reason:a};!Z&&(o=h["on"+t])?o(i):t===ee&&I("Unhandled promise rejection",a)},onUnhandled=function(t){T.call(h,(function(){var r,a=t.facade,i=t.value;if(isUnhandled(t)){r=L((function(){N?Q.emit("unhandledRejection",i,a):dispatchEvent(ee,a,i)}));t.rejection=N||isUnhandled(t)?2:1;if(r.error)throw r.value}}))},isUnhandled=function(t){return 1!==t.rejection&&!t.parent},onHandleUnhandled=function(t){T.call(h,(function(){var r=t.facade;N?Q.emit("rejectionHandled",r):dispatchEvent("rejectionhandled",r,t.value)}))},bind=function(t,r,a){return function(i){t(r,i,a)}},internalReject=function(t,r,a){if(!t.done){t.done=!0;a&&(t=a);t.value=r;t.state=2;notify(t,!0)}},internalResolve=function(t,r,a){if(!t.done){t.done=!0;a&&(t=a);try{if(t.facade===r)throw H("Promise can't be resolved itself");var i=isThenable(r);if(i)E((function(){var a={done:!1};try{i.call(r,bind(internalResolve,a,t),bind(internalReject,a,t))}catch(r){internalReject(a,r,t)}}));else{t.value=r;t.state=1;notify(t,!1)}}catch(r){internalReject({done:!1},r,t)}}};if(te){z=function Promise(t){C(this,z,V);w(t);i.call(this);var r=U(this);try{t(bind(internalResolve,r),bind(internalReject,r))}catch(t){internalReject(r,t)}};(i=function Promise(t){q(this,{type:V,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=v(z.prototype,{then:function then(t,r){var a=G(this),i=K(A(this,z));i.ok="function"!=typeof t||t;i.fail="function"==typeof r&&r;i.domain=N?Q.domain:void 0;a.parent=!0;a.reactions.push(i);0!=a.state&&notify(a,!1);return i.promise},catch:function(t){return this.then(void 0,t)}});o=function(){var t=new i,r=U(t);this.promise=t;this.resolve=bind(internalResolve,r);this.reject=bind(internalReject,r)};O.f=K=function(t){return t===z||t===l?new o(t):$(t)};if(!d&&"function"==typeof m){u=m.prototype.then;g(m.prototype,"then",(function then(t,r){var a=this;return new z((function(t,r){u.call(a,t,r)})).then(t,r)}),{unsafe:!0});"function"==typeof X&&c({global:!0,enumerable:!0,forced:!0},{fetch:function fetch(t){return x(z,X.apply(h,arguments))}})}}c({global:!0,wrap:!0,forced:te},{Promise:z});y(z,V,!1,!0);b(V);l=p(V);c({target:V,stat:!0,forced:te},{reject:function reject(t){var r=K(this);r.reject.call(void 0,t);return r.promise}});c({target:V,stat:!0,forced:d||te},{resolve:function resolve(t){return x(d&&this===l?z:this,t)}});c({target:V,stat:!0,forced:re},{all:function all(t){var r=this,a=K(r),i=a.resolve,o=a.reject,l=L((function(){var a=w(r.resolve),l=[],u=0,c=1;k(t,(function(t){var d=u++,h=!1;l.push(void 0);c++;a.call(r,t).then((function(t){if(!h){h=!0;l[d]=t;--c||i(l)}}),o)}));--c||i(l)}));l.error&&o(l.value);return a.promise},race:function race(t){var r=this,a=K(r),i=a.reject,o=L((function(){var o=w(r.resolve);k(t,(function(t){o.call(r,t).then(a.resolve,i)}))}));o.error&&i(o.value);return a.promise}})},(t,r,a)=>{var i=a(40);t.exports=i.Promise},(t,r,a)=>{var i=a(58);t.exports=function(t,r,a){for(var o in r)i(t,o,r[o],a);return t}},(t,r,a)=>{"use strict";var i=a(71),o=a(56),l=a(85),u=a(42),c=l("species");t.exports=function(t){var r=i(t),a=o.f;u&&r&&!r[c]&&a(r,c,{configurable:!0,get:function(){return this}})}},t=>{t.exports=function(t,r,a){if(!(t instanceof r))throw TypeError("Incorrect "+(a?a+" ":"")+"invocation");return t}},(t,r,a)=>{var i=a(85)("iterator"),o=!1;try{var l=0,u={next:function(){return{done:!!l++}},return:function(){o=!0}};u[i]=function(){return this};Array.from(u,(function(){throw 2}))}catch(t){}t.exports=function(t,r){if(!r&&!o)return!1;var a=!1;try{var l={};l[i]=function(){return{next:function(){return{done:a=!0}}}};t(l)}catch(t){}return a}},(t,r,a)=>{var i=a(57),o=a(106),l=a(85)("species");t.exports=function(t,r){var a,u=i(t).constructor;return void 0===u||null==(a=i(u)[l])?r:o(a)}},(t,r,a)=>{var i,o,l,u=a(40),c=a(43),d=a(105),h=a(91),p=a(54),m=a(124),g=a(126),v=u.location,y=u.setImmediate,b=u.clearImmediate,S=u.process,w=u.MessageChannel,C=u.Dispatch,P=0,k={},R="onreadystatechange",run=function(t){if(k.hasOwnProperty(t)){var r=k[t];delete k[t];r()}},runner=function(t){return function(){run(t)}},listener=function(t){run(t.data)},post=function(t){u.postMessage(t+"",v.protocol+"//"+v.host)};if(!y||!b){y=function setImmediate(t){for(var r=[],a=1;arguments.length>a;)r.push(arguments[a++]);k[++P]=function(){("function"==typeof t?t:Function(t)).apply(void 0,r)};i(P);return P};b=function clearImmediate(t){delete k[t]};if(g)i=function(t){S.nextTick(runner(t))};else if(C&&C.now)i=function(t){C.now(runner(t))};else if(w&&!m){l=(o=new w).port2;o.port1.onmessage=listener;i=d(l.postMessage,l,1)}else if(u.addEventListener&&"function"==typeof postMessage&&!u.importScripts&&v&&"file:"!==v.protocol&&!c(post)){i=post;u.addEventListener("message",listener,!1)}else i=R in p("script")?function(t){h.appendChild(p("script")).onreadystatechange=function(){h.removeChild(this);run(t)}}:function(t){setTimeout(runner(t),0)}}t.exports={set:y,clear:b}},(t,r,a)=>{var i=a(125);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(i)},(t,r,a)=>{var i=a(71);t.exports=i("navigator","userAgent")||""},(t,r,a)=>{var i=a(48),o=a(40);t.exports="process"==i(o.process)},(t,r,a)=>{var i,o,l,u,c,d,h,p,m=a(40),g=a(41).f,v=a(123).set,y=a(124),b=a(128),S=a(126),w=m.MutationObserver||m.WebKitMutationObserver,C=m.document,P=m.process,k=m.Promise,R=g(m,"queueMicrotask"),A=R&&R.value;if(!A){i=function(){var t,r;S&&(t=P.domain)&&t.exit();for(;o;){r=o.fn;o=o.next;try{r()}catch(t){o?u():l=void 0;throw t}}l=void 0;t&&t.enter()};if(y||S||b||!w||!C)if(k&&k.resolve){h=k.resolve(void 0);p=h.then;u=function(){p.call(h,i)}}else u=S?function(){P.nextTick(i)}:function(){v.call(m,i)};else{c=!0;d=C.createTextNode("");new w(i).observe(d,{characterData:!0});u=function(){d.data=c=!c}}}t.exports=A||function(t){var r={fn:t,next:void 0};l&&(l.next=r);if(!o){o=r;u()}l=r}},(t,r,a)=>{var i=a(125);t.exports=/web0s(?!.*chrome)/i.test(i)},(t,r,a)=>{var i=a(57),o=a(51),l=a(130);t.exports=function(t,r){i(t);if(o(r)&&r.constructor===t)return r;var a=l.f(t);(0,a.resolve)(r);return a.promise}},(t,r,a)=>{"use strict";var i=a(106),PromiseCapability=function(t){var r,a;this.promise=new t((function(t,i){if(void 0!==r||void 0!==a)throw TypeError("Bad Promise constructor");r=t;a=i}));this.resolve=i(r);this.reject=i(a)};t.exports.f=function(t){return new PromiseCapability(t)}},(t,r,a)=>{var i=a(40);t.exports=function(t,r){var a=i.console;a&&a.error&&(1===arguments.length?a.error(t):a.error(t,r))}},t=>{t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},(t,r,a)=>{var i,o,l=a(40),u=a(125),c=l.process,d=c&&c.versions,h=d&&d.v8;h?o=(i=h.split("."))[0]+i[1]:u&&(!(i=u.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=u.match(/Chrome\/(\d+)/))&&(o=i[1]);t.exports=o&&+o},(t,r,a)=>{"use strict";var i=a(39),o=a(106),l=a(130),u=a(132),c=a(103);i({target:"Promise",stat:!0},{allSettled:function allSettled(t){var r=this,a=l.f(r),i=a.resolve,d=a.reject,h=u((function(){var a=o(r.resolve),l=[],u=0,d=1;c(t,(function(t){var o=u++,c=!1;l.push(void 0);d++;a.call(r,t).then((function(t){if(!c){c=!0;l[o]={status:"fulfilled",value:t};--d||i(l)}}),(function(t){if(!c){c=!0;l[o]={status:"rejected",reason:t};--d||i(l)}}))}));--d||i(l)}));h.error&&d(h.value);return a.promise}})},(t,r,a)=>{"use strict";var i=a(39),o=a(106),l=a(71),u=a(130),c=a(132),d=a(103),h="No one promise resolved";i({target:"Promise",stat:!0},{any:function any(t){var r=this,a=u.f(r),i=a.resolve,p=a.reject,m=c((function(){var a=o(r.resolve),u=[],c=0,m=1,g=!1;d(t,(function(t){var o=c++,d=!1;u.push(void 0);m++;a.call(r,t).then((function(t){if(!d&&!g){g=!0;i(t)}}),(function(t){if(!d&&!g){d=!0;u[o]=t;--m||p(new(l("AggregateError"))(u,h))}}))}));--m||p(new(l("AggregateError"))(u,h))}));m.error&&p(m.value);return a.promise}})},(t,r,a)=>{"use strict";var i=a(39),o=a(66),l=a(117),u=a(43),c=a(71),d=a(122),h=a(129),p=a(58);i({target:"Promise",proto:!0,real:!0,forced:!!l&&u((function(){l.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var r=d(this,c("Promise")),a="function"==typeof t;return this.then(a?function(a){return h(r,t()).then((function(){return a}))}:t,a?function(a){return h(r,t()).then((function(){throw a}))}:t)}});o||"function"!=typeof l||l.prototype.finally||p(l.prototype,"finally",c("Promise").prototype.finally)},(t,r,a)=>{"use strict";var i=a(138).charAt,o=a(62),l=a(93),u="String Iterator",c=o.set,d=o.getterFor(u);l(String,"String",(function(t){c(this,{type:u,string:String(t),index:0})}),(function next(){var t,r=d(this),a=r.string,o=r.index;if(o>=a.length)return{value:void 0,done:!0};t=i(a,o);r.index+=t.length;return{value:t,done:!1}}))},(t,r,a)=>{var i=a(77),o=a(49),createMethod=function(t){return function(r,a){var l,u,c=String(o(r)),d=i(a),h=c.length;return d<0||d>=h?t?"":void 0:(l=c.charCodeAt(d))<55296||l>56319||d+1===h||(u=c.charCodeAt(d+1))<56320||u>57343?t?c.charAt(d):l:t?c.slice(d,d+2):u-56320+(l-55296<<10)+65536}};t.exports={codeAt:createMethod(!1),charAt:createMethod(!0)}},(t,r,a)=>{var i=a(40),o=a(140),l=a(83),u=a(55),c=a(85),d=c("iterator"),h=c("toStringTag"),p=l.values;for(var m in o){var g=i[m],v=g&&g.prototype;if(v){if(v[d]!==p)try{u(v,d,p)}catch(t){v[d]=p}v[h]||u(v,h,m);if(o[m])for(var y in l)if(v[y]!==l[y])try{u(v,y,l[y])}catch(t){v[y]=l[y]}}}},t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},(t,r,a)=>{a(142);a(150);a(148);var i=a(72);t.exports=i.URL},(t,r,a)=>{"use strict";a(137);var i,o=a(39),l=a(42),u=a(143),c=a(40),d=a(89),h=a(58),p=a(120),m=a(52),g=a(144),v=a(145),y=a(138).codeAt,b=a(147),S=a(99),w=a(148),C=a(62),P=c.URL,k=w.URLSearchParams,R=w.getState,A=C.set,T=C.getterFor("URL"),E=Math.floor,x=Math.pow,I="Invalid scheme",O="Invalid host",L="Invalid port",D=/[A-Za-z]/,M=/[\d+-.A-Za-z]/,B=/\d/,N=/^(0x|0X)/,W=/^[0-7]+$/,j=/^\d+$/,V=/^[\dA-Fa-f]+$/,U=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,q=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,G=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,z=/[\u0009\u000A\u000D]/g,parseHost=function(t,r){var a,i,o;if("["==r.charAt(0)){if("]"!=r.charAt(r.length-1))return O;if(!(a=parseIPv6(r.slice(1,-1))))return O;t.host=a}else if(isSpecial(t)){r=b(r);if(U.test(r))return O;if(null===(a=parseIPv4(r)))return O;t.host=a}else{if(q.test(r))return O;a="";i=v(r);for(o=0;o<i.length;o++)a+=percentEncode(i[o],H);t.host=a}},parseIPv4=function(t){var r,a,i,o,l,u,c,d=t.split(".");d.length&&""==d[d.length-1]&&d.pop();if((r=d.length)>4)return t;a=[];for(i=0;i<r;i++){if(""==(o=d[i]))return t;l=10;if(o.length>1&&"0"==o.charAt(0)){l=N.test(o)?16:8;o=o.slice(8==l?1:2)}if(""===o)u=0;else{if(!(10==l?j:8==l?W:V).test(o))return t;u=parseInt(o,l)}a.push(u)}for(i=0;i<r;i++){u=a[i];if(i==r-1){if(u>=x(256,5-r))return null}else if(u>255)return null}c=a.pop();for(i=0;i<a.length;i++)c+=a[i]*x(256,3-i);return c},parseIPv6=function(t){var r,a,i,o,l,u,c,d=[0,0,0,0,0,0,0,0],h=0,p=null,m=0,char=function(){return t.charAt(m)};if(":"==char()){if(":"!=t.charAt(1))return;m+=2;p=++h}for(;char();){if(8==h)return;if(":"!=char()){r=a=0;for(;a<4&&V.test(char());){r=16*r+parseInt(char(),16);m++;a++}if("."==char()){if(0==a)return;m-=a;if(h>6)return;i=0;for(;char();){o=null;if(i>0){if(!("."==char()&&i<4))return;m++}if(!B.test(char()))return;for(;B.test(char());){l=parseInt(char(),10);if(null===o)o=l;else{if(0==o)return;o=10*o+l}if(o>255)return;m++}d[h]=256*d[h]+o;2!=++i&&4!=i||h++}if(4!=i)return;break}if(":"==char()){m++;if(!char())return}else if(char())return;d[h++]=r}else{if(null!==p)return;m++;p=++h}}if(null!==p){u=h-p;h=7;for(;0!=h&&u>0;){c=d[h];d[h--]=d[p+u-1];d[p+--u]=c}}else if(8!=h)return;return d},serializeHost=function(t){var r,a,i,o;if("number"==typeof t){r=[];for(a=0;a<4;a++){r.unshift(t%256);t=E(t/256)}return r.join(".")}if("object"==typeof t){r="";i=function(t){for(var r=null,a=1,i=null,o=0,l=0;l<8;l++)if(0!==t[l]){if(o>a){r=i;a=o}i=null;o=0}else{null===i&&(i=l);++o}if(o>a){r=i;a=o}return r}(t);for(a=0;a<8;a++)if(!o||0!==t[a]){o&&(o=!1);if(i===a){r+=a?":":"::";o=!0}else{r+=t[a].toString(16);a<7&&(r+=":")}}return"["+r+"]"}return t},H={},Y=g({},H,{" ":1,'"':1,"<":1,">":1,"`":1}),Q=g({},Y,{"#":1,"?":1,"{":1,"}":1}),X=g({},Q,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),percentEncode=function(t,r){var a=y(t,0);return a>32&&a<127&&!m(r,t)?t:encodeURIComponent(t)},K={ftp:21,file:null,http:80,https:443,ws:80,wss:443},isSpecial=function(t){return m(K,t.scheme)},includesCredentials=function(t){return""!=t.username||""!=t.password},cannotHaveUsernamePasswordPort=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},isWindowsDriveLetter=function(t,r){var a;return 2==t.length&&D.test(t.charAt(0))&&(":"==(a=t.charAt(1))||!r&&"|"==a)},startsWithWindowsDriveLetter=function(t){var r;return t.length>1&&isWindowsDriveLetter(t.slice(0,2))&&(2==t.length||"/"===(r=t.charAt(2))||"\\"===r||"?"===r||"#"===r)},shortenURLsPath=function(t){var r=t.path,a=r.length;!a||"file"==t.scheme&&1==a&&isWindowsDriveLetter(r[0],!0)||r.pop()},isSingleDot=function(t){return"."===t||"%2e"===t.toLowerCase()},$={},J={},Z={},ee={},te={},re={},ne={},ae={},ie={},oe={},se={},le={},ue={},ce={},de={},fe={},he={},pe={},me={},ge={},ve={},parseURL=function(t,r,a,o){var l,u,c,d,h,p=a||$,g=0,y="",b=!1,S=!1,w=!1;if(!a){t.scheme="";t.username="";t.password="";t.host=null;t.port=null;t.path=[];t.query=null;t.fragment=null;t.cannotBeABaseURL=!1;r=r.replace(G,"")}r=r.replace(z,"");l=v(r);for(;g<=l.length;){u=l[g];switch(p){case $:if(!u||!D.test(u)){if(a)return I;p=Z;continue}y+=u.toLowerCase();p=J;break;case J:if(u&&(M.test(u)||"+"==u||"-"==u||"."==u))y+=u.toLowerCase();else{if(":"!=u){if(a)return I;y="";p=Z;g=0;continue}if(a&&(isSpecial(t)!=m(K,y)||"file"==y&&(includesCredentials(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;t.scheme=y;if(a){isSpecial(t)&&K[t.scheme]==t.port&&(t.port=null);return}y="";if("file"==t.scheme)p=ce;else if(isSpecial(t)&&o&&o.scheme==t.scheme)p=ee;else if(isSpecial(t))p=ae;else if("/"==l[g+1]){p=te;g++}else{t.cannotBeABaseURL=!0;t.path.push("");p=me}}break;case Z:if(!o||o.cannotBeABaseURL&&"#"!=u)return I;if(o.cannotBeABaseURL&&"#"==u){t.scheme=o.scheme;t.path=o.path.slice();t.query=o.query;t.fragment="";t.cannotBeABaseURL=!0;p=ve;break}p="file"==o.scheme?ce:re;continue;case ee:if("/"!=u||"/"!=l[g+1]){p=re;continue}p=ie;g++;break;case te:if("/"==u){p=oe;break}p=pe;continue;case re:t.scheme=o.scheme;if(u==i){t.username=o.username;t.password=o.password;t.host=o.host;t.port=o.port;t.path=o.path.slice();t.query=o.query}else if("/"==u||"\\"==u&&isSpecial(t))p=ne;else if("?"==u){t.username=o.username;t.password=o.password;t.host=o.host;t.port=o.port;t.path=o.path.slice();t.query="";p=ge}else{if("#"!=u){t.username=o.username;t.password=o.password;t.host=o.host;t.port=o.port;t.path=o.path.slice();t.path.pop();p=pe;continue}t.username=o.username;t.password=o.password;t.host=o.host;t.port=o.port;t.path=o.path.slice();t.query=o.query;t.fragment="";p=ve}break;case ne:if(!isSpecial(t)||"/"!=u&&"\\"!=u){if("/"!=u){t.username=o.username;t.password=o.password;t.host=o.host;t.port=o.port;p=pe;continue}p=oe}else p=ie;break;case ae:p=ie;if("/"!=u||"/"!=y.charAt(g+1))continue;g++;break;case ie:if("/"!=u&&"\\"!=u){p=oe;continue}break;case oe:if("@"==u){b&&(y="%40"+y);b=!0;c=v(y);for(var C=0;C<c.length;C++){var P=c[C];if(":"!=P||w){var k=percentEncode(P,X);w?t.password+=k:t.username+=k}else w=!0}y=""}else if(u==i||"/"==u||"?"==u||"#"==u||"\\"==u&&isSpecial(t)){if(b&&""==y)return"Invalid authority";g-=v(y).length+1;y="";p=se}else y+=u;break;case se:case le:if(a&&"file"==t.scheme){p=fe;continue}if(":"!=u||S){if(u==i||"/"==u||"?"==u||"#"==u||"\\"==u&&isSpecial(t)){if(isSpecial(t)&&""==y)return O;if(a&&""==y&&(includesCredentials(t)||null!==t.port))return;if(d=parseHost(t,y))return d;y="";p=he;if(a)return;continue}"["==u?S=!0:"]"==u&&(S=!1);y+=u}else{if(""==y)return O;if(d=parseHost(t,y))return d;y="";p=ue;if(a==le)return}break;case ue:if(!B.test(u)){if(u==i||"/"==u||"?"==u||"#"==u||"\\"==u&&isSpecial(t)||a){if(""!=y){var R=parseInt(y,10);if(R>65535)return L;t.port=isSpecial(t)&&R===K[t.scheme]?null:R;y=""}if(a)return;p=he;continue}return L}y+=u;break;case ce:t.scheme="file";if("/"==u||"\\"==u)p=de;else{if(!o||"file"!=o.scheme){p=pe;continue}if(u==i){t.host=o.host;t.path=o.path.slice();t.query=o.query}else if("?"==u){t.host=o.host;t.path=o.path.slice();t.query="";p=ge}else{if("#"!=u){if(!startsWithWindowsDriveLetter(l.slice(g).join(""))){t.host=o.host;t.path=o.path.slice();shortenURLsPath(t)}p=pe;continue}t.host=o.host;t.path=o.path.slice();t.query=o.query;t.fragment="";p=ve}}break;case de:if("/"==u||"\\"==u){p=fe;break}o&&"file"==o.scheme&&!startsWithWindowsDriveLetter(l.slice(g).join(""))&&(isWindowsDriveLetter(o.path[0],!0)?t.path.push(o.path[0]):t.host=o.host);p=pe;continue;case fe:if(u==i||"/"==u||"\\"==u||"?"==u||"#"==u){if(!a&&isWindowsDriveLetter(y))p=pe;else if(""==y){t.host="";if(a)return;p=he}else{if(d=parseHost(t,y))return d;"localhost"==t.host&&(t.host="");if(a)return;y="";p=he}continue}y+=u;break;case he:if(isSpecial(t)){p=pe;if("/"!=u&&"\\"!=u)continue}else if(a||"?"!=u)if(a||"#"!=u){if(u!=i){p=pe;if("/"!=u)continue}}else{t.fragment="";p=ve}else{t.query="";p=ge}break;case pe:if(u==i||"/"==u||"\\"==u&&isSpecial(t)||!a&&("?"==u||"#"==u)){if(".."===(h=(h=y).toLowerCase())||"%2e."===h||".%2e"===h||"%2e%2e"===h){shortenURLsPath(t);"/"==u||"\\"==u&&isSpecial(t)||t.path.push("")}else if(isSingleDot(y))"/"==u||"\\"==u&&isSpecial(t)||t.path.push("");else{if("file"==t.scheme&&!t.path.length&&isWindowsDriveLetter(y)){t.host&&(t.host="");y=y.charAt(0)+":"}t.path.push(y)}y="";if("file"==t.scheme&&(u==i||"?"==u||"#"==u))for(;t.path.length>1&&""===t.path[0];)t.path.shift();if("?"==u){t.query="";p=ge}else if("#"==u){t.fragment="";p=ve}}else y+=percentEncode(u,Q);break;case me:if("?"==u){t.query="";p=ge}else if("#"==u){t.fragment="";p=ve}else u!=i&&(t.path[0]+=percentEncode(u,H));break;case ge:if(a||"#"!=u)u!=i&&("'"==u&&isSpecial(t)?t.query+="%27":t.query+="#"==u?"%23":percentEncode(u,H));else{t.fragment="";p=ve}break;case ve:u!=i&&(t.fragment+=percentEncode(u,Y))}g++}},ye=function URL(t){var r,a,i=p(this,ye,"URL"),o=arguments.length>1?arguments[1]:void 0,u=String(t),c=A(i,{type:"URL"});if(void 0!==o)if(o instanceof ye)r=T(o);else if(a=parseURL(r={},String(o)))throw TypeError(a);if(a=parseURL(c,u,null,r))throw TypeError(a);var d=c.searchParams=new k,h=R(d);h.updateSearchParams(c.query);h.updateURL=function(){c.query=String(d)||null};if(!l){i.href=serializeURL.call(i);i.origin=getOrigin.call(i);i.protocol=getProtocol.call(i);i.username=getUsername.call(i);i.password=getPassword.call(i);i.host=getHost.call(i);i.hostname=getHostname.call(i);i.port=getPort.call(i);i.pathname=getPathname.call(i);i.search=getSearch.call(i);i.searchParams=getSearchParams.call(i);i.hash=getHash.call(i)}},be=ye.prototype,serializeURL=function(){var t=T(this),r=t.scheme,a=t.username,i=t.password,o=t.host,l=t.port,u=t.path,c=t.query,d=t.fragment,h=r+":";if(null!==o){h+="//";includesCredentials(t)&&(h+=a+(i?":"+i:"")+"@");h+=serializeHost(o);null!==l&&(h+=":"+l)}else"file"==r&&(h+="//");h+=t.cannotBeABaseURL?u[0]:u.length?"/"+u.join("/"):"";null!==c&&(h+="?"+c);null!==d&&(h+="#"+d);return h},getOrigin=function(){var t=T(this),r=t.scheme,a=t.port;if("blob"==r)try{return new URL(r.path[0]).origin}catch(t){return"null"}return"file"!=r&&isSpecial(t)?r+"://"+serializeHost(t.host)+(null!==a?":"+a:""):"null"},getProtocol=function(){return T(this).scheme+":"},getUsername=function(){return T(this).username},getPassword=function(){return T(this).password},getHost=function(){var t=T(this),r=t.host,a=t.port;return null===r?"":null===a?serializeHost(r):serializeHost(r)+":"+a},getHostname=function(){var t=T(this).host;return null===t?"":serializeHost(t)},getPort=function(){var t=T(this).port;return null===t?"":String(t)},getPathname=function(){var t=T(this),r=t.path;return t.cannotBeABaseURL?r[0]:r.length?"/"+r.join("/"):""},getSearch=function(){var t=T(this).query;return t?"?"+t:""},getSearchParams=function(){return T(this).searchParams},getHash=function(){var t=T(this).fragment;return t?"#"+t:""},accessorDescriptor=function(t,r){return{get:t,set:r,configurable:!0,enumerable:!0}};l&&d(be,{href:accessorDescriptor(serializeURL,(function(t){var r=T(this),a=String(t),i=parseURL(r,a);if(i)throw TypeError(i);R(r.searchParams).updateSearchParams(r.query)})),origin:accessorDescriptor(getOrigin),protocol:accessorDescriptor(getProtocol,(function(t){var r=T(this);parseURL(r,String(t)+":",$)})),username:accessorDescriptor(getUsername,(function(t){var r=T(this),a=v(String(t));if(!cannotHaveUsernamePasswordPort(r)){r.username="";for(var i=0;i<a.length;i++)r.username+=percentEncode(a[i],X)}})),password:accessorDescriptor(getPassword,(function(t){var r=T(this),a=v(String(t));if(!cannotHaveUsernamePasswordPort(r)){r.password="";for(var i=0;i<a.length;i++)r.password+=percentEncode(a[i],X)}})),host:accessorDescriptor(getHost,(function(t){var r=T(this);r.cannotBeABaseURL||parseURL(r,String(t),se)})),hostname:accessorDescriptor(getHostname,(function(t){var r=T(this);r.cannotBeABaseURL||parseURL(r,String(t),le)})),port:accessorDescriptor(getPort,(function(t){var r=T(this);cannotHaveUsernamePasswordPort(r)||(""==(t=String(t))?r.port=null:parseURL(r,t,ue))})),pathname:accessorDescriptor(getPathname,(function(t){var r=T(this);if(!r.cannotBeABaseURL){r.path=[];parseURL(r,t+"",he)}})),search:accessorDescriptor(getSearch,(function(t){var r=T(this);if(""==(t=String(t)))r.query=null;else{"?"==t.charAt(0)&&(t=t.slice(1));r.query="";parseURL(r,t,ge)}R(r.searchParams).updateSearchParams(r.query)})),searchParams:accessorDescriptor(getSearchParams),hash:accessorDescriptor(getHash,(function(t){var r=T(this);if(""!=(t=String(t))){"#"==t.charAt(0)&&(t=t.slice(1));r.fragment="";parseURL(r,t,ve)}else r.fragment=null}))});h(be,"toJSON",(function toJSON(){return serializeURL.call(this)}),{enumerable:!0});h(be,"toString",(function toString(){return serializeURL.call(this)}),{enumerable:!0});if(P){var _e=P.createObjectURL,Se=P.revokeObjectURL;_e&&h(ye,"createObjectURL",(function createObjectURL(t){return _e.apply(P,arguments)}));Se&&h(ye,"revokeObjectURL",(function revokeObjectURL(t){return Se.apply(P,arguments)}))}S(ye,"URL");o({global:!0,forced:!u,sham:!l},{URL:ye})},(t,r,a)=>{var i=a(43),o=a(85),l=a(66),u=o("iterator");t.exports=!i((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),r=t.searchParams,a="";t.pathname="c%20d";r.forEach((function(t,i){r.delete("b");a+=i+t}));return l&&!t.toJSON||!r.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==r.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!r[u]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==a||"x"!==new URL("http://x",void 0).host}))},(t,r,a)=>{"use strict";var i=a(42),o=a(43),l=a(90),u=a(80),c=a(44),d=a(97),h=a(47),p=Object.assign,m=Object.defineProperty;t.exports=!p||o((function(){if(i&&1!==p({b:1},p(m({},"a",{enumerable:!0,get:function(){m(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},r={},a=Symbol(),o="abcdefghijklmnopqrst";t[a]=7;o.split("").forEach((function(t){r[t]=t}));return 7!=p({},t)[a]||l(p({},r)).join("")!=o}))?function assign(t,r){for(var a=d(t),o=arguments.length,p=1,m=u.f,g=c.f;o>p;)for(var v,y=h(arguments[p++]),b=m?l(y).concat(m(y)):l(y),S=b.length,w=0;S>w;){v=b[w++];i&&!g.call(y,v)||(a[v]=y[v])}return a}:p},(t,r,a)=>{"use strict";var i=a(105),o=a(97),l=a(146),u=a(104),c=a(76),d=a(111),h=a(107);t.exports=function from(t){var r,a,p,m,g,v,y=o(t),b="function"==typeof this?this:Array,S=arguments.length,w=S>1?arguments[1]:void 0,C=void 0!==w,P=h(y),k=0;C&&(w=i(w,S>2?arguments[2]:void 0,2));if(null==P||b==Array&&u(P)){a=new b(r=c(y.length));for(;r>k;k++){v=C?w(y[k],k):y[k];d(a,k,v)}}else{g=(m=P.call(y)).next;a=new b;for(;!(p=g.call(m)).done;k++){v=C?l(m,w,[p.value,k],!0):p.value;d(a,k,v)}}a.length=k;return a}},(t,r,a)=>{var i=a(57),o=a(110);t.exports=function(t,r,a,l){try{return l?r(i(a)[0],a[1]):r(a)}catch(r){o(t);throw r}}},t=>{"use strict";var r=2147483647,a=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",l=Math.floor,u=String.fromCharCode,digitToBasic=function(t){return t+22+75*(t<26)},adapt=function(t,r,a){var i=0;t=a?l(t/700):t>>1;t+=l(t/r);for(;t>455;i+=36)t=l(t/35);return l(i+36*t/(t+38))},encode=function(t){var a,i,c=[],d=(t=function(t){for(var r=[],a=0,i=t.length;a<i;){var o=t.charCodeAt(a++);if(o>=55296&&o<=56319&&a<i){var l=t.charCodeAt(a++);if(56320==(64512&l))r.push(((1023&o)<<10)+(1023&l)+65536);else{r.push(o);a--}}else r.push(o)}return r}(t)).length,h=128,p=0,m=72;for(a=0;a<t.length;a++)(i=t[a])<128&&c.push(u(i));var g=c.length,v=g;g&&c.push("-");for(;v<d;){var y=r;for(a=0;a<t.length;a++)(i=t[a])>=h&&i<y&&(y=i);var b=v+1;if(y-h>l((r-p)/b))throw RangeError(o);p+=(y-h)*b;h=y;for(a=0;a<t.length;a++){if((i=t[a])<h&&++p>r)throw RangeError(o);if(i==h){for(var S=p,w=36;;w+=36){var C=w<=m?1:w>=m+26?26:w-m;if(S<C)break;var P=S-C,k=36-C;c.push(u(digitToBasic(C+P%k)));S=l(P/k)}c.push(u(digitToBasic(S)));m=adapt(p,b,v==g);p=0;++v}}++p;++h}return c.join("")};t.exports=function(t){var r,o,l=[],u=t.toLowerCase().replace(i,".").split(".");for(r=0;r<u.length;r++){o=u[r];l.push(a.test(o)?"xn--"+encode(o):o)}return l.join(".")}},(t,r,a)=>{"use strict";a(83);var i=a(39),o=a(71),l=a(143),u=a(58),c=a(118),d=a(99),h=a(94),p=a(62),m=a(120),g=a(52),v=a(105),y=a(108),b=a(57),S=a(51),w=a(88),C=a(45),P=a(149),k=a(107),R=a(85),A=o("fetch"),T=o("Headers"),E=R("iterator"),x="URLSearchParams",I="URLSearchParamsIterator",O=p.set,L=p.getterFor(x),D=p.getterFor(I),M=/\+/g,B=Array(4),percentSequence=function(t){return B[t-1]||(B[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},percentDecode=function(t){try{return decodeURIComponent(t)}catch(r){return t}},deserialize=function(t){var r=t.replace(M," "),a=4;try{return decodeURIComponent(r)}catch(t){for(;a;)r=r.replace(percentSequence(a--),percentDecode);return r}},N=/[!'()~]|%20/g,W={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},replacer=function(t){return W[t]},serialize=function(t){return encodeURIComponent(t).replace(N,replacer)},parseSearchParams=function(t,r){if(r)for(var a,i,o=r.split("&"),l=0;l<o.length;)if((a=o[l++]).length){i=a.split("=");t.push({key:deserialize(i.shift()),value:deserialize(i.join("="))})}},updateSearchParams=function(t){this.entries.length=0;parseSearchParams(this.entries,t)},validateArgumentsLength=function(t,r){if(t<r)throw TypeError("Not enough arguments")},j=h((function Iterator(t,r){O(this,{type:I,iterator:P(L(t).entries),kind:r})}),"Iterator",(function next(){var t=D(this),r=t.kind,a=t.iterator.next(),i=a.value;a.done||(a.value="keys"===r?i.key:"values"===r?i.value:[i.key,i.value]);return a})),V=function URLSearchParams(){m(this,V,x);var t,r,a,i,o,l,u,c,d,h=arguments.length>0?arguments[0]:void 0,p=this,v=[];O(p,{type:x,entries:v,updateURL:function(){},updateSearchParams:updateSearchParams});if(void 0!==h)if(S(h))if("function"==typeof(t=k(h))){a=(r=t.call(h)).next;for(;!(i=a.call(r)).done;){if((u=(l=(o=P(b(i.value))).next).call(o)).done||(c=l.call(o)).done||!l.call(o).done)throw TypeError("Expected sequence with length 2");v.push({key:u.value+"",value:c.value+""})}}else for(d in h)g(h,d)&&v.push({key:d,value:h[d]+""});else parseSearchParams(v,"string"==typeof h?"?"===h.charAt(0)?h.slice(1):h:h+"")},U=V.prototype;c(U,{append:function append(t,r){validateArgumentsLength(arguments.length,2);var a=L(this);a.entries.push({key:t+"",value:r+""});a.updateURL()},delete:function(t){validateArgumentsLength(arguments.length,1);for(var r=L(this),a=r.entries,i=t+"",o=0;o<a.length;)a[o].key===i?a.splice(o,1):o++;r.updateURL()},get:function get(t){validateArgumentsLength(arguments.length,1);for(var r=L(this).entries,a=t+"",i=0;i<r.length;i++)if(r[i].key===a)return r[i].value;return null},getAll:function getAll(t){validateArgumentsLength(arguments.length,1);for(var r=L(this).entries,a=t+"",i=[],o=0;o<r.length;o++)r[o].key===a&&i.push(r[o].value);return i},has:function has(t){validateArgumentsLength(arguments.length,1);for(var r=L(this).entries,a=t+"",i=0;i<r.length;)if(r[i++].key===a)return!0;return!1},set:function set(t,r){validateArgumentsLength(arguments.length,1);for(var a,i=L(this),o=i.entries,l=!1,u=t+"",c=r+"",d=0;d<o.length;d++)if((a=o[d]).key===u)if(l)o.splice(d--,1);else{l=!0;a.value=c}l||o.push({key:u,value:c});i.updateURL()},sort:function sort(){var t,r,a,i=L(this),o=i.entries,l=o.slice();o.length=0;for(a=0;a<l.length;a++){t=l[a];for(r=0;r<a;r++)if(o[r].key>t.key){o.splice(r,0,t);break}r===a&&o.push(t)}i.updateURL()},forEach:function forEach(t){for(var r,a=L(this).entries,i=v(t,arguments.length>1?arguments[1]:void 0,3),o=0;o<a.length;)i((r=a[o++]).value,r.key,this)},keys:function keys(){return new j(this,"keys")},values:function values(){return new j(this,"values")},entries:function entries(){return new j(this,"entries")}},{enumerable:!0});u(U,E,U.entries);u(U,"toString",(function toString(){for(var t,r=L(this).entries,a=[],i=0;i<r.length;){t=r[i++];a.push(serialize(t.key)+"="+serialize(t.value))}return a.join("&")}),{enumerable:!0});d(V,x);i({global:!0,forced:!l},{URLSearchParams:V});l||"function"!=typeof A||"function"!=typeof T||i({global:!0,enumerable:!0,forced:!0},{fetch:function fetch(t){var r,a,i,o=[t];if(arguments.length>1){if(S(r=arguments[1])){a=r.body;if(y(a)===x){(i=r.headers?new T(r.headers):new T).has("content-type")||i.set("content-type","application/x-www-form-urlencoded;charset=UTF-8");r=w(r,{body:C(0,String(a)),headers:C(0,i)})}}o.push(r)}return A.apply(this,o)}});t.exports={URLSearchParams:V,getState:L}},(t,r,a)=>{var i=a(57),o=a(107);t.exports=function(t){var r=o(t);if("function"!=typeof r)throw TypeError(String(t)+" is not iterable");return i(r.call(t))}},(t,r,a)=>{"use strict";a(39)({target:"URL",proto:!0,enumerable:!0},{toJSON:function toJSON(){return URL.prototype.toString.call(this)}})},function(t,r){(function(t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function noop(){}var a=function getGlobals(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0}();function typeIsObject(t){return"object"==typeof t&&null!==t||"function"==typeof t}var i=noop,o=Promise,l=Promise.prototype.then,u=Promise.resolve.bind(o),c=Promise.reject.bind(o);function newPromise(t){return new o(t)}function promiseResolvedWith(t){return u(t)}function promiseRejectedWith(t){return c(t)}function PerformPromiseThen(t,r,a){return l.call(t,r,a)}function uponPromise(t,r,a){PerformPromiseThen(PerformPromiseThen(t,r,a),void 0,i)}function uponFulfillment(t,r){uponPromise(t,r)}function uponRejection(t,r){uponPromise(t,void 0,r)}function transformPromiseWith(t,r,a){return PerformPromiseThen(t,r,a)}function setPromiseIsHandledToTrue(t){PerformPromiseThen(t,void 0,i)}var d=function(){var t=a&&a.queueMicrotask;if("function"==typeof t)return t;var r=promiseResolvedWith(void 0);return function(t){return PerformPromiseThen(r,t)}}();function reflectCall(t,r,a){if("function"!=typeof t)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(t,r,a)}function promiseCall(t,r,a){try{return promiseResolvedWith(reflectCall(t,r,a))}catch(t){return promiseRejectedWith(t)}}var h=function(){function SimpleQueue(){this._cursor=0;this._size=0;this._front={_elements:[],_next:void 0};this._back=this._front;this._cursor=0;this._size=0}Object.defineProperty(SimpleQueue.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0});SimpleQueue.prototype.push=function(t){var r=this._back,a=r;16383===r._elements.length&&(a={_elements:[],_next:void 0});r._elements.push(t);if(a!==r){this._back=a;r._next=a}++this._size};SimpleQueue.prototype.shift=function(){var t=this._front,r=t,a=this._cursor,i=a+1,o=t._elements,l=o[a];if(16384===i){r=t._next;i=0}--this._size;this._cursor=i;t!==r&&(this._front=r);o[a]=void 0;return l};SimpleQueue.prototype.forEach=function(t){for(var r=this._cursor,a=this._front,i=a._elements;r!==i.length||void 0!==a._next;){if(r===i.length){r=0;if(0===(i=(a=a._next)._elements).length)break}t(i[r]);++r}};SimpleQueue.prototype.peek=function(){var t=this._front,r=this._cursor;return t._elements[r]};return SimpleQueue}();function ReadableStreamReaderGenericInitialize(t,r){t._ownerReadableStream=r;r._reader=t;"readable"===r._state?defaultReaderClosedPromiseInitialize(t):"closed"===r._state?function defaultReaderClosedPromiseInitializeAsResolved(t){defaultReaderClosedPromiseInitialize(t);defaultReaderClosedPromiseResolve(t)}(t):defaultReaderClosedPromiseInitializeAsRejected(t,r._storedError)}function ReadableStreamReaderGenericCancel(t,r){return ReadableStreamCancel(t._ownerReadableStream,r)}function ReadableStreamReaderGenericRelease(t){"readable"===t._ownerReadableStream._state?defaultReaderClosedPromiseReject(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function defaultReaderClosedPromiseResetToRejected(t,r){defaultReaderClosedPromiseInitializeAsRejected(t,r)}(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"));t._ownerReadableStream._reader=void 0;t._ownerReadableStream=void 0}function readerLockException(t){return new TypeError("Cannot "+t+" a stream using a released reader")}function defaultReaderClosedPromiseInitialize(t){t._closedPromise=newPromise((function(r,a){t._closedPromise_resolve=r;t._closedPromise_reject=a}))}function defaultReaderClosedPromiseInitializeAsRejected(t,r){defaultReaderClosedPromiseInitialize(t);defaultReaderClosedPromiseReject(t,r)}function defaultReaderClosedPromiseReject(t,r){if(void 0!==t._closedPromise_reject){setPromiseIsHandledToTrue(t._closedPromise);t._closedPromise_reject(r);t._closedPromise_resolve=void 0;t._closedPromise_reject=void 0}}function defaultReaderClosedPromiseResolve(t){if(void 0!==t._closedPromise_resolve){t._closedPromise_resolve(void 0);t._closedPromise_resolve=void 0;t._closedPromise_reject=void 0}}var p=r("[[AbortSteps]]"),m=r("[[ErrorSteps]]"),g=r("[[CancelSteps]]"),v=r("[[PullSteps]]"),y=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},b=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};function assertDictionary(t,r){if(void 0!==t&&!function isDictionary(t){return"object"==typeof t||"function"==typeof t}(t))throw new TypeError(r+" is not an object.")}function assertFunction(t,r){if("function"!=typeof t)throw new TypeError(r+" is not a function.")}function assertObject(t,r){if(!function isObject(t){return"object"==typeof t&&null!==t||"function"==typeof t}(t))throw new TypeError(r+" is not an object.")}function assertRequiredArgument(t,r,a){if(void 0===t)throw new TypeError("Parameter "+r+" is required in '"+a+"'.")}function assertRequiredField(t,r,a){if(void 0===t)throw new TypeError(r+" is required in '"+a+"'.")}function convertUnrestrictedDouble(t){return Number(t)}function censorNegativeZero(t){return 0===t?0:t}function convertUnsignedLongLongWithEnforceRange(t,r){var a=Number.MAX_SAFE_INTEGER,i=Number(t);i=censorNegativeZero(i);if(!y(i))throw new TypeError(r+" is not a finite number");if((i=function integerPart(t){return censorNegativeZero(b(t))}(i))<0||i>a)throw new TypeError(r+" is outside the accepted range of 0 to "+a+", inclusive");return y(i)&&0!==i?i:0}function assertReadableStream(t,r){if(!IsReadableStream(t))throw new TypeError(r+" is not a ReadableStream.")}function AcquireReadableStreamDefaultReader(t){return new C(t)}function ReadableStreamAddReadRequest(t,r){t._reader._readRequests.push(r)}function ReadableStreamFulfillReadRequest(t,r,a){var i=t._reader._readRequests.shift();a?i._closeSteps():i._chunkSteps(r)}function ReadableStreamGetNumReadRequests(t){return t._reader._readRequests.length}function ReadableStreamHasDefaultReader(t){var r=t._reader;return void 0!==r&&!!IsReadableStreamDefaultReader(r)}var S,w,C=function(){function ReadableStreamDefaultReader(t){assertRequiredArgument(t,1,"ReadableStreamDefaultReader");assertReadableStream(t,"First parameter");if(IsReadableStreamLocked(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");ReadableStreamReaderGenericInitialize(this,t);this._readRequests=new h}Object.defineProperty(ReadableStreamDefaultReader.prototype,"closed",{get:function(){return IsReadableStreamDefaultReader(this)?this._closedPromise:promiseRejectedWith(defaultReaderBrandCheckException("closed"))},enumerable:!1,configurable:!0});ReadableStreamDefaultReader.prototype.cancel=function(t){void 0===t&&(t=void 0);return IsReadableStreamDefaultReader(this)?void 0===this._ownerReadableStream?promiseRejectedWith(readerLockException("cancel")):ReadableStreamReaderGenericCancel(this,t):promiseRejectedWith(defaultReaderBrandCheckException("cancel"))};ReadableStreamDefaultReader.prototype.read=function(){if(!IsReadableStreamDefaultReader(this))return promiseRejectedWith(defaultReaderBrandCheckException("read"));if(void 0===this._ownerReadableStream)return promiseRejectedWith(readerLockException("read from"));var t,r,a=newPromise((function(a,i){t=a;r=i}));ReadableStreamDefaultReaderRead(this,{_chunkSteps:function(r){return t({value:r,done:!1})},_closeSteps:function(){return t({value:void 0,done:!0})},_errorSteps:function(t){return r(t)}});return a};ReadableStreamDefaultReader.prototype.releaseLock=function(){if(!IsReadableStreamDefaultReader(this))throw defaultReaderBrandCheckException("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");ReadableStreamReaderGenericRelease(this)}};return ReadableStreamDefaultReader}();Object.defineProperties(C.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}});"symbol"==typeof r.toStringTag&&Object.defineProperty(C.prototype,r.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function IsReadableStreamDefaultReader(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readRequests")}function ReadableStreamDefaultReaderRead(t,r){var a=t._ownerReadableStream;a._disturbed=!0;"closed"===a._state?r._closeSteps():"errored"===a._state?r._errorSteps(a._storedError):a._readableStreamController[v](r)}function defaultReaderBrandCheckException(t){return new TypeError("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}if("symbol"==typeof r.asyncIterator){w=((S={})[r.asyncIterator]=function(){return this},S);Object.defineProperty(w,r.asyncIterator,{enumerable:!1})}var P=function(){function ReadableStreamAsyncIteratorImpl(t,r){this._ongoingPromise=void 0;this._isFinished=!1;this._reader=t;this._preventCancel=r}ReadableStreamAsyncIteratorImpl.prototype.next=function(){var t=this,nextSteps=function(){return t._nextSteps()};this._ongoingPromise=this._ongoingPromise?transformPromiseWith(this._ongoingPromise,nextSteps,nextSteps):nextSteps();return this._ongoingPromise};ReadableStreamAsyncIteratorImpl.prototype.return=function(t){var r=this,returnSteps=function(){return r._returnSteps(t)};return this._ongoingPromise?transformPromiseWith(this._ongoingPromise,returnSteps,returnSteps):returnSteps()};ReadableStreamAsyncIteratorImpl.prototype._nextSteps=function(){var t=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var r,a,i=this._reader;if(void 0===i._ownerReadableStream)return promiseRejectedWith(readerLockException("iterate"));var o=newPromise((function(t,i){r=t;a=i}));ReadableStreamDefaultReaderRead(i,{_chunkSteps:function(a){t._ongoingPromise=void 0;d((function(){return r({value:a,done:!1})}))},_closeSteps:function(){t._ongoingPromise=void 0;t._isFinished=!0;ReadableStreamReaderGenericRelease(i);r({value:void 0,done:!0})},_errorSteps:function(r){t._ongoingPromise=void 0;t._isFinished=!0;ReadableStreamReaderGenericRelease(i);a(r)}});return o};ReadableStreamAsyncIteratorImpl.prototype._returnSteps=function(t){if(this._isFinished)return Promise.resolve({value:t,done:!0});this._isFinished=!0;var r=this._reader;if(void 0===r._ownerReadableStream)return promiseRejectedWith(readerLockException("finish iterating"));if(!this._preventCancel){var a=ReadableStreamReaderGenericCancel(r,t);ReadableStreamReaderGenericRelease(r);return transformPromiseWith(a,(function(){return{value:t,done:!0}}))}ReadableStreamReaderGenericRelease(r);return promiseResolvedWith({value:t,done:!0})};return ReadableStreamAsyncIteratorImpl}(),k={next:function(){return IsReadableStreamAsyncIterator(this)?this._asyncIteratorImpl.next():promiseRejectedWith(streamAsyncIteratorBrandCheckException("next"))},return:function(t){return IsReadableStreamAsyncIterator(this)?this._asyncIteratorImpl.return(t):promiseRejectedWith(streamAsyncIteratorBrandCheckException("return"))}};void 0!==w&&Object.setPrototypeOf(k,w);function IsReadableStreamAsyncIterator(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_asyncIteratorImpl")}function streamAsyncIteratorBrandCheckException(t){return new TypeError("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}var R=Number.isNaN||function(t){return t!=t};function IsFiniteNonNegativeNumber(t){return!!function IsNonNegativeNumber(t){return"number"==typeof t&&(!R(t)&&!(t<0))}(t)&&t!==1/0}function DequeueValue(t){var r=t._queue.shift();t._queueTotalSize-=r.size;t._queueTotalSize<0&&(t._queueTotalSize=0);return r.value}function EnqueueValueWithSize(t,r,a){if(!IsFiniteNonNegativeNumber(a=Number(a)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t._queue.push({value:r,size:a});t._queueTotalSize+=a}function ResetQueue(t){t._queue=new h;t._queueTotalSize=0}function CreateArrayFromList(t){return t.slice()}var A=function(){function ReadableStreamBYOBRequest(){throw new TypeError("Illegal constructor")}Object.defineProperty(ReadableStreamBYOBRequest.prototype,"view",{get:function(){if(!IsReadableStreamBYOBRequest(this))throw byobRequestBrandCheckException("view");return this._view},enumerable:!1,configurable:!0});ReadableStreamBYOBRequest.prototype.respond=function(t){if(!IsReadableStreamBYOBRequest(this))throw byobRequestBrandCheckException("respond");assertRequiredArgument(t,1,"respond");t=convertUnsignedLongLongWithEnforceRange(t,"First parameter");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");this._view.buffer;!function ReadableByteStreamControllerRespond(t,r){if(!IsFiniteNonNegativeNumber(r=Number(r)))throw new RangeError("bytesWritten must be a finite");ReadableByteStreamControllerRespondInternal(t,r)}(this._associatedReadableByteStreamController,t)};ReadableStreamBYOBRequest.prototype.respondWithNewView=function(t){if(!IsReadableStreamBYOBRequest(this))throw byobRequestBrandCheckException("respondWithNewView");assertRequiredArgument(t,1,"respondWithNewView");if(!ArrayBuffer.isView(t))throw new TypeError("You can only respond with array buffer views");if(0===t.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===t.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");!function ReadableByteStreamControllerRespondWithNewView(t,r){var a=t._pendingPullIntos.peek();if(a.byteOffset+a.bytesFilled!==r.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(a.byteLength!==r.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");a.buffer=r.buffer;ReadableByteStreamControllerRespondInternal(t,r.byteLength)}(this._associatedReadableByteStreamController,t)};return ReadableStreamBYOBRequest}();Object.defineProperties(A.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}});"symbol"==typeof r.toStringTag&&Object.defineProperty(A.prototype,r.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var T=function(){function ReadableByteStreamController(){throw new TypeError("Illegal constructor")}Object.defineProperty(ReadableByteStreamController.prototype,"byobRequest",{get:function(){if(!IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("byobRequest");if(null===this._byobRequest&&this._pendingPullIntos.length>0){var t=this._pendingPullIntos.peek(),r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),a=Object.create(A.prototype);!function SetUpReadableStreamBYOBRequest(t,r,a){t._associatedReadableByteStreamController=r;t._view=a}(a,this,r);this._byobRequest=a}return this._byobRequest},enumerable:!1,configurable:!0});Object.defineProperty(ReadableByteStreamController.prototype,"desiredSize",{get:function(){if(!IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("desiredSize");return ReadableByteStreamControllerGetDesiredSize(this)},enumerable:!1,configurable:!0});ReadableByteStreamController.prototype.close=function(){if(!IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function ReadableByteStreamControllerClose(t){var r=t._controlledReadableByteStream;if(!t._closeRequested&&"readable"===r._state)if(t._queueTotalSize>0)t._closeRequested=!0;else{if(t._pendingPullIntos.length>0&&t._pendingPullIntos.peek().bytesFilled>0){var a=new TypeError("Insufficient bytes to fill elements in the given buffer");ReadableByteStreamControllerError(t,a);throw a}ReadableByteStreamControllerClearAlgorithms(t);ReadableStreamClose(r)}}(this)};ReadableByteStreamController.prototype.enqueue=function(t){if(!IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("enqueue");assertRequiredArgument(t,1,"enqueue");if(!ArrayBuffer.isView(t))throw new TypeError("chunk must be an array buffer view");if(0===t.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===t.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var r=this._controlledReadableByteStream._state;if("readable"!==r)throw new TypeError("The stream (in "+r+" state) is not in the readable state and cannot be enqueued to");!function ReadableByteStreamControllerEnqueue(t,r){var a=t._controlledReadableByteStream;if(!t._closeRequested&&"readable"===a._state){var i=r.buffer,o=r.byteOffset,l=r.byteLength,u=i;if(ReadableStreamHasDefaultReader(a))0===ReadableStreamGetNumReadRequests(a)?ReadableByteStreamControllerEnqueueChunkToQueue(t,u,o,l):ReadableStreamFulfillReadRequest(a,new Uint8Array(u,o,l),!1);else if(ReadableStreamHasBYOBReader(a)){ReadableByteStreamControllerEnqueueChunkToQueue(t,u,o,l);ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(t)}else ReadableByteStreamControllerEnqueueChunkToQueue(t,u,o,l);ReadableByteStreamControllerCallPullIfNeeded(t)}}(this,t)};ReadableByteStreamController.prototype.error=function(t){void 0===t&&(t=void 0);if(!IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("error");ReadableByteStreamControllerError(this,t)};ReadableByteStreamController.prototype[g]=function(t){this._pendingPullIntos.length>0&&(this._pendingPullIntos.peek().bytesFilled=0);ResetQueue(this);var r=this._cancelAlgorithm(t);ReadableByteStreamControllerClearAlgorithms(this);return r};ReadableByteStreamController.prototype[v]=function(t){var r=this._controlledReadableByteStream;if(this._queueTotalSize>0){var a=this._queue.shift();this._queueTotalSize-=a.byteLength;ReadableByteStreamControllerHandleQueueDrain(this);var i=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);t._chunkSteps(i)}else{var o=this._autoAllocateChunkSize;if(void 0!==o){var l=void 0;try{l=new ArrayBuffer(o)}catch(r){t._errorSteps(r);return}var u={buffer:l,byteOffset:0,byteLength:o,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(u)}ReadableStreamAddReadRequest(r,t);ReadableByteStreamControllerCallPullIfNeeded(this)}};return ReadableByteStreamController}();Object.defineProperties(T.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}});"symbol"==typeof r.toStringTag&&Object.defineProperty(T.prototype,r.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function IsReadableByteStreamController(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledReadableByteStream")}function IsReadableStreamBYOBRequest(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_associatedReadableByteStreamController")}function ReadableByteStreamControllerCallPullIfNeeded(t){if(function ReadableByteStreamControllerShouldCallPull(t){var r=t._controlledReadableByteStream;return"readable"===r._state&&(!t._closeRequested&&(!!t._started&&(!!(ReadableStreamHasDefaultReader(r)&&ReadableStreamGetNumReadRequests(r)>0)||(!!(ReadableStreamHasBYOBReader(r)&&ReadableStreamGetNumReadIntoRequests(r)>0)||ReadableByteStreamControllerGetDesiredSize(t)>0))))}(t))if(t._pulling)t._pullAgain=!0;else{t._pulling=!0;uponPromise(t._pullAlgorithm(),(function(){t._pulling=!1;if(t._pullAgain){t._pullAgain=!1;ReadableByteStreamControllerCallPullIfNeeded(t)}}),(function(r){ReadableByteStreamControllerError(t,r)}))}}function ReadableByteStreamControllerCommitPullIntoDescriptor(t,r){var a=!1;"closed"===t._state&&(a=!0);var i=ReadableByteStreamControllerConvertPullIntoDescriptor(r);"default"===r.readerType?ReadableStreamFulfillReadRequest(t,i,a):function ReadableStreamFulfillReadIntoRequest(t,r,a){var i=t._reader._readIntoRequests.shift();a?i._closeSteps(r):i._chunkSteps(r)}(t,i,a)}function ReadableByteStreamControllerConvertPullIntoDescriptor(t){var r=t.bytesFilled,a=t.elementSize;return new t.viewConstructor(t.buffer,t.byteOffset,r/a)}function ReadableByteStreamControllerEnqueueChunkToQueue(t,r,a,i){t._queue.push({buffer:r,byteOffset:a,byteLength:i});t._queueTotalSize+=i}function ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(t,r){var a=r.elementSize,i=r.bytesFilled-r.bytesFilled%a,o=Math.min(t._queueTotalSize,r.byteLength-r.bytesFilled),l=r.bytesFilled+o,u=l-l%a,c=o,d=!1;if(u>i){c=u-r.bytesFilled;d=!0}for(var h,p,m,g,v,y=t._queue;c>0;){var b=y.peek(),S=Math.min(c,b.byteLength),w=r.byteOffset+r.bytesFilled;h=r.buffer,p=w,m=b.buffer,g=b.byteOffset,v=S,new Uint8Array(h).set(new Uint8Array(m,g,v),p);if(b.byteLength===S)y.shift();else{b.byteOffset+=S;b.byteLength-=S}t._queueTotalSize-=S;ReadableByteStreamControllerFillHeadPullIntoDescriptor(t,S,r);c-=S}return d}function ReadableByteStreamControllerFillHeadPullIntoDescriptor(t,r,a){ReadableByteStreamControllerInvalidateBYOBRequest(t);a.bytesFilled+=r}function ReadableByteStreamControllerHandleQueueDrain(t){if(0===t._queueTotalSize&&t._closeRequested){ReadableByteStreamControllerClearAlgorithms(t);ReadableStreamClose(t._controlledReadableByteStream)}else ReadableByteStreamControllerCallPullIfNeeded(t)}function ReadableByteStreamControllerInvalidateBYOBRequest(t){if(null!==t._byobRequest){t._byobRequest._associatedReadableByteStreamController=void 0;t._byobRequest._view=null;t._byobRequest=null}}function ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(t){for(;t._pendingPullIntos.length>0;){if(0===t._queueTotalSize)return;var r=t._pendingPullIntos.peek();if(ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(t,r)){ReadableByteStreamControllerShiftPendingPullInto(t);ReadableByteStreamControllerCommitPullIntoDescriptor(t._controlledReadableByteStream,r)}}}function ReadableByteStreamControllerRespondInternal(t,r){var a=t._pendingPullIntos.peek();if("closed"===t._controlledReadableByteStream._state){if(0!==r)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");!function ReadableByteStreamControllerRespondInClosedState(t,r){r.buffer=r.buffer;var a=t._controlledReadableByteStream;if(ReadableStreamHasBYOBReader(a))for(;ReadableStreamGetNumReadIntoRequests(a)>0;)ReadableByteStreamControllerCommitPullIntoDescriptor(a,ReadableByteStreamControllerShiftPendingPullInto(t))}(t,a)}else!function ReadableByteStreamControllerRespondInReadableState(t,r,a){if(a.bytesFilled+r>a.byteLength)throw new RangeError("bytesWritten out of range");ReadableByteStreamControllerFillHeadPullIntoDescriptor(t,r,a);if(!(a.bytesFilled<a.elementSize)){ReadableByteStreamControllerShiftPendingPullInto(t);var i=a.bytesFilled%a.elementSize;if(i>0){var o=a.byteOffset+a.bytesFilled,l=a.buffer.slice(o-i,o);ReadableByteStreamControllerEnqueueChunkToQueue(t,l,0,l.byteLength)}a.buffer=a.buffer;a.bytesFilled-=i;ReadableByteStreamControllerCommitPullIntoDescriptor(t._controlledReadableByteStream,a);ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(t)}}(t,r,a);ReadableByteStreamControllerCallPullIfNeeded(t)}function ReadableByteStreamControllerShiftPendingPullInto(t){var r=t._pendingPullIntos.shift();ReadableByteStreamControllerInvalidateBYOBRequest(t);return r}function ReadableByteStreamControllerClearAlgorithms(t){t._pullAlgorithm=void 0;t._cancelAlgorithm=void 0}function ReadableByteStreamControllerError(t,r){var a=t._controlledReadableByteStream;if("readable"===a._state){!function ReadableByteStreamControllerClearPendingPullIntos(t){ReadableByteStreamControllerInvalidateBYOBRequest(t);t._pendingPullIntos=new h}(t);ResetQueue(t);ReadableByteStreamControllerClearAlgorithms(t);ReadableStreamError(a,r)}}function ReadableByteStreamControllerGetDesiredSize(t){var r=t._controlledReadableByteStream._state;return"errored"===r?null:"closed"===r?0:t._strategyHWM-t._queueTotalSize}function SetUpReadableByteStreamControllerFromUnderlyingSource(t,r,a){var i=Object.create(T.prototype),startAlgorithm=function(){},pullAlgorithm=function(){return promiseResolvedWith(void 0)},cancelAlgorithm=function(){return promiseResolvedWith(void 0)};void 0!==r.start&&(startAlgorithm=function(){return r.start(i)});void 0!==r.pull&&(pullAlgorithm=function(){return r.pull(i)});void 0!==r.cancel&&(cancelAlgorithm=function(t){return r.cancel(t)});var o=r.autoAllocateChunkSize;!function SetUpReadableByteStreamController(t,r,a,i,o,l,u){r._controlledReadableByteStream=t;r._pullAgain=!1;r._pulling=!1;r._byobRequest=null;r._queue=r._queueTotalSize=void 0;ResetQueue(r);r._closeRequested=!1;r._started=!1;r._strategyHWM=l;r._pullAlgorithm=i;r._cancelAlgorithm=o;r._autoAllocateChunkSize=u;r._pendingPullIntos=new h;t._readableStreamController=r;uponPromise(promiseResolvedWith(a()),(function(){r._started=!0;ReadableByteStreamControllerCallPullIfNeeded(r)}),(function(t){ReadableByteStreamControllerError(r,t)}))}(t,i,startAlgorithm,pullAlgorithm,cancelAlgorithm,a,o)}function byobRequestBrandCheckException(t){return new TypeError("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function byteStreamControllerBrandCheckException(t){return new TypeError("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function ReadableStreamAddReadIntoRequest(t,r){t._reader._readIntoRequests.push(r)}function ReadableStreamGetNumReadIntoRequests(t){return t._reader._readIntoRequests.length}function ReadableStreamHasBYOBReader(t){var r=t._reader;return void 0!==r&&!!IsReadableStreamBYOBReader(r)}var E=function(){function ReadableStreamBYOBReader(t){assertRequiredArgument(t,1,"ReadableStreamBYOBReader");assertReadableStream(t,"First parameter");if(IsReadableStreamLocked(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!IsReadableByteStreamController(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");ReadableStreamReaderGenericInitialize(this,t);this._readIntoRequests=new h}Object.defineProperty(ReadableStreamBYOBReader.prototype,"closed",{get:function(){return IsReadableStreamBYOBReader(this)?this._closedPromise:promiseRejectedWith(byobReaderBrandCheckException("closed"))},enumerable:!1,configurable:!0});ReadableStreamBYOBReader.prototype.cancel=function(t){void 0===t&&(t=void 0);return IsReadableStreamBYOBReader(this)?void 0===this._ownerReadableStream?promiseRejectedWith(readerLockException("cancel")):ReadableStreamReaderGenericCancel(this,t):promiseRejectedWith(byobReaderBrandCheckException("cancel"))};ReadableStreamBYOBReader.prototype.read=function(t){if(!IsReadableStreamBYOBReader(this))return promiseRejectedWith(byobReaderBrandCheckException("read"));if(!ArrayBuffer.isView(t))return promiseRejectedWith(new TypeError("view must be an array buffer view"));if(0===t.byteLength)return promiseRejectedWith(new TypeError("view must have non-zero byteLength"));if(0===t.buffer.byteLength)return promiseRejectedWith(new TypeError("view's buffer must have non-zero byteLength"));if(void 0===this._ownerReadableStream)return promiseRejectedWith(readerLockException("read from"));var r,a,i=newPromise((function(t,i){r=t;a=i}));!function ReadableStreamBYOBReaderRead(t,r,a){var i=t._ownerReadableStream;i._disturbed=!0;"errored"===i._state?a._errorSteps(i._storedError):function ReadableByteStreamControllerPullInto(t,r,a){var i=t._controlledReadableByteStream,o=1;r.constructor!==DataView&&(o=r.constructor.BYTES_PER_ELEMENT);var l=r.constructor,u={buffer:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength,bytesFilled:0,elementSize:o,viewConstructor:l,readerType:"byob"};if(t._pendingPullIntos.length>0){t._pendingPullIntos.push(u);ReadableStreamAddReadIntoRequest(i,a)}else if("closed"!==i._state){if(t._queueTotalSize>0){if(ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(t,u)){var c=ReadableByteStreamControllerConvertPullIntoDescriptor(u);ReadableByteStreamControllerHandleQueueDrain(t);a._chunkSteps(c);return}if(t._closeRequested){var d=new TypeError("Insufficient bytes to fill elements in the given buffer");ReadableByteStreamControllerError(t,d);a._errorSteps(d);return}}t._pendingPullIntos.push(u);ReadableStreamAddReadIntoRequest(i,a);ReadableByteStreamControllerCallPullIfNeeded(t)}else{var h=new l(u.buffer,u.byteOffset,0);a._closeSteps(h)}}(i._readableStreamController,r,a)}(this,t,{_chunkSteps:function(t){return r({value:t,done:!1})},_closeSteps:function(t){return r({value:t,done:!0})},_errorSteps:function(t){return a(t)}});return i};ReadableStreamBYOBReader.prototype.releaseLock=function(){if(!IsReadableStreamBYOBReader(this))throw byobReaderBrandCheckException("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");ReadableStreamReaderGenericRelease(this)}};return ReadableStreamBYOBReader}();Object.defineProperties(E.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}});"symbol"==typeof r.toStringTag&&Object.defineProperty(E.prototype,r.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function IsReadableStreamBYOBReader(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readIntoRequests")}function byobReaderBrandCheckException(t){return new TypeError("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}function ExtractHighWaterMark(t,r){var a=t.highWaterMark;if(void 0===a)return r;if(R(a)||a<0)throw new RangeError("Invalid highWaterMark");return a}function ExtractSizeAlgorithm(t){var r=t.size;return r||function(){return 1}}function convertQueuingStrategy(t,r){assertDictionary(t,r);var a=null==t?void 0:t.highWaterMark,i=null==t?void 0:t.size;return{highWaterMark:void 0===a?void 0:convertUnrestrictedDouble(a),size:void 0===i?void 0:convertQueuingStrategySize(i,r+" has member 'size' that")}}function convertQueuingStrategySize(t,r){assertFunction(t,r);return function(r){return convertUnrestrictedDouble(t(r))}}function convertUnderlyingSinkAbortCallback(t,r,a){assertFunction(t,a);return function(a){return promiseCall(t,r,[a])}}function convertUnderlyingSinkCloseCallback(t,r,a){assertFunction(t,a);return function(){return promiseCall(t,r,[])}}function convertUnderlyingSinkStartCallback(t,r,a){assertFunction(t,a);return function(a){return reflectCall(t,r,[a])}}function convertUnderlyingSinkWriteCallback(t,r,a){assertFunction(t,a);return function(a,i){return promiseCall(t,r,[a,i])}}function assertWritableStream(t,r){if(!IsWritableStream(t))throw new TypeError(r+" is not a WritableStream.")}var x=function(){function WritableStream(t,r){void 0===t&&(t={});void 0===r&&(r={});void 0===t?t=null:assertObject(t,"First parameter");var a=convertQueuingStrategy(r,"Second parameter"),i=function convertUnderlyingSink(t,r){assertDictionary(t,r);var a=null==t?void 0:t.abort,i=null==t?void 0:t.close,o=null==t?void 0:t.start,l=null==t?void 0:t.type,u=null==t?void 0:t.write;return{abort:void 0===a?void 0:convertUnderlyingSinkAbortCallback(a,t,r+" has member 'abort' that"),close:void 0===i?void 0:convertUnderlyingSinkCloseCallback(i,t,r+" has member 'close' that"),start:void 0===o?void 0:convertUnderlyingSinkStartCallback(o,t,r+" has member 'start' that"),write:void 0===u?void 0:convertUnderlyingSinkWriteCallback(u,t,r+" has member 'write' that"),type:l}}(t,"First parameter");InitializeWritableStream(this);if(void 0!==i.type)throw new RangeError("Invalid type is specified");var o=ExtractSizeAlgorithm(a);!function SetUpWritableStreamDefaultControllerFromUnderlyingSink(t,r,a,i){var o=Object.create(L.prototype),startAlgorithm=function(){},writeAlgorithm=function(){return promiseResolvedWith(void 0)},closeAlgorithm=function(){return promiseResolvedWith(void 0)},abortAlgorithm=function(){return promiseResolvedWith(void 0)};void 0!==r.start&&(startAlgorithm=function(){return r.start(o)});void 0!==r.write&&(writeAlgorithm=function(t){return r.write(t,o)});void 0!==r.close&&(closeAlgorithm=function(){return r.close()});void 0!==r.abort&&(abortAlgorithm=function(t){return r.abort(t)});SetUpWritableStreamDefaultController(t,o,startAlgorithm,writeAlgorithm,closeAlgorithm,abortAlgorithm,a,i)}(this,i,ExtractHighWaterMark(a,1),o)}Object.defineProperty(WritableStream.prototype,"locked",{get:function(){if(!IsWritableStream(this))throw streamBrandCheckException("locked");return IsWritableStreamLocked(this)},enumerable:!1,configurable:!0});WritableStream.prototype.abort=function(t){void 0===t&&(t=void 0);return IsWritableStream(this)?IsWritableStreamLocked(this)?promiseRejectedWith(new TypeError("Cannot abort a stream that already has a writer")):WritableStreamAbort(this,t):promiseRejectedWith(streamBrandCheckException("abort"))};WritableStream.prototype.close=function(){return IsWritableStream(this)?IsWritableStreamLocked(this)?promiseRejectedWith(new TypeError("Cannot close a stream that already has a writer")):WritableStreamCloseQueuedOrInFlight(this)?promiseRejectedWith(new TypeError("Cannot close an already-closing stream")):WritableStreamClose(this):promiseRejectedWith(streamBrandCheckException("close"))};WritableStream.prototype.getWriter=function(){if(!IsWritableStream(this))throw streamBrandCheckException("getWriter");return AcquireWritableStreamDefaultWriter(this)};return WritableStream}();Object.defineProperties(x.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}});"symbol"==typeof r.toStringTag&&Object.defineProperty(x.prototype,r.toStringTag,{value:"WritableStream",configurable:!0});function AcquireWritableStreamDefaultWriter(t){return new I(t)}function InitializeWritableStream(t){t._state="writable";t._storedError=void 0;t._writer=void 0;t._writableStreamController=void 0;t._writeRequests=new h;t._inFlightWriteRequest=void 0;t._closeRequest=void 0;t._inFlightCloseRequest=void 0;t._pendingAbortRequest=void 0;t._backpressure=!1}function IsWritableStream(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_writableStreamController")}function IsWritableStreamLocked(t){return void 0!==t._writer}function WritableStreamAbort(t,r){var a=t._state;if("closed"===a||"errored"===a)return promiseResolvedWith(void 0);if(void 0!==t._pendingAbortRequest)return t._pendingAbortRequest._promise;var i=!1;if("erroring"===a){i=!0;r=void 0}var o=newPromise((function(a,o){t._pendingAbortRequest={_promise:void 0,_resolve:a,_reject:o,_reason:r,_wasAlreadyErroring:i}}));t._pendingAbortRequest._promise=o;i||WritableStreamStartErroring(t,r);return o}function WritableStreamClose(t){var r=t._state;if("closed"===r||"errored"===r)return promiseRejectedWith(new TypeError("The stream (in "+r+" state) is not in the writable state and cannot be closed"));var a=newPromise((function(r,a){var i={_resolve:r,_reject:a};t._closeRequest=i})),i=t._writer;void 0!==i&&t._backpressure&&"writable"===r&&defaultWriterReadyPromiseResolve(i);!function WritableStreamDefaultControllerClose(t){EnqueueValueWithSize(t,O,0);WritableStreamDefaultControllerAdvanceQueueIfNeeded(t)}(t._writableStreamController);return a}function WritableStreamDealWithRejection(t,r){"writable"!==t._state?WritableStreamFinishErroring(t):WritableStreamStartErroring(t,r)}function WritableStreamStartErroring(t,r){var a=t._writableStreamController;t._state="erroring";t._storedError=r;var i=t._writer;void 0!==i&&WritableStreamDefaultWriterEnsureReadyPromiseRejected(i,r);!function WritableStreamHasOperationMarkedInFlight(t){return void 0!==t._inFlightWriteRequest||void 0!==t._inFlightCloseRequest}(t)&&a._started&&WritableStreamFinishErroring(t)}function WritableStreamFinishErroring(t){t._state="errored";t._writableStreamController[m]();var r=t._storedError;t._writeRequests.forEach((function(t){t._reject(r)}));t._writeRequests=new h;if(void 0!==t._pendingAbortRequest){var a=t._pendingAbortRequest;t._pendingAbortRequest=void 0;if(a._wasAlreadyErroring){a._reject(r);WritableStreamRejectCloseAndClosedPromiseIfNeeded(t)}else uponPromise(t._writableStreamController[p](a._reason),(function(){a._resolve();WritableStreamRejectCloseAndClosedPromiseIfNeeded(t)}),(function(r){a._reject(r);WritableStreamRejectCloseAndClosedPromiseIfNeeded(t)}))}else WritableStreamRejectCloseAndClosedPromiseIfNeeded(t)}function WritableStreamCloseQueuedOrInFlight(t){return void 0!==t._closeRequest||void 0!==t._inFlightCloseRequest}function WritableStreamRejectCloseAndClosedPromiseIfNeeded(t){if(void 0!==t._closeRequest){t._closeRequest._reject(t._storedError);t._closeRequest=void 0}var r=t._writer;void 0!==r&&defaultWriterClosedPromiseReject(r,t._storedError)}function WritableStreamUpdateBackpressure(t,r){var a=t._writer;void 0!==a&&r!==t._backpressure&&(r?function defaultWriterReadyPromiseReset(t){defaultWriterReadyPromiseInitialize(t)}(a):defaultWriterReadyPromiseResolve(a));t._backpressure=r}var I=function(){function WritableStreamDefaultWriter(t){assertRequiredArgument(t,1,"WritableStreamDefaultWriter");assertWritableStream(t,"First parameter");if(IsWritableStreamLocked(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t;t._writer=this;var r=t._state;if("writable"===r){!WritableStreamCloseQueuedOrInFlight(t)&&t._backpressure?defaultWriterReadyPromiseInitialize(this):defaultWriterReadyPromiseInitializeAsResolved(this);defaultWriterClosedPromiseInitialize(this)}else if("erroring"===r){defaultWriterReadyPromiseInitializeAsRejected(this,t._storedError);defaultWriterClosedPromiseInitialize(this)}else if("closed"===r){defaultWriterReadyPromiseInitializeAsResolved(this);!function defaultWriterClosedPromiseInitializeAsResolved(t){defaultWriterClosedPromiseInitialize(t);defaultWriterClosedPromiseResolve(t)}(this)}else{var a=t._storedError;defaultWriterReadyPromiseInitializeAsRejected(this,a);defaultWriterClosedPromiseInitializeAsRejected(this,a)}}Object.defineProperty(WritableStreamDefaultWriter.prototype,"closed",{get:function(){return IsWritableStreamDefaultWriter(this)?this._closedPromise:promiseRejectedWith(defaultWriterBrandCheckException("closed"))},enumerable:!1,configurable:!0});Object.defineProperty(WritableStreamDefaultWriter.prototype,"desiredSize",{get:function(){if(!IsWritableStreamDefaultWriter(this))throw defaultWriterBrandCheckException("desiredSize");if(void 0===this._ownerWritableStream)throw defaultWriterLockException("desiredSize");return function WritableStreamDefaultWriterGetDesiredSize(t){var r=t._ownerWritableStream,a=r._state;return"errored"===a||"erroring"===a?null:"closed"===a?0:WritableStreamDefaultControllerGetDesiredSize(r._writableStreamController)}(this)},enumerable:!1,configurable:!0});Object.defineProperty(WritableStreamDefaultWriter.prototype,"ready",{get:function(){return IsWritableStreamDefaultWriter(this)?this._readyPromise:promiseRejectedWith(defaultWriterBrandCheckException("ready"))},enumerable:!1,configurable:!0});WritableStreamDefaultWriter.prototype.abort=function(t){void 0===t&&(t=void 0);return IsWritableStreamDefaultWriter(this)?void 0===this._ownerWritableStream?promiseRejectedWith(defaultWriterLockException("abort")):function WritableStreamDefaultWriterAbort(t,r){return WritableStreamAbort(t._ownerWritableStream,r)}(this,t):promiseRejectedWith(defaultWriterBrandCheckException("abort"))};WritableStreamDefaultWriter.prototype.close=function(){if(!IsWritableStreamDefaultWriter(this))return promiseRejectedWith(defaultWriterBrandCheckException("close"));var t=this._ownerWritableStream;return void 0===t?promiseRejectedWith(defaultWriterLockException("close")):WritableStreamCloseQueuedOrInFlight(t)?promiseRejectedWith(new TypeError("Cannot close an already-closing stream")):WritableStreamDefaultWriterClose(this)};WritableStreamDefaultWriter.prototype.releaseLock=function(){if(!IsWritableStreamDefaultWriter(this))throw defaultWriterBrandCheckException("releaseLock");void 0!==this._ownerWritableStream&&WritableStreamDefaultWriterRelease(this)};WritableStreamDefaultWriter.prototype.write=function(t){void 0===t&&(t=void 0);return IsWritableStreamDefaultWriter(this)?void 0===this._ownerWritableStream?promiseRejectedWith(defaultWriterLockException("write to")):WritableStreamDefaultWriterWrite(this,t):promiseRejectedWith(defaultWriterBrandCheckException("write"))};return WritableStreamDefaultWriter}();Object.defineProperties(I.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}});"symbol"==typeof r.toStringTag&&Object.defineProperty(I.prototype,r.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function IsWritableStreamDefaultWriter(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_ownerWritableStream")}function WritableStreamDefaultWriterClose(t){return WritableStreamClose(t._ownerWritableStream)}function WritableStreamDefaultWriterEnsureClosedPromiseRejected(t,r){"pending"===t._closedPromiseState?defaultWriterClosedPromiseReject(t,r):function defaultWriterClosedPromiseResetToRejected(t,r){defaultWriterClosedPromiseInitializeAsRejected(t,r)}(t,r)}function WritableStreamDefaultWriterEnsureReadyPromiseRejected(t,r){"pending"===t._readyPromiseState?defaultWriterReadyPromiseReject(t,r):function defaultWriterReadyPromiseResetToRejected(t,r){defaultWriterReadyPromiseInitializeAsRejected(t,r)}(t,r)}function WritableStreamDefaultWriterRelease(t){var r=t._ownerWritableStream,a=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");WritableStreamDefaultWriterEnsureReadyPromiseRejected(t,a);WritableStreamDefaultWriterEnsureClosedPromiseRejected(t,a);r._writer=void 0;t._ownerWritableStream=void 0}function WritableStreamDefaultWriterWrite(t,r){var a=t._ownerWritableStream,i=a._writableStreamController,o=function WritableStreamDefaultControllerGetChunkSize(t,r){try{return t._strategySizeAlgorithm(r)}catch(r){WritableStreamDefaultControllerErrorIfNeeded(t,r);return 1}}(i,r);if(a!==t._ownerWritableStream)return promiseRejectedWith(defaultWriterLockException("write to"));var l=a._state;if("errored"===l)return promiseRejectedWith(a._storedError);if(WritableStreamCloseQueuedOrInFlight(a)||"closed"===l)return promiseRejectedWith(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===l)return promiseRejectedWith(a._storedError);var u=function WritableStreamAddWriteRequest(t){return newPromise((function(r,a){var i={_resolve:r,_reject:a};t._writeRequests.push(i)}))}(a);!function WritableStreamDefaultControllerWrite(t,r,a){try{EnqueueValueWithSize(t,r,a)}catch(r){WritableStreamDefaultControllerErrorIfNeeded(t,r);return}var i=t._controlledWritableStream;WritableStreamCloseQueuedOrInFlight(i)||"writable"!==i._state||WritableStreamUpdateBackpressure(i,WritableStreamDefaultControllerGetBackpressure(t));WritableStreamDefaultControllerAdvanceQueueIfNeeded(t)}(i,r,o);return u}var O={},L=function(){function WritableStreamDefaultController(){throw new TypeError("Illegal constructor")}WritableStreamDefaultController.prototype.error=function(t){void 0===t&&(t=void 0);if(!function IsWritableStreamDefaultController(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledWritableStream")}(this))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this._controlledWritableStream._state&&WritableStreamDefaultControllerError(this,t)};WritableStreamDefaultController.prototype[p]=function(t){var r=this._abortAlgorithm(t);WritableStreamDefaultControllerClearAlgorithms(this);return r};WritableStreamDefaultController.prototype[m]=function(){ResetQueue(this)};return WritableStreamDefaultController}();Object.defineProperties(L.prototype,{error:{enumerable:!0}});"symbol"==typeof r.toStringTag&&Object.defineProperty(L.prototype,r.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function SetUpWritableStreamDefaultController(t,r,a,i,o,l,u,c){r._controlledWritableStream=t;t._writableStreamController=r;r._queue=void 0;r._queueTotalSize=void 0;ResetQueue(r);r._started=!1;r._strategySizeAlgorithm=c;r._strategyHWM=u;r._writeAlgorithm=i;r._closeAlgorithm=o;r._abortAlgorithm=l;var d=WritableStreamDefaultControllerGetBackpressure(r);WritableStreamUpdateBackpressure(t,d);uponPromise(promiseResolvedWith(a()),(function(){r._started=!0;WritableStreamDefaultControllerAdvanceQueueIfNeeded(r)}),(function(a){r._started=!0;WritableStreamDealWithRejection(t,a)}))}function WritableStreamDefaultControllerClearAlgorithms(t){t._writeAlgorithm=void 0;t._closeAlgorithm=void 0;t._abortAlgorithm=void 0;t._strategySizeAlgorithm=void 0}function WritableStreamDefaultControllerGetDesiredSize(t){return t._strategyHWM-t._queueTotalSize}function WritableStreamDefaultControllerAdvanceQueueIfNeeded(t){var r=t._controlledWritableStream;if(t._started&&void 0===r._inFlightWriteRequest)if("erroring"!==r._state){if(0!==t._queue.length){var a=function PeekQueueValue(t){return t._queue.peek().value}(t);a===O?function WritableStreamDefaultControllerProcessClose(t){var r=t._controlledWritableStream;!function WritableStreamMarkCloseRequestInFlight(t){t._inFlightCloseRequest=t._closeRequest;t._closeRequest=void 0}(r);DequeueValue(t);var a=t._closeAlgorithm();WritableStreamDefaultControllerClearAlgorithms(t);uponPromise(a,(function(){!function WritableStreamFinishInFlightClose(t){t._inFlightCloseRequest._resolve(void 0);t._inFlightCloseRequest=void 0;if("erroring"===t._state){t._storedError=void 0;if(void 0!==t._pendingAbortRequest){t._pendingAbortRequest._resolve();t._pendingAbortRequest=void 0}}t._state="closed";var r=t._writer;void 0!==r&&defaultWriterClosedPromiseResolve(r)}(r)}),(function(t){!function WritableStreamFinishInFlightCloseWithError(t,r){t._inFlightCloseRequest._reject(r);t._inFlightCloseRequest=void 0;if(void 0!==t._pendingAbortRequest){t._pendingAbortRequest._reject(r);t._pendingAbortRequest=void 0}WritableStreamDealWithRejection(t,r)}(r,t)}))}(t):function WritableStreamDefaultControllerProcessWrite(t,r){var a=t._controlledWritableStream;!function WritableStreamMarkFirstWriteRequestInFlight(t){t._inFlightWriteRequest=t._writeRequests.shift()}(a);uponPromise(t._writeAlgorithm(r),(function(){!function WritableStreamFinishInFlightWrite(t){t._inFlightWriteRequest._resolve(void 0);t._inFlightWriteRequest=void 0}(a);var r=a._state;DequeueValue(t);if(!WritableStreamCloseQueuedOrInFlight(a)&&"writable"===r){var i=WritableStreamDefaultControllerGetBackpressure(t);WritableStreamUpdateBackpressure(a,i)}WritableStreamDefaultControllerAdvanceQueueIfNeeded(t)}),(function(r){"writable"===a._state&&WritableStreamDefaultControllerClearAlgorithms(t);!function WritableStreamFinishInFlightWriteWithError(t,r){t._inFlightWriteRequest._reject(r);t._inFlightWriteRequest=void 0;WritableStreamDealWithRejection(t,r)}(a,r)}))}(t,a)}}else WritableStreamFinishErroring(r)}function WritableStreamDefaultControllerErrorIfNeeded(t,r){"writable"===t._controlledWritableStream._state&&WritableStreamDefaultControllerError(t,r)}function WritableStreamDefaultControllerGetBackpressure(t){return WritableStreamDefaultControllerGetDesiredSize(t)<=0}function WritableStreamDefaultControllerError(t,r){var a=t._controlledWritableStream;WritableStreamDefaultControllerClearAlgorithms(t);WritableStreamStartErroring(a,r)}function streamBrandCheckException(t){return new TypeError("WritableStream.prototype."+t+" can only be used on a WritableStream")}function defaultWriterBrandCheckException(t){return new TypeError("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function defaultWriterLockException(t){return new TypeError("Cannot "+t+" a stream using a released writer")}function defaultWriterClosedPromiseInitialize(t){t._closedPromise=newPromise((function(r,a){t._closedPromise_resolve=r;t._closedPromise_reject=a;t._closedPromiseState="pending"}))}function defaultWriterClosedPromiseInitializeAsRejected(t,r){defaultWriterClosedPromiseInitialize(t);defaultWriterClosedPromiseReject(t,r)}function defaultWriterClosedPromiseReject(t,r){if(void 0!==t._closedPromise_reject){setPromiseIsHandledToTrue(t._closedPromise);t._closedPromise_reject(r);t._closedPromise_resolve=void 0;t._closedPromise_reject=void 0;t._closedPromiseState="rejected"}}function defaultWriterClosedPromiseResolve(t){if(void 0!==t._closedPromise_resolve){t._closedPromise_resolve(void 0);t._closedPromise_resolve=void 0;t._closedPromise_reject=void 0;t._closedPromiseState="resolved"}}function defaultWriterReadyPromiseInitialize(t){t._readyPromise=newPromise((function(r,a){t._readyPromise_resolve=r;t._readyPromise_reject=a}));t._readyPromiseState="pending"}function defaultWriterReadyPromiseInitializeAsRejected(t,r){defaultWriterReadyPromiseInitialize(t);defaultWriterReadyPromiseReject(t,r)}function defaultWriterReadyPromiseInitializeAsResolved(t){defaultWriterReadyPromiseInitialize(t);defaultWriterReadyPromiseResolve(t)}function defaultWriterReadyPromiseReject(t,r){if(void 0!==t._readyPromise_reject){setPromiseIsHandledToTrue(t._readyPromise);t._readyPromise_reject(r);t._readyPromise_resolve=void 0;t._readyPromise_reject=void 0;t._readyPromiseState="rejected"}}function defaultWriterReadyPromiseResolve(t){if(void 0!==t._readyPromise_resolve){t._readyPromise_resolve(void 0);t._readyPromise_resolve=void 0;t._readyPromise_reject=void 0;t._readyPromiseState="fulfilled"}}var D="undefined"!=typeof DOMException?DOMException:void 0,M=function isDOMExceptionConstructor(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{new t;return!0}catch(t){return!1}}(D)?D:function createDOMExceptionPolyfill(){var t=function DOMException(t,r){this.message=t||"";this.name=r||"Error";Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};t.prototype=Object.create(Error.prototype);Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0});return t}();function ReadableStreamPipeTo(t,r,a,i,o,l){var u=AcquireReadableStreamDefaultReader(t),c=AcquireWritableStreamDefaultWriter(r);t._disturbed=!0;var d=!1,h=promiseResolvedWith(void 0);return newPromise((function(p,m){var g;if(void 0!==l){g=function(){var a=new M("Aborted","AbortError"),l=[];i||l.push((function(){return"writable"===r._state?WritableStreamAbort(r,a):promiseResolvedWith(void 0)}));o||l.push((function(){return"readable"===t._state?ReadableStreamCancel(t,a):promiseResolvedWith(void 0)}));shutdownWithAction((function(){return Promise.all(l.map((function(t){return t()})))}),!0,a)};if(l.aborted){g();return}l.addEventListener("abort",g)}isOrBecomesErrored(t,u._closedPromise,(function(t){i?shutdown(!0,t):shutdownWithAction((function(){return WritableStreamAbort(r,t)}),!0,t)}));isOrBecomesErrored(r,c._closedPromise,(function(r){o?shutdown(!0,r):shutdownWithAction((function(){return ReadableStreamCancel(t,r)}),!0,r)}));!function isOrBecomesClosed(t,r,a){"closed"===t._state?a():uponFulfillment(r,a)}(t,u._closedPromise,(function(){a?shutdown():shutdownWithAction((function(){return function WritableStreamDefaultWriterCloseWithErrorPropagation(t){var r=t._ownerWritableStream,a=r._state;return WritableStreamCloseQueuedOrInFlight(r)||"closed"===a?promiseResolvedWith(void 0):"errored"===a?promiseRejectedWith(r._storedError):WritableStreamDefaultWriterClose(t)}(c)}))}));if(WritableStreamCloseQueuedOrInFlight(r)||"closed"===r._state){var v=new TypeError("the destination writable stream closed before all data could be piped to it");o?shutdown(!0,v):shutdownWithAction((function(){return ReadableStreamCancel(t,v)}),!0,v)}setPromiseIsHandledToTrue(function pipeLoop(){return newPromise((function(t,r){!function next(a){a?t():PerformPromiseThen(function pipeStep(){return d?promiseResolvedWith(!0):PerformPromiseThen(c._readyPromise,(function(){return newPromise((function(t,r){ReadableStreamDefaultReaderRead(u,{_chunkSteps:function(r){h=PerformPromiseThen(WritableStreamDefaultWriterWrite(c,r),void 0,noop);t(!1)},_closeSteps:function(){return t(!0)},_errorSteps:r})}))}))}(),next,r)}(!1)}))}());function waitForWritesToFinish(){var t=h;return PerformPromiseThen(h,(function(){return t!==h?waitForWritesToFinish():void 0}))}function isOrBecomesErrored(t,r,a){"errored"===t._state?a(t._storedError):uponRejection(r,a)}function shutdownWithAction(t,a,i){if(!d){d=!0;"writable"!==r._state||WritableStreamCloseQueuedOrInFlight(r)?doTheRest():uponFulfillment(waitForWritesToFinish(),doTheRest)}function doTheRest(){uponPromise(t(),(function(){return finalize(a,i)}),(function(t){return finalize(!0,t)}))}}function shutdown(t,a){if(!d){d=!0;"writable"!==r._state||WritableStreamCloseQueuedOrInFlight(r)?finalize(t,a):uponFulfillment(waitForWritesToFinish(),(function(){return finalize(t,a)}))}}function finalize(t,r){WritableStreamDefaultWriterRelease(c);ReadableStreamReaderGenericRelease(u);void 0!==l&&l.removeEventListener("abort",g);t?m(r):p(void 0)}}))}var B=function(){function ReadableStreamDefaultController(){throw new TypeError("Illegal constructor")}Object.defineProperty(ReadableStreamDefaultController.prototype,"desiredSize",{get:function(){if(!IsReadableStreamDefaultController(this))throw defaultControllerBrandCheckException("desiredSize");return ReadableStreamDefaultControllerGetDesiredSize(this)},enumerable:!1,configurable:!0});ReadableStreamDefaultController.prototype.close=function(){if(!IsReadableStreamDefaultController(this))throw defaultControllerBrandCheckException("close");if(!ReadableStreamDefaultControllerCanCloseOrEnqueue(this))throw new TypeError("The stream is not in a state that permits close");ReadableStreamDefaultControllerClose(this)};ReadableStreamDefaultController.prototype.enqueue=function(t){void 0===t&&(t=void 0);if(!IsReadableStreamDefaultController(this))throw defaultControllerBrandCheckException("enqueue");if(!ReadableStreamDefaultControllerCanCloseOrEnqueue(this))throw new TypeError("The stream is not in a state that permits enqueue");return ReadableStreamDefaultControllerEnqueue(this,t)};ReadableStreamDefaultController.prototype.error=function(t){void 0===t&&(t=void 0);if(!IsReadableStreamDefaultController(this))throw defaultControllerBrandCheckException("error");ReadableStreamDefaultControllerError(this,t)};ReadableStreamDefaultController.prototype[g]=function(t){ResetQueue(this);var r=this._cancelAlgorithm(t);ReadableStreamDefaultControllerClearAlgorithms(this);return r};ReadableStreamDefaultController.prototype[v]=function(t){var r=this._controlledReadableStream;if(this._queue.length>0){var a=DequeueValue(this);if(this._closeRequested&&0===this._queue.length){ReadableStreamDefaultControllerClearAlgorithms(this);ReadableStreamClose(r)}else ReadableStreamDefaultControllerCallPullIfNeeded(this);t._chunkSteps(a)}else{ReadableStreamAddReadRequest(r,t);ReadableStreamDefaultControllerCallPullIfNeeded(this)}};return ReadableStreamDefaultController}();Object.defineProperties(B.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}});"symbol"==typeof r.toStringTag&&Object.defineProperty(B.prototype,r.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function IsReadableStreamDefaultController(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledReadableStream")}function ReadableStreamDefaultControllerCallPullIfNeeded(t){if(ReadableStreamDefaultControllerShouldCallPull(t))if(t._pulling)t._pullAgain=!0;else{t._pulling=!0;uponPromise(t._pullAlgorithm(),(function(){t._pulling=!1;if(t._pullAgain){t._pullAgain=!1;ReadableStreamDefaultControllerCallPullIfNeeded(t)}}),(function(r){ReadableStreamDefaultControllerError(t,r)}))}}function ReadableStreamDefaultControllerShouldCallPull(t){var r=t._controlledReadableStream;return!!ReadableStreamDefaultControllerCanCloseOrEnqueue(t)&&!!t._started&&(!!(IsReadableStreamLocked(r)&&ReadableStreamGetNumReadRequests(r)>0)||ReadableStreamDefaultControllerGetDesiredSize(t)>0)}function ReadableStreamDefaultControllerClearAlgorithms(t){t._pullAlgorithm=void 0;t._cancelAlgorithm=void 0;t._strategySizeAlgorithm=void 0}function ReadableStreamDefaultControllerClose(t){if(ReadableStreamDefaultControllerCanCloseOrEnqueue(t)){var r=t._controlledReadableStream;t._closeRequested=!0;if(0===t._queue.length){ReadableStreamDefaultControllerClearAlgorithms(t);ReadableStreamClose(r)}}}function ReadableStreamDefaultControllerEnqueue(t,r){if(ReadableStreamDefaultControllerCanCloseOrEnqueue(t)){var a=t._controlledReadableStream;if(IsReadableStreamLocked(a)&&ReadableStreamGetNumReadRequests(a)>0)ReadableStreamFulfillReadRequest(a,r,!1);else{var i=void 0;try{i=t._strategySizeAlgorithm(r)}catch(r){ReadableStreamDefaultControllerError(t,r);throw r}try{EnqueueValueWithSize(t,r,i)}catch(r){ReadableStreamDefaultControllerError(t,r);throw r}}ReadableStreamDefaultControllerCallPullIfNeeded(t)}}function ReadableStreamDefaultControllerError(t,r){var a=t._controlledReadableStream;if("readable"===a._state){ResetQueue(t);ReadableStreamDefaultControllerClearAlgorithms(t);ReadableStreamError(a,r)}}function ReadableStreamDefaultControllerGetDesiredSize(t){var r=t._controlledReadableStream._state;return"errored"===r?null:"closed"===r?0:t._strategyHWM-t._queueTotalSize}function ReadableStreamDefaultControllerCanCloseOrEnqueue(t){var r=t._controlledReadableStream._state;return!t._closeRequested&&"readable"===r}function SetUpReadableStreamDefaultController(t,r,a,i,o,l,u){r._controlledReadableStream=t;r._queue=void 0;r._queueTotalSize=void 0;ResetQueue(r);r._started=!1;r._closeRequested=!1;r._pullAgain=!1;r._pulling=!1;r._strategySizeAlgorithm=u;r._strategyHWM=l;r._pullAlgorithm=i;r._cancelAlgorithm=o;t._readableStreamController=r;uponPromise(promiseResolvedWith(a()),(function(){r._started=!0;ReadableStreamDefaultControllerCallPullIfNeeded(r)}),(function(t){ReadableStreamDefaultControllerError(r,t)}))}function defaultControllerBrandCheckException(t){return new TypeError("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}function convertUnderlyingSourceCancelCallback(t,r,a){assertFunction(t,a);return function(a){return promiseCall(t,r,[a])}}function convertUnderlyingSourcePullCallback(t,r,a){assertFunction(t,a);return function(a){return promiseCall(t,r,[a])}}function convertUnderlyingSourceStartCallback(t,r,a){assertFunction(t,a);return function(a){return reflectCall(t,r,[a])}}function convertReadableStreamType(t,r){if("bytes"!=(t=""+t))throw new TypeError(r+" '"+t+"' is not a valid enumeration value for ReadableStreamType");return t}function convertReadableStreamReaderMode(t,r){if("byob"!=(t=""+t))throw new TypeError(r+" '"+t+"' is not a valid enumeration value for ReadableStreamReaderMode");return t}function convertPipeOptions(t,r){assertDictionary(t,r);var a=null==t?void 0:t.preventAbort,i=null==t?void 0:t.preventCancel,o=null==t?void 0:t.preventClose,l=null==t?void 0:t.signal;void 0!==l&&function assertAbortSignal(t,r){if(!function isAbortSignal(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}(t))throw new TypeError(r+" is not an AbortSignal.")}(l,r+" has member 'signal' that");return{preventAbort:Boolean(a),preventCancel:Boolean(i),preventClose:Boolean(o),signal:l}}var N=function(){function ReadableStream(t,r){void 0===t&&(t={});void 0===r&&(r={});void 0===t?t=null:assertObject(t,"First parameter");var a=convertQueuingStrategy(r,"Second parameter"),i=function convertUnderlyingDefaultOrByteSource(t,r){assertDictionary(t,r);var a=t,i=null==a?void 0:a.autoAllocateChunkSize,o=null==a?void 0:a.cancel,l=null==a?void 0:a.pull,u=null==a?void 0:a.start,c=null==a?void 0:a.type;return{autoAllocateChunkSize:void 0===i?void 0:convertUnsignedLongLongWithEnforceRange(i,r+" has member 'autoAllocateChunkSize' that"),cancel:void 0===o?void 0:convertUnderlyingSourceCancelCallback(o,a,r+" has member 'cancel' that"),pull:void 0===l?void 0:convertUnderlyingSourcePullCallback(l,a,r+" has member 'pull' that"),start:void 0===u?void 0:convertUnderlyingSourceStartCallback(u,a,r+" has member 'start' that"),type:void 0===c?void 0:convertReadableStreamType(c,r+" has member 'type' that")}}(t,"First parameter");InitializeReadableStream(this);if("bytes"===i.type){if(void 0!==a.size)throw new RangeError("The strategy for a byte stream cannot have a size function");SetUpReadableByteStreamControllerFromUnderlyingSource(this,i,ExtractHighWaterMark(a,0))}else{var o=ExtractSizeAlgorithm(a);!function SetUpReadableStreamDefaultControllerFromUnderlyingSource(t,r,a,i){var o=Object.create(B.prototype),startAlgorithm=function(){},pullAlgorithm=function(){return promiseResolvedWith(void 0)},cancelAlgorithm=function(){return promiseResolvedWith(void 0)};void 0!==r.start&&(startAlgorithm=function(){return r.start(o)});void 0!==r.pull&&(pullAlgorithm=function(){return r.pull(o)});void 0!==r.cancel&&(cancelAlgorithm=function(t){return r.cancel(t)});SetUpReadableStreamDefaultController(t,o,startAlgorithm,pullAlgorithm,cancelAlgorithm,a,i)}(this,i,ExtractHighWaterMark(a,1),o)}}Object.defineProperty(ReadableStream.prototype,"locked",{get:function(){if(!IsReadableStream(this))throw streamBrandCheckException$1("locked");return IsReadableStreamLocked(this)},enumerable:!1,configurable:!0});ReadableStream.prototype.cancel=function(t){void 0===t&&(t=void 0);return IsReadableStream(this)?IsReadableStreamLocked(this)?promiseRejectedWith(new TypeError("Cannot cancel a stream that already has a reader")):ReadableStreamCancel(this,t):promiseRejectedWith(streamBrandCheckException$1("cancel"))};ReadableStream.prototype.getReader=function(t){void 0===t&&(t=void 0);if(!IsReadableStream(this))throw streamBrandCheckException$1("getReader");return void 0===function convertReaderOptions(t,r){assertDictionary(t,r);var a=null==t?void 0:t.mode;return{mode:void 0===a?void 0:convertReadableStreamReaderMode(a,r+" has member 'mode' that")}}(t,"First parameter").mode?AcquireReadableStreamDefaultReader(this):function AcquireReadableStreamBYOBReader(t){return new E(t)}(this)};ReadableStream.prototype.pipeThrough=function(t,r){void 0===r&&(r={});if(!IsReadableStream(this))throw streamBrandCheckException$1("pipeThrough");assertRequiredArgument(t,1,"pipeThrough");var a=function convertReadableWritablePair(t,r){assertDictionary(t,r);var a=null==t?void 0:t.readable;assertRequiredField(a,"readable","ReadableWritablePair");assertReadableStream(a,r+" has member 'readable' that");var i=null==t?void 0:t.writable;assertRequiredField(i,"writable","ReadableWritablePair");assertWritableStream(i,r+" has member 'writable' that");return{readable:a,writable:i}}(t,"First parameter"),i=convertPipeOptions(r,"Second parameter");if(IsReadableStreamLocked(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(IsWritableStreamLocked(a.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");setPromiseIsHandledToTrue(ReadableStreamPipeTo(this,a.writable,i.preventClose,i.preventAbort,i.preventCancel,i.signal));return a.readable};ReadableStream.prototype.pipeTo=function(t,r){void 0===r&&(r={});if(!IsReadableStream(this))return promiseRejectedWith(streamBrandCheckException$1("pipeTo"));if(void 0===t)return promiseRejectedWith("Parameter 1 is required in 'pipeTo'.");if(!IsWritableStream(t))return promiseRejectedWith(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var a;try{a=convertPipeOptions(r,"Second parameter")}catch(t){return promiseRejectedWith(t)}return IsReadableStreamLocked(this)?promiseRejectedWith(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):IsWritableStreamLocked(t)?promiseRejectedWith(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):ReadableStreamPipeTo(this,t,a.preventClose,a.preventAbort,a.preventCancel,a.signal)};ReadableStream.prototype.tee=function(){if(!IsReadableStream(this))throw streamBrandCheckException$1("tee");var t=function ReadableStreamTee(t,r){var a,i,o,l,u,c=AcquireReadableStreamDefaultReader(t),h=!1,p=!1,m=!1,g=newPromise((function(t){u=t}));function pullAlgorithm(){if(h)return promiseResolvedWith(void 0);h=!0;ReadableStreamDefaultReaderRead(c,{_chunkSteps:function(t){d((function(){h=!1;var r=t,a=t;p||ReadableStreamDefaultControllerEnqueue(o._readableStreamController,r);m||ReadableStreamDefaultControllerEnqueue(l._readableStreamController,a);u(void 0)}))},_closeSteps:function(){h=!1;p||ReadableStreamDefaultControllerClose(o._readableStreamController);m||ReadableStreamDefaultControllerClose(l._readableStreamController)},_errorSteps:function(){h=!1}});return promiseResolvedWith(void 0)}function startAlgorithm(){}o=CreateReadableStream(startAlgorithm,pullAlgorithm,(function cancel1Algorithm(r){p=!0;a=r;if(m){var o=CreateArrayFromList([a,i]),l=ReadableStreamCancel(t,o);u(l)}return g}));l=CreateReadableStream(startAlgorithm,pullAlgorithm,(function cancel2Algorithm(r){m=!0;i=r;if(p){var o=CreateArrayFromList([a,i]),l=ReadableStreamCancel(t,o);u(l)}return g}));uponRejection(c._closedPromise,(function(t){ReadableStreamDefaultControllerError(o._readableStreamController,t);ReadableStreamDefaultControllerError(l._readableStreamController,t);u(void 0)}));return[o,l]}(this);return CreateArrayFromList(t)};ReadableStream.prototype.values=function(t){void 0===t&&(t=void 0);if(!IsReadableStream(this))throw streamBrandCheckException$1("values");return function AcquireReadableStreamAsyncIterator(t,r){var a=AcquireReadableStreamDefaultReader(t),i=new P(a,r),o=Object.create(k);o._asyncIteratorImpl=i;return o}(this,function convertIteratorOptions(t,r){assertDictionary(t,r);var a=null==t?void 0:t.preventCancel;return{preventCancel:Boolean(a)}}(t,"First parameter").preventCancel)};return ReadableStream}();Object.defineProperties(N.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}});"symbol"==typeof r.toStringTag&&Object.defineProperty(N.prototype,r.toStringTag,{value:"ReadableStream",configurable:!0});"symbol"==typeof r.asyncIterator&&Object.defineProperty(N.prototype,r.asyncIterator,{value:N.prototype.values,writable:!0,configurable:!0});function CreateReadableStream(t,r,a,i,o){void 0===i&&(i=1);void 0===o&&(o=function(){return 1});var l=Object.create(N.prototype);InitializeReadableStream(l);SetUpReadableStreamDefaultController(l,Object.create(B.prototype),t,r,a,i,o);return l}function InitializeReadableStream(t){t._state="readable";t._reader=void 0;t._storedError=void 0;t._disturbed=!1}function IsReadableStream(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readableStreamController")}function IsReadableStreamLocked(t){return void 0!==t._reader}function ReadableStreamCancel(t,r){t._disturbed=!0;if("closed"===t._state)return promiseResolvedWith(void 0);if("errored"===t._state)return promiseRejectedWith(t._storedError);ReadableStreamClose(t);return transformPromiseWith(t._readableStreamController[g](r),noop)}function ReadableStreamClose(t){t._state="closed";var r=t._reader;if(void 0!==r){if(IsReadableStreamDefaultReader(r)){r._readRequests.forEach((function(t){t._closeSteps()}));r._readRequests=new h}defaultReaderClosedPromiseResolve(r)}}function ReadableStreamError(t,r){t._state="errored";t._storedError=r;var a=t._reader;if(void 0!==a){if(IsReadableStreamDefaultReader(a)){a._readRequests.forEach((function(t){t._errorSteps(r)}));a._readRequests=new h}else{a._readIntoRequests.forEach((function(t){t._errorSteps(r)}));a._readIntoRequests=new h}defaultReaderClosedPromiseReject(a,r)}}function streamBrandCheckException$1(t){return new TypeError("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}function convertQueuingStrategyInit(t,r){assertDictionary(t,r);var a=null==t?void 0:t.highWaterMark;assertRequiredField(a,"highWaterMark","QueuingStrategyInit");return{highWaterMark:convertUnrestrictedDouble(a)}}var W=function size(t){return t.byteLength},j=function(){function ByteLengthQueuingStrategy(t){assertRequiredArgument(t,1,"ByteLengthQueuingStrategy");t=convertQueuingStrategyInit(t,"First parameter");this._byteLengthQueuingStrategyHighWaterMark=t.highWaterMark}Object.defineProperty(ByteLengthQueuingStrategy.prototype,"highWaterMark",{get:function(){if(!IsByteLengthQueuingStrategy(this))throw byteLengthBrandCheckException("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0});Object.defineProperty(ByteLengthQueuingStrategy.prototype,"size",{get:function(){if(!IsByteLengthQueuingStrategy(this))throw byteLengthBrandCheckException("size");return W},enumerable:!1,configurable:!0});return ByteLengthQueuingStrategy}();Object.defineProperties(j.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}});"symbol"==typeof r.toStringTag&&Object.defineProperty(j.prototype,r.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function byteLengthBrandCheckException(t){return new TypeError("ByteLengthQueuingStrategy.prototype."+t+" can only be used on a ByteLengthQueuingStrategy")}function IsByteLengthQueuingStrategy(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_byteLengthQueuingStrategyHighWaterMark")}var V=function size(){return 1},U=function(){function CountQueuingStrategy(t){assertRequiredArgument(t,1,"CountQueuingStrategy");t=convertQueuingStrategyInit(t,"First parameter");this._countQueuingStrategyHighWaterMark=t.highWaterMark}Object.defineProperty(CountQueuingStrategy.prototype,"highWaterMark",{get:function(){if(!IsCountQueuingStrategy(this))throw countBrandCheckException("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0});Object.defineProperty(CountQueuingStrategy.prototype,"size",{get:function(){if(!IsCountQueuingStrategy(this))throw countBrandCheckException("size");return V},enumerable:!1,configurable:!0});return CountQueuingStrategy}();Object.defineProperties(U.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}});"symbol"==typeof r.toStringTag&&Object.defineProperty(U.prototype,r.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function countBrandCheckException(t){return new TypeError("CountQueuingStrategy.prototype."+t+" can only be used on a CountQueuingStrategy")}function IsCountQueuingStrategy(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_countQueuingStrategyHighWaterMark")}function convertTransformerFlushCallback(t,r,a){assertFunction(t,a);return function(a){return promiseCall(t,r,[a])}}function convertTransformerStartCallback(t,r,a){assertFunction(t,a);return function(a){return reflectCall(t,r,[a])}}function convertTransformerTransformCallback(t,r,a){assertFunction(t,a);return function(a,i){return promiseCall(t,r,[a,i])}}var q=function(){function TransformStream(t,r,a){void 0===t&&(t={});void 0===r&&(r={});void 0===a&&(a={});void 0===t&&(t=null);var i=convertQueuingStrategy(r,"Second parameter"),o=convertQueuingStrategy(a,"Third parameter"),l=function convertTransformer(t,r){assertDictionary(t,r);var a=null==t?void 0:t.flush,i=null==t?void 0:t.readableType,o=null==t?void 0:t.start,l=null==t?void 0:t.transform,u=null==t?void 0:t.writableType;return{flush:void 0===a?void 0:convertTransformerFlushCallback(a,t,r+" has member 'flush' that"),readableType:i,start:void 0===o?void 0:convertTransformerStartCallback(o,t,r+" has member 'start' that"),transform:void 0===l?void 0:convertTransformerTransformCallback(l,t,r+" has member 'transform' that"),writableType:u}}(t,"First parameter");if(void 0!==l.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==l.writableType)throw new RangeError("Invalid writableType specified");var u,c=ExtractHighWaterMark(o,0),d=ExtractSizeAlgorithm(o),h=ExtractHighWaterMark(i,1),p=ExtractSizeAlgorithm(i);!function InitializeTransformStream(t,r,a,i,o,l){function startAlgorithm(){return r}function writeAlgorithm(r){return function TransformStreamDefaultSinkWriteAlgorithm(t,r){var a=t._transformStreamController;return t._backpressure?transformPromiseWith(t._backpressureChangePromise,(function(){var i=t._writable;if("erroring"===i._state)throw i._storedError;return TransformStreamDefaultControllerPerformTransform(a,r)})):TransformStreamDefaultControllerPerformTransform(a,r)}(t,r)}function abortAlgorithm(r){return function TransformStreamDefaultSinkAbortAlgorithm(t,r){TransformStreamError(t,r);return promiseResolvedWith(void 0)}(t,r)}function closeAlgorithm(){return function TransformStreamDefaultSinkCloseAlgorithm(t){var r=t._readable,a=t._transformStreamController,i=a._flushAlgorithm();TransformStreamDefaultControllerClearAlgorithms(a);return transformPromiseWith(i,(function(){if("errored"===r._state)throw r._storedError;ReadableStreamDefaultControllerClose(r._readableStreamController)}),(function(a){TransformStreamError(t,a);throw r._storedError}))}(t)}t._writable=function CreateWritableStream(t,r,a,i,o,l){void 0===o&&(o=1);void 0===l&&(l=function(){return 1});var u=Object.create(x.prototype);InitializeWritableStream(u);SetUpWritableStreamDefaultController(u,Object.create(L.prototype),t,r,a,i,o,l);return u}(startAlgorithm,writeAlgorithm,closeAlgorithm,abortAlgorithm,a,i);function pullAlgorithm(){return function TransformStreamDefaultSourcePullAlgorithm(t){TransformStreamSetBackpressure(t,!1);return t._backpressureChangePromise}(t)}function cancelAlgorithm(r){TransformStreamErrorWritableAndUnblockWrite(t,r);return promiseResolvedWith(void 0)}t._readable=CreateReadableStream(startAlgorithm,pullAlgorithm,cancelAlgorithm,o,l);t._backpressure=void 0;t._backpressureChangePromise=void 0;t._backpressureChangePromise_resolve=void 0;TransformStreamSetBackpressure(t,!0);t._transformStreamController=void 0}(this,newPromise((function(t){u=t})),h,p,c,d);!function SetUpTransformStreamDefaultControllerFromTransformer(t,r){var a=Object.create(G.prototype),transformAlgorithm=function(t){try{TransformStreamDefaultControllerEnqueue(a,t);return promiseResolvedWith(void 0)}catch(t){return promiseRejectedWith(t)}},flushAlgorithm=function(){return promiseResolvedWith(void 0)};void 0!==r.transform&&(transformAlgorithm=function(t){return r.transform(t,a)});void 0!==r.flush&&(flushAlgorithm=function(){return r.flush(a)});!function SetUpTransformStreamDefaultController(t,r,a,i){r._controlledTransformStream=t;t._transformStreamController=r;r._transformAlgorithm=a;r._flushAlgorithm=i}(t,a,transformAlgorithm,flushAlgorithm)}(this,l);void 0!==l.start?u(l.start(this._transformStreamController)):u(void 0)}Object.defineProperty(TransformStream.prototype,"readable",{get:function(){if(!IsTransformStream(this))throw streamBrandCheckException$2("readable");return this._readable},enumerable:!1,configurable:!0});Object.defineProperty(TransformStream.prototype,"writable",{get:function(){if(!IsTransformStream(this))throw streamBrandCheckException$2("writable");return this._writable},enumerable:!1,configurable:!0});return TransformStream}();Object.defineProperties(q.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}});"symbol"==typeof r.toStringTag&&Object.defineProperty(q.prototype,r.toStringTag,{value:"TransformStream",configurable:!0});function IsTransformStream(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_transformStreamController")}function TransformStreamError(t,r){ReadableStreamDefaultControllerError(t._readable._readableStreamController,r);TransformStreamErrorWritableAndUnblockWrite(t,r)}function TransformStreamErrorWritableAndUnblockWrite(t,r){TransformStreamDefaultControllerClearAlgorithms(t._transformStreamController);WritableStreamDefaultControllerErrorIfNeeded(t._writable._writableStreamController,r);t._backpressure&&TransformStreamSetBackpressure(t,!1)}function TransformStreamSetBackpressure(t,r){void 0!==t._backpressureChangePromise&&t._backpressureChangePromise_resolve();t._backpressureChangePromise=newPromise((function(r){t._backpressureChangePromise_resolve=r}));t._backpressure=r}var G=function(){function TransformStreamDefaultController(){throw new TypeError("Illegal constructor")}Object.defineProperty(TransformStreamDefaultController.prototype,"desiredSize",{get:function(){if(!IsTransformStreamDefaultController(this))throw defaultControllerBrandCheckException$1("desiredSize");return ReadableStreamDefaultControllerGetDesiredSize(this._controlledTransformStream._readable._readableStreamController)},enumerable:!1,configurable:!0});TransformStreamDefaultController.prototype.enqueue=function(t){void 0===t&&(t=void 0);if(!IsTransformStreamDefaultController(this))throw defaultControllerBrandCheckException$1("enqueue");TransformStreamDefaultControllerEnqueue(this,t)};TransformStreamDefaultController.prototype.error=function(t){void 0===t&&(t=void 0);if(!IsTransformStreamDefaultController(this))throw defaultControllerBrandCheckException$1("error");!function TransformStreamDefaultControllerError(t,r){TransformStreamError(t._controlledTransformStream,r)}(this,t)};TransformStreamDefaultController.prototype.terminate=function(){if(!IsTransformStreamDefaultController(this))throw defaultControllerBrandCheckException$1("terminate");!function TransformStreamDefaultControllerTerminate(t){var r=t._controlledTransformStream;ReadableStreamDefaultControllerClose(r._readable._readableStreamController);var a=new TypeError("TransformStream terminated");TransformStreamErrorWritableAndUnblockWrite(r,a)}(this)};return TransformStreamDefaultController}();Object.defineProperties(G.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}});"symbol"==typeof r.toStringTag&&Object.defineProperty(G.prototype,r.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function IsTransformStreamDefaultController(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledTransformStream")}function TransformStreamDefaultControllerClearAlgorithms(t){t._transformAlgorithm=void 0;t._flushAlgorithm=void 0}function TransformStreamDefaultControllerEnqueue(t,r){var a=t._controlledTransformStream,i=a._readable._readableStreamController;if(!ReadableStreamDefaultControllerCanCloseOrEnqueue(i))throw new TypeError("Readable side is not in a state that permits enqueue");try{ReadableStreamDefaultControllerEnqueue(i,r)}catch(t){TransformStreamErrorWritableAndUnblockWrite(a,t);throw a._readable._storedError}(function ReadableStreamDefaultControllerHasBackpressure(t){return!ReadableStreamDefaultControllerShouldCallPull(t)})(i)!==a._backpressure&&TransformStreamSetBackpressure(a,!0)}function TransformStreamDefaultControllerPerformTransform(t,r){return transformPromiseWith(t._transformAlgorithm(r),void 0,(function(r){TransformStreamError(t._controlledTransformStream,r);throw r}))}function defaultControllerBrandCheckException$1(t){return new TypeError("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function streamBrandCheckException$2(t){return new TypeError("TransformStream.prototype."+t+" can only be used on a TransformStream")}t.ByteLengthQueuingStrategy=j;t.CountQueuingStrategy=U;t.ReadableByteStreamController=T;t.ReadableStream=N;t.ReadableStreamBYOBReader=E;t.ReadableStreamBYOBRequest=A;t.ReadableStreamDefaultController=B;t.ReadableStreamDefaultReader=C;t.TransformStream=q;t.TransformStreamDefaultController=G;t.WritableStream=x;t.WritableStreamDefaultController=L;t.WritableStreamDefaultWriter=I;Object.defineProperty(t,"__esModule",{value:!0})})(r)},(t,r,a)=>{a(153);var i=a(157);t.exports=i("String","padStart")},(t,r,a)=>{"use strict";var i=a(39),o=a(154).start;i({target:"String",proto:!0,forced:a(156)},{padStart:function padStart(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},(t,r,a)=>{var i=a(76),o=a(155),l=a(49),u=Math.ceil,createMethod=function(t){return function(r,a,c){var d,h,p=String(l(r)),m=p.length,g=void 0===c?" ":String(c),v=i(a);if(v<=m||""==g)return p;d=v-m;(h=o.call(g,u(d/g.length))).length>d&&(h=h.slice(0,d));return t?p+h:h+p}};t.exports={start:createMethod(!1),end:createMethod(!0)}},(t,r,a)=>{"use strict";var i=a(77),o=a(49);t.exports="".repeat||function repeat(t){var r=String(o(this)),a="",l=i(t);if(l<0||l==1/0)throw RangeError("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(r+=r))1&l&&(a+=r);return a}},(t,r,a)=>{var i=a(125);t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i)},(t,r,a)=>{var i=a(40),o=a(105),l=Function.call;t.exports=function(t,r,a){return o(l,i[t].prototype[r],a)}},(t,r,a)=>{a(159);var i=a(157);t.exports=i("String","padEnd")},(t,r,a)=>{"use strict";var i=a(39),o=a(154).end;i({target:"String",proto:!0,forced:a(156)},{padEnd:function padEnd(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},(t,r,a)=>{a(161);var i=a(72);t.exports=i.Object.values},(t,r,a)=>{var i=a(39),o=a(162).values;i({target:"Object",stat:!0},{values:function values(t){return o(t)}})},(t,r,a)=>{var i=a(42),o=a(90),l=a(46),u=a(44).f,createMethod=function(t){return function(r){for(var a,c=l(r),d=o(c),h=d.length,p=0,m=[];h>p;){a=d[p++];i&&!u.call(c,a)||m.push(t?[a,c[a]]:c[a])}return m}};t.exports={entries:createMethod(!0),values:createMethod(!1)}},(t,r,a)=>{a(164);var i=a(72);t.exports=i.Object.entries},(t,r,a)=>{var i=a(39),o=a(162).entries;i({target:"Object",stat:!0},{entries:function entries(t){return o(t)}})},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.TextLayerBuilder=r.DefaultTextLayerFactory=void 0;var i=a(7);function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}var o=function(){function TextLayerBuilder(t){var r=t.textLayerDiv,a=t.eventBus,i=t.pageIndex,o=t.viewport,l=t.findController,u=void 0===l?null:l,c=t.enhanceTextSelection,d=void 0!==c&&c;_classCallCheck(this,TextLayerBuilder);this.textLayerDiv=r;this.eventBus=a;this.textContent=null;this.textContentItemsStr=[];this.textContentStream=null;this.renderingDone=!1;this.pageIdx=i;this.pageNumber=this.pageIdx+1;this.matches=[];this.viewport=o;this.textDivs=[];this.findController=u;this.textLayerRenderTask=null;this.enhanceTextSelection=d;this._onUpdateTextLayerMatches=null;this._bindMouse()}_createClass(TextLayerBuilder,[{key:"_finishRendering",value:function _finishRendering(){this.renderingDone=!0;if(!this.enhanceTextSelection){var t=document.createElement("div");t.className="endOfContent";this.textLayerDiv.appendChild(t)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}},{key:"render",value:function render(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if((this.textContent||this.textContentStream)&&!this.renderingDone){this.cancel();this.textDivs=[];var a=document.createDocumentFragment();this.textLayerRenderTask=(0,i.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:a,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:r,enhanceTextSelection:this.enhanceTextSelection});this.textLayerRenderTask.promise.then((function(){t.textLayerDiv.appendChild(a);t._finishRendering();t._updateMatches()}),(function(t){}));if(!this._onUpdateTextLayerMatches){this._onUpdateTextLayerMatches=function(r){r.pageIndex!==t.pageIdx&&-1!==r.pageIndex||t._updateMatches()};this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)}}}},{key:"cancel",value:function cancel(){if(this.textLayerRenderTask){this.textLayerRenderTask.cancel();this.textLayerRenderTask=null}if(this._onUpdateTextLayerMatches){this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches);this._onUpdateTextLayerMatches=null}}},{key:"setTextContentStream",value:function setTextContentStream(t){this.cancel();this.textContentStream=t}},{key:"setTextContent",value:function setTextContent(t){this.cancel();this.textContent=t}},{key:"_convertMatches",value:function _convertMatches(t,r,a){if(!t)return[];for(var i=this.textContentItemsStr,o=0,l=0,u=i.length-1,c=[],d=0,h=t.length;d<h;d++){for(var p=t[d];o!==u&&p>=l+i[o].length;){l+=i[o].length;o++}o===i.length&&console.error("Could not find a matching mapping");var m={color:a?a[d]:0,begin:{divIdx:o,offset:p-l}};p+=r[d];for(;o!==u&&p>l+i[o].length;){l+=i[o].length;o++}m.end={divIdx:o,offset:p-l};c.push(m)}return c}},{key:"_renderMatches",value:function _renderMatches(t){if(0!==t.length){var r=this.findController,a=this.pageIdx,i=this.textContentItemsStr,o=this.textDivs,l=a===r.selected.pageIdx,u=r.selected.matchIdx,c=null,d={divIdx:-1,offset:void 0},h=u,p=h+1;if(r.state.highlightAll){h=0;p=t.length}else if(!l)return;for(var m=h;m<p;m++){var g=t[m],v=g.begin,y=g.end,b=l&&m===u,S=(b?" selected":"")+" color"+g.color;b&&r.scrollMatchIntoView({element:o[v.divIdx],pageIndex:a,matchIndex:u});if(c&&v.divIdx===c.divIdx)appendTextToDiv(c.divIdx,c.offset,v.offset);else{null!==c&&appendTextToDiv(c.divIdx,c.offset,d.offset);beginText(v)}if(v.divIdx===y.divIdx)appendTextToDiv(v.divIdx,v.offset,y.offset,"highlight"+S);else{appendTextToDiv(v.divIdx,v.offset,d.offset,"highlight begin"+S);for(var w=v.divIdx+1,C=y.divIdx;w<C;w++)o[w].className="highlight middle"+S;beginText(y,"highlight end"+S)}c=y}c&&appendTextToDiv(c.divIdx,c.offset,d.offset)}function beginText(t,r){var a=t.divIdx;o[a].textContent="";appendTextToDiv(a,0,t.offset,r)}function appendTextToDiv(t,r,a,l){var u=o[t],c=i[t].substring(r,a),d=document.createTextNode(c);if(l){var h=document.createElement("span");h.className=l;h.appendChild(d);u.appendChild(h)}else u.appendChild(d)}}},{key:"_updateMatches",value:function _updateMatches(){if(this.renderingDone){for(var t=this.findController,r=this.matches,a=this.pageIdx,i=this.textContentItemsStr,o=this.textDivs,l=-1,u=0,c=r.length;u<c;u++){for(var d=r[u],h=Math.max(l,d.begin.divIdx),p=d.end.divIdx;h<=p;h++){var m=o[h];m.textContent=i[h];m.className=""}l=d.end.divIdx+1}if(t&&t.highlightMatches){var g=t.pageMatches[a]||null,v=t.pageMatchesLength[a]||null,y=t.pageMatchesColor[a]||null;this.matches=this._convertMatches(g,v,y);this._renderMatches(this.matches)}}}},{key:"_bindMouse",value:function _bindMouse(){var t=this,r=this.textLayerDiv,a=null;r.addEventListener("mousedown",(function(i){if(t.enhanceTextSelection&&t.textLayerRenderTask){t.textLayerRenderTask.expandTextDivs(!0);if(a){clearTimeout(a);a=null}}else{var o=r.querySelector(".endOfContent");if(o){var l=i.target!==r;if(l=l&&"none"!==window.getComputedStyle(o).getPropertyValue("-moz-user-select")){var u=r.getBoundingClientRect(),c=Math.max(0,(i.pageY-u.top)/u.height);o.style.top=(100*c).toFixed(2)+"%"}o.classList.add("active")}}}));r.addEventListener("mouseup",(function(){if(t.enhanceTextSelection&&t.textLayerRenderTask)a=setTimeout((function(){t.textLayerRenderTask&&t.textLayerRenderTask.expandTextDivs(!1);a=null}),300);else{var i=r.querySelector(".endOfContent");if(i){i.style.top="";i.classList.remove("active")}}}))}}]);return TextLayerBuilder}();r.TextLayerBuilder=o;var l=function(){function DefaultTextLayerFactory(){_classCallCheck(this,DefaultTextLayerFactory)}_createClass(DefaultTextLayerFactory,[{key:"createTextLayerBuilder",value:function createTextLayerBuilder(t,r,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=arguments.length>4?arguments[4]:void 0;return new o({textLayerDiv:t,pageIndex:r,viewport:a,enhanceTextSelection:i,eventBus:l})}}]);return DefaultTextLayerFactory}();r.DefaultTextLayerFactory=l},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.SecondaryToolbar=void 0;var i=a(6),o=a(8),l=a(167);function _createForOfIteratorHelper(t,r){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){a&&(t=a);var i=0,o=function F(){};return{s:o,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){a=t[Symbol.iterator]()},n:function n(){var t=a.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==a.return||a.return()}finally{if(c)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}var u=function(){function SecondaryToolbar(t,r,a){var u=this;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,SecondaryToolbar);this.toolbar=t.toolbar;this.toggleButton=t.toggleButton;this.toolbarButtonContainer=t.toolbarButtonContainer;this.buttons=[{element:t.presentationModeButton,eventName:"presentationmode",close:!0},{element:t.openFileButton,eventName:"openfile",close:!0},{element:t.printButton,eventName:"print",close:!0},{element:t.downloadButton,eventName:"download",close:!0},{element:t.viewBookmarkButton,eventName:null,close:!0},{element:t.firstPageButton,eventName:"firstpage",close:!0},{element:t.lastPageButton,eventName:"lastpage",close:!0},{element:t.pageRotateCwButton,eventName:"rotatecw",close:!1},{element:t.pageRotateCcwButton,eventName:"rotateccw",close:!1},{element:t.cursorSelectToolButton,eventName:"switchcursortool",eventDetails:{tool:o.CursorTool.SELECT},close:!0},{element:t.cursorHandToolButton,eventName:"switchcursortool",eventDetails:{tool:o.CursorTool.HAND},close:!0},{element:t.scrollVerticalButton,eventName:"switchscrollmode",eventDetails:{mode:i.ScrollMode.VERTICAL},close:!0},{element:t.scrollHorizontalButton,eventName:"switchscrollmode",eventDetails:{mode:i.ScrollMode.HORIZONTAL},close:!0},{element:t.scrollWrappedButton,eventName:"switchscrollmode",eventDetails:{mode:i.ScrollMode.WRAPPED},close:!0},{element:t.spreadNoneButton,eventName:"switchspreadmode",eventDetails:{mode:i.SpreadMode.NONE},close:!0},{element:t.spreadOddButton,eventName:"switchspreadmode",eventDetails:{mode:i.SpreadMode.ODD},close:!0},{element:t.spreadEvenButton,eventName:"switchspreadmode",eventDetails:{mode:i.SpreadMode.EVEN},close:!0},{element:t.documentPropertiesButton,eventName:"documentproperties",close:!0}];this.items={firstPage:t.firstPageButton,lastPage:t.lastPageButton,pageRotateCw:t.pageRotateCwButton,pageRotateCcw:t.pageRotateCcwButton};this.mainContainer=r;this.eventBus=a;this.opened=!1;this.containerHeight=null;this.previousContainerHeight=null;this.reset();this._bindClickListeners();this._bindCursorToolsListener(t);this._bindScrollModeListener(t);this._bindSpreadModeListener(t);this.eventBus._on("resize",this._setMaxHeight.bind(this));this.eventBus._on("baseviewerinit",(function(t){t.source instanceof l.PDFSinglePageViewer?u.toolbarButtonContainer.classList.add("hiddenScrollModeButtons","hiddenSpreadModeButtons"):u.toolbarButtonContainer.classList.remove("hiddenScrollModeButtons","hiddenSpreadModeButtons")}))}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(SecondaryToolbar,[{key:"setPageNumber",value:function setPageNumber(t){this.pageNumber=t;this._updateUIState()}},{key:"setPagesCount",value:function setPagesCount(t){this.pagesCount=t;this._updateUIState()}},{key:"reset",value:function reset(){this.pageNumber=0;this.pagesCount=0;this._updateUIState();this.eventBus.dispatch("secondarytoolbarreset",{source:this})}},{key:"_updateUIState",value:function _updateUIState(){this.items.firstPage.disabled=this.pageNumber<=1;document.getElementById("previousPage")&&(document.getElementById("previousPage").disabled=this.pageNumber<=1);this.items.lastPage.disabled=this.pageNumber>=this.pagesCount;document.getElementById("nextPage")&&(document.getElementById("nextPage").disabled=this.pageNumber>=this.pagesCount);this.items.pageRotateCw.disabled=0===this.pagesCount;this.items.pageRotateCcw.disabled=0===this.pagesCount;this.eventBus.dispatch("updateuistate",{source:this,widget:"SecondaryToolbar",pageNumber:this.pageNumber,pagesCount:this.pagesCount})}},{key:"_bindClickListeners",value:function _bindClickListeners(){var t=this;this.toggleButton.addEventListener("click",this.toggle.bind(this));var r,a=_createForOfIteratorHelper(this.buttons);try{var i=function _loop(){var a=r.value,i=a.element,o=a.eventName,l=a.close,u=a.eventDetails;i.addEventListener("click",(function(r){if(null!==o){var a={source:t};for(var i in u)a[i]=u[i];t.eventBus.dispatch(o,a)}l&&t.close()}))};for(a.s();!(r=a.n()).done;)i()}catch(t){a.e(t)}finally{a.f()}}},{key:"_bindCursorToolsListener",value:function _bindCursorToolsListener(t){this.eventBus._on("cursortoolchanged",(function(r){var a=r.tool;t.cursorSelectToolButton.classList.toggle("toggled",a===o.CursorTool.SELECT);t.cursorHandToolButton.classList.toggle("toggled",a===o.CursorTool.HAND)}))}},{key:"_bindScrollModeListener",value:function _bindScrollModeListener(t){var r=this;function scrollModeChanged(r){var a=r.mode;t.scrollVerticalButton.classList.toggle("toggled",a===i.ScrollMode.VERTICAL);t.scrollHorizontalButton.classList.toggle("toggled",a===i.ScrollMode.HORIZONTAL);t.scrollWrappedButton.classList.toggle("toggled",a===i.ScrollMode.WRAPPED);var o=a===i.ScrollMode.HORIZONTAL;t.spreadNoneButton.disabled=o;t.spreadOddButton.disabled=o;t.spreadEvenButton.disabled=o}this.eventBus._on("scrollmodechanged",scrollModeChanged);this.eventBus._on("secondarytoolbarreset",(function(t){t.source===r&&scrollModeChanged({mode:i.ScrollMode.VERTICAL})}))}},{key:"_bindSpreadModeListener",value:function _bindSpreadModeListener(t){var r=this;function spreadModeChanged(r){var a=r.mode;t.spreadNoneButton.classList.toggle("toggled",a===i.SpreadMode.NONE);t.spreadOddButton.classList.toggle("toggled",a===i.SpreadMode.ODD);t.spreadEvenButton.classList.toggle("toggled",a===i.SpreadMode.EVEN)}this.eventBus._on("spreadmodechanged",spreadModeChanged);this.eventBus._on("secondarytoolbarreset",(function(t){t.source===r&&spreadModeChanged({mode:i.SpreadMode.NONE})}))}},{key:"open",value:function open(){if(!this.opened){this.opened=!0;this._setMaxHeight();this.toggleButton.classList.add("toggled");this.toolbar.classList.remove("hidden")}}},{key:"close",value:function close(){if(this.opened){this.opened=!1;this.toolbar.classList.add("hidden");this.toggleButton.classList.remove("toggled")}}},{key:"toggle",value:function toggle(){this.opened?this.close():this.open()}},{key:"_setMaxHeight",value:function _setMaxHeight(){if(this.opened){this.containerHeight=this.mainContainer.clientHeight;if(this.containerHeight!==this.previousContainerHeight){this.toolbarButtonContainer.style.maxHeight="".concat(this.containerHeight-i.SCROLLBAR_PADDING,"px");this.previousContainerHeight=this.containerHeight}}}},{key:"isOpen",get:function get(){return this.opened}}]);return SecondaryToolbar}();r.SecondaryToolbar=u},(t,r,a)=>{"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(r,"__esModule",{value:!0});r.PDFSinglePageViewer=void 0;var i=a(31),o=a(7);function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}function _get(t,r,a){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(t,r,a){var i=function _superPropBase(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&null!==(t=_getPrototypeOf(t)););return t}(t,r);if(i){var o=Object.getOwnPropertyDescriptor(i,r);return o.get?o.get.call(a):o.value}})(t,r,a||t)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){t.__proto__=r;return t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){return!r||"object"!==_typeof(r)&&"function"!=typeof r?function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):r}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});r&&_setPrototypeOf(t,r)}(PDFSinglePageViewer,t);var r=_createSuper(PDFSinglePageViewer);function PDFSinglePageViewer(t){var a;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PDFSinglePageViewer);(a=r.call(this,t)).eventBus._on("pagesinit",(function(t){a._ensurePageViewVisible()}));return a}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(PDFSinglePageViewer,[{key:"_resetView",value:function _resetView(){_get(_getPrototypeOf(PDFSinglePageViewer.prototype),"_resetView",this).call(this);this._previousPageNumber=1;this._shadowViewer=document.createDocumentFragment();this._updateScrollDown=null}},{key:"_ensurePageViewVisible",value:function _ensurePageViewVisible(){var t=this._pages[this._currentPageNumber-1],r=this._pages[this._previousPageNumber-1],a=this.viewer.childNodes;switch(a.length){case 0:this.viewer.appendChild(t.div);break;case 1:if(a[0]!==r.div)throw new Error("_ensurePageViewVisible: Unexpected previously visible page.");if(t===r)break;this._shadowViewer.appendChild(r.div);this.viewer.appendChild(t.div);this.container.scrollTop=0;break;default:throw new Error("_ensurePageViewVisible: Only one page should be visible at a time.")}this._previousPageNumber=this._currentPageNumber}},{key:"_scrollUpdate",value:function _scrollUpdate(){this._updateScrollDown&&this._updateScrollDown();_get(_getPrototypeOf(PDFSinglePageViewer.prototype),"_scrollUpdate",this).call(this)}},{key:"_scrollIntoView",value:function _scrollIntoView(t){var r=this,a=t.pageDiv,i=t.pageSpot,o=void 0===i?null:i,l=t.pageNumber,u=void 0===l?null:l;u&&this._setCurrentPageNumber(u);var c=this._currentPageNumber>=this._previousPageNumber;this._ensurePageViewVisible();this.update();_get(_getPrototypeOf(PDFSinglePageViewer.prototype),"_scrollIntoView",this).call(this,{pageDiv:a,pageSpot:o,pageNumber:u});this._updateScrollDown=function(){r.scroll.down=c;r._updateScrollDown=null}}},{key:"_getVisiblePages",value:function _getVisiblePages(){return this._getCurrentVisiblePage()}},{key:"_updateHelper",value:function _updateHelper(t){}},{key:"_updateScrollMode",value:function _updateScrollMode(){}},{key:"_updateSpreadMode",value:function _updateSpreadMode(){}},{key:"_getPageAdvance",value:function _getPageAdvance(){return 1}},{key:"_viewerElement",get:function get(){return(0,o.shadow)(this,"_viewerElement",this._shadowViewer)}},{key:"_pageWidthScaleFactor",get:function get(){return 1}},{key:"_isScrollModeHorizontal",get:function get(){return(0,o.shadow)(this,"_isScrollModeHorizontal",!1)}}]);return PDFSinglePageViewer}(i.BaseViewer);r.PDFSinglePageViewer=l},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.Toolbar=void 0;var i=a(6);function _createForOfIteratorHelper(t,r){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){a&&(t=a);var i=0,o=function F(){};return{s:o,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){a=t[Symbol.iterator]()},n:function n(){var t=a.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==a.return||a.return()}finally{if(c)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}var o="visiblePageIsLoading",l=function(){function Toolbar(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.NullL10n;_classCallCheck(this,Toolbar);this.toolbar=t.container;this.eventBus=r;this.l10n=a;this.buttons=[{element:t.previous,eventName:"previouspage"},{element:t.next,eventName:"nextpage"},{element:t.zoomIn,eventName:"zoomin"},{element:t.zoomOut,eventName:"zoomout"},{element:t.openFile,eventName:"openfile"},{element:t.print,eventName:"print"},{element:t.presentationModeButton,eventName:"presentationmode"},{element:t.download,eventName:"download"},{element:t.viewBookmark,eventName:null}];this.items={numPages:t.numPages,pageNumber:t.pageNumber,scaleSelectContainer:t.scaleSelectContainer,scaleSelect:t.scaleSelect,customScaleOption:t.customScaleOption,previous:t.previous,next:t.next,zoomIn:t.zoomIn,zoomOut:t.zoomOut};this._wasLocalized=!1;this.reset();this._bindListeners()}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(Toolbar,[{key:"setPageNumber",value:function setPageNumber(t,r){this.pageNumber=t;this.pageLabel=r;this._updateUIState(!1)}},{key:"setPagesCount",value:function setPagesCount(t,r){this.pagesCount=t;this.hasPageLabels=r;this._updateUIState(!0)}},{key:"setPageScale",value:function setPageScale(t,r){this.pageScaleValue=(t||r).toString();this.pageScale=r;this._updateUIState(!1)}},{key:"reset",value:function reset(){this.pageNumber=0;this.pageLabel=null;this.hasPageLabels=!1;this.pagesCount=0;var t=PDFViewerApplicationOptions.get("defaultZoomValue");if(t){this.pageScaleValue=t;Number(t)&&(this.pageScale=Number(t))}else{this.pageScaleValue=i.DEFAULT_SCALE_VALUE;this.pageScale=i.DEFAULT_SCALE}this._updateUIState(!0);this.updateLoadingIndicatorState()}},{key:"_bindListeners",value:function _bindListeners(){var t,r=this,a=this.items,o=a.pageNumber,l=a.scaleSelect,u=this,c=_createForOfIteratorHelper(this.buttons);try{var d=function _loop(){var a=t.value,i=a.element,o=a.eventName;i.addEventListener("click",(function(t){null!==o&&r.eventBus.dispatch(o,{source:r})}))};for(c.s();!(t=c.n()).done;)d()}catch(t){c.e(t)}finally{c.f()}o.addEventListener("click",(function(){this.select()}));o.addEventListener("change",(function(){u.eventBus.dispatch("pagenumberchanged",{source:u,value:this.value})}));l.addEventListener("change",(function(){"custom"!==this.value&&u.eventBus.dispatch("scalechanged",{source:u,value:this.value})}));l.oncontextmenu=i.noContextMenuHandler;this.eventBus._on("localized",(function(){r._wasLocalized=!0;r._updateUIState(!0)}))}},{key:"_updateUIState",value:function _updateUIState(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._wasLocalized){var r=this.pageNumber,a=this.pagesCount,o=this.pageScaleValue,l=this.pageScale,u=this.items;if(t){if(this.hasPageLabels)u.pageNumber.type="text";else{u.pageNumber.type="number";this.l10n.get("of_pages",{pagesCount:a},"of {{pagesCount}}").then((function(t){u.numPages.textContent=t}))}u.pageNumber.max=a}if(this.hasPageLabels){u.pageNumber.value=this.pageLabel;this.l10n.get("page_of_pages",{pageNumber:r,pagesCount:a},"({{pageNumber}} of {{pagesCount}})").then((function(t){u.numPages.textContent=t}))}else u.pageNumber.value=r;u.previous.disabled=r<=1;u.next.disabled=r>=a;u.zoomOut.disabled=l<=i.MIN_SCALE;u.zoomIn.disabled=l>=i.MAX_SCALE;var c=Math.round(1e4*l)/100;this.l10n.get("page_scale_percent",{scale:c},"{{scale}}%").then((function(t){var r,a=!1,i=_createForOfIteratorHelper(u.scaleSelect.options);try{for(i.s();!(r=i.n()).done;){var l=r.value;if(l.value===o){l.selected=!0;a=!0}else l.selected=!1}}catch(t){i.e(t)}finally{i.f()}if(!a){u.customScaleOption.textContent=t;u.customScaleOption.selected=!0}}));this.eventBus.dispatch("updateuistate",{source:this,widget:"Toolbar",pageNumber:r,pagesCount:a,pageScaleValue:o,pageScale:l})}}},{key:"updateLoadingIndicatorState",value:function updateLoadingIndicatorState(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.items.pageNumber;r.classList.toggle(o,t)}}]);return Toolbar}();r.Toolbar=l},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.ViewHistory=void 0;var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(a(4));function asyncGeneratorStep(t,r,a,i,o,l,u){try{var c=t[l](u),d=c.value}catch(t){a(t);return}c.done?r(d):Promise.resolve(d).then(i,o)}function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,o){var l=t.apply(r,a);function _next(t){asyncGeneratorStep(l,i,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,i,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}var o=function(){function ViewHistory(t){var r=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;_classCallCheck(this,ViewHistory);this.fingerprint=t;this.cacheSize=a;this._initializedPromise=this._readFromStorage().then((function(t){var a=JSON.parse(t||"{}"),i=-1;if(Array.isArray(a.files)){for(;a.files.length>=r.cacheSize;)a.files.shift();for(var o=0,l=a.files.length;o<l;o++){if(a.files[o].fingerprint===r.fingerprint){i=o;break}}}else a.files=[];-1===i&&(i=a.files.push({fingerprint:r.fingerprint})-1);r.file=a.files[i];r.database=a}))}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(ViewHistory,[{key:"_writeToStorage",value:(u=_asyncToGenerator(i.default.mark((function _callee(){var t;return i.default.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:t=JSON.stringify(this.database);localStorage.setItem("pdfjs.history",t);case 2:case"end":return r.stop()}}),_callee,this)}))),function _writeToStorage(){return u.apply(this,arguments)})},{key:"_readFromStorage",value:(l=_asyncToGenerator(i.default.mark((function _callee2(){return i.default.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",localStorage.getItem("pdfjs.history"));case 1:case"end":return t.stop()}}),_callee2)}))),function _readFromStorage(){return l.apply(this,arguments)})},{key:"set",value:(o=_asyncToGenerator(i.default.mark((function _callee3(t,r){return i.default.wrap((function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:a.next=2;return this._initializedPromise;case 2:this.file[t]=r;return a.abrupt("return",this._writeToStorage());case 4:case"end":return a.stop()}}),_callee3,this)}))),function set(t,r){return o.apply(this,arguments)})},{key:"setMultiple",value:(a=_asyncToGenerator(i.default.mark((function _callee4(t){var r;return i.default.wrap((function _callee4$(a){for(;;)switch(a.prev=a.next){case 0:a.next=2;return this._initializedPromise;case 2:for(r in t)this.file[r]=t[r];return a.abrupt("return",this._writeToStorage());case 4:case"end":return a.stop()}}),_callee4,this)}))),function setMultiple(t){return a.apply(this,arguments)})},{key:"get",value:(r=_asyncToGenerator(i.default.mark((function _callee5(t,r){var a;return i.default.wrap((function _callee5$(i){for(;;)switch(i.prev=i.next){case 0:i.next=2;return this._initializedPromise;case 2:a=this.file[t];return i.abrupt("return",void 0!==a?a:r);case 4:case"end":return i.stop()}}),_callee5,this)}))),function get(t,a){return r.apply(this,arguments)})},{key:"getMultiple",value:(t=_asyncToGenerator(i.default.mark((function _callee6(t){var r,a,o;return i.default.wrap((function _callee6$(i){for(;;)switch(i.prev=i.next){case 0:i.next=2;return this._initializedPromise;case 2:r=Object.create(null);for(a in t){o=this.file[a];r[a]=void 0!==o?o:t[a]}return i.abrupt("return",r);case 5:case"end":return i.stop()}}),_callee6,this)}))),function getMultiple(r){return t.apply(this,arguments)})}]);var t,r,a,o,l,u;return ViewHistory}();r.ViewHistory=o},(t,r,a)=>{"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(r,"__esModule",{value:!0});r.GenericCom=void 0;var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(a(4)),o=a(3),l=a(171),u=a(172),c=a(173),d=a(175);function asyncGeneratorStep(t,r,a,i,o,l,u){try{var c=t[l](u),d=c.value}catch(t){a(t);return}c.done?r(d):Promise.resolve(d).then(i,o)}function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,o){var l=t.apply(r,a);function _next(t){asyncGeneratorStep(l,i,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,i,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){t.__proto__=r;return t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){return!r||"object"!==_typeof(r)&&"function"!=typeof r?function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):r}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}r.GenericCom={};var h=function(t){_inherits(GenericPreferences,t);var r,a,o=_createSuper(GenericPreferences);function GenericPreferences(){_classCallCheck(this,GenericPreferences);return o.apply(this,arguments)}_createClass(GenericPreferences,[{key:"_writeToStorage",value:(a=_asyncToGenerator(i.default.mark((function _callee(t){return i.default.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:localStorage.setItem("pdfjs.preferences",JSON.stringify(t));case 1:case"end":return r.stop()}}),_callee)}))),function _writeToStorage(t){return a.apply(this,arguments)})},{key:"_readFromStorage",value:(r=_asyncToGenerator(i.default.mark((function _callee2(t){return i.default.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",JSON.parse(localStorage.getItem("pdfjs.preferences")));case 1:case"end":return t.stop()}}),_callee2)}))),function _readFromStorage(t){return r.apply(this,arguments)})}]);return GenericPreferences}(l.BasePreferences),p=function(t){_inherits(GenericExternalServices,t);var r=_createSuper(GenericExternalServices);function GenericExternalServices(){_classCallCheck(this,GenericExternalServices);return r.apply(this,arguments)}_createClass(GenericExternalServices,null,[{key:"createDownloadManager",value:function createDownloadManager(t){return new u.DownloadManager}},{key:"createPreferences",value:function createPreferences(){return new h}},{key:"createL10n",value:function createL10n(t){var r=t.locale,a=void 0===r?"en-US":r;return new c.GenericL10n(a)}},{key:"createScripting",value:function createScripting(t){var r=t.sandboxBundleSrc;return new d.GenericScripting(r)}}]);return GenericExternalServices}(o.DefaultExternalServices);o.PDFViewerApplication.externalServices=p},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.BasePreferences=void 0;var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(a(4));a(1);function asyncGeneratorStep(t,r,a,i,o,l,u){try{var c=t[l](u),d=c.value}catch(t){a(t);return}c.done?r(d):Promise.resolve(d).then(i,o)}function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,o){var l=t.apply(r,a);function _next(t){asyncGeneratorStep(l,i,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,i,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}var o=function(){function BasePreferences(){var t=this;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,BasePreferences);if(this.constructor===BasePreferences)throw new Error("Cannot initialize BasePreferences.");Object.defineProperty(this,"defaults",{value:Object.freeze({cursorToolOnLoad:0,defaultZoomValue:"",disablePageLabels:!1,enablePermissions:!1,enablePrintAutoRotate:!1,enableScripting:!1,enableWebGL:!1,externalLinkTarget:0,historyUpdateUrl:!1,ignoreDestinationZoom:!1,pdfBugEnabled:!1,removePageBorders:!1,renderer:"canvas",renderInteractiveForms:!0,sidebarViewOnLoad:-1,scrollModeOnLoad:-1,spreadModeOnLoad:-1,textLayerMode:1,useOnlyCssZoom:!1,viewerCssTheme:0,viewOnLoad:0,disableAutoFetch:!1,disableFontFace:!1,disableRange:!1,disableStream:!1}),writable:!1,enumerable:!0,configurable:!1});this.prefs=Object.assign(Object.create(null),this.defaults);this._initializedPromise=this._readFromStorage(this.defaults).then((function(r){if(r)for(var a in r){var i=t.defaults[a],o=r[a];void 0!==i&&_typeof(o)===_typeof(i)&&(t.prefs[a]=o)}}))}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(BasePreferences,[{key:"_writeToStorage",value:(u=_asyncToGenerator(i.default.mark((function _callee(t){return i.default.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("Not implemented: _writeToStorage");case 1:case"end":return t.stop()}}),_callee)}))),function _writeToStorage(t){return u.apply(this,arguments)})},{key:"_readFromStorage",value:(l=_asyncToGenerator(i.default.mark((function _callee2(t){return i.default.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("Not implemented: _readFromStorage");case 1:case"end":return t.stop()}}),_callee2)}))),function _readFromStorage(t){return l.apply(this,arguments)})},{key:"reset",value:(o=_asyncToGenerator(i.default.mark((function _callee3(){return i.default.wrap((function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return this._initializedPromise;case 2:this.prefs=Object.assign(Object.create(null),this.defaults);return t.abrupt("return",this._writeToStorage(this.defaults));case 4:case"end":return t.stop()}}),_callee3,this)}))),function reset(){return o.apply(this,arguments)})},{key:"set",value:(a=_asyncToGenerator(i.default.mark((function _callee4(t,r){var a,o,l;return i.default.wrap((function _callee4$(i){for(;;)switch(i.prev=i.next){case 0:i.next=2;return this._initializedPromise;case 2:if(void 0!==(a=this.defaults[t])){i.next=7;break}throw new Error('Set preference: "'.concat(t,'" is undefined.'));case 7:if(void 0!==r){i.next=9;break}throw new Error("Set preference: no value is specified.");case 9:o=_typeof(r);l=_typeof(a);if(o===l){i.next=19;break}if("number"!==o||"string"!==l){i.next=16;break}r=r.toString();i.next=17;break;case 16:throw new Error('Set preference: "'.concat(r,'" is a ').concat(o,", ")+"expected a ".concat(l,"."));case 17:i.next=21;break;case 19:if("number"!==o||Number.isInteger(r)){i.next=21;break}throw new Error('Set preference: "'.concat(r,'" must be an integer.'));case 21:this.prefs[t]=r;return i.abrupt("return",this._writeToStorage(this.prefs));case 23:case"end":return i.stop()}}),_callee4,this)}))),function set(t,r){return a.apply(this,arguments)})},{key:"get",value:(r=_asyncToGenerator(i.default.mark((function _callee5(t){var r,a;return i.default.wrap((function _callee5$(i){for(;;)switch(i.prev=i.next){case 0:i.next=2;return this._initializedPromise;case 2:if(void 0!==(r=this.defaults[t])){i.next=7;break}throw new Error('Get preference: "'.concat(t,'" is undefined.'));case 7:if(void 0===(a=this.prefs[t])){i.next=10;break}return i.abrupt("return",a);case 10:return i.abrupt("return",r);case 11:case"end":return i.stop()}}),_callee5,this)}))),function get(t){return r.apply(this,arguments)})},{key:"getAll",value:(t=_asyncToGenerator(i.default.mark((function _callee6(){return i.default.wrap((function _callee6$(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return this._initializedPromise;case 2:return t.abrupt("return",Object.assign(Object.create(null),this.defaults,this.prefs));case 3:case"end":return t.stop()}}),_callee6,this)}))),function getAll(){return t.apply(this,arguments)})}]);var t,r,a,o,l,u;return BasePreferences}();r.BasePreferences=o},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.DownloadManager=void 0;var i=a(7),o=a(2);function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}function _download(t,r){var a=document.createElement("a");if(!a.click)throw new Error('DownloadManager: "a.click()" is not supported.');a.href=t;a.target="_parent";"download"in a&&(a.download=r);(document.body||document.documentElement).appendChild(a);a.click();a.remove()}var l=function(){function DownloadManager(){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,DownloadManager)}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(DownloadManager,[{key:"downloadUrl",value:function downloadUrl(t,r){(0,i.createValidAbsoluteUrl)(t,"http://example.com")&&_download(t+"#pdfjs.action=download",r)}},{key:"downloadData",value:function downloadData(t,r,a){_download((0,i.createObjectURL)(t,a,o.viewerCompatibilityParams.disableCreateObjectURL),r)}},{key:"download",value:function download(t,r,a){if(o.viewerCompatibilityParams.disableCreateObjectURL)this.downloadUrl(r,a);else{var i=URL.createObjectURL(t);_download(i,a)}}}]);return DownloadManager}();r.DownloadManager=l},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.GenericL10n=void 0;var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(a(4));a(174);function asyncGeneratorStep(t,r,a,i,o,l,u){try{var c=t[l](u),d=c.value}catch(t){a(t);return}c.done?r(d):Promise.resolve(d).then(i,o)}function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,o){var l=t.apply(r,a);function _next(t){asyncGeneratorStep(l,i,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,i,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}var o=document.webL10n,l=function(){function GenericL10n(t){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,GenericL10n);this._lang=t;this._ready=new Promise((function(r,a){o.setLanguage(t,(function(){r(o)}))}))}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(GenericL10n,[{key:"getLanguage",value:(l=_asyncToGenerator(i.default.mark((function _callee(){var t;return i.default.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:r.next=2;return this._ready;case 2:t=r.sent;return r.abrupt("return",t.getLanguage());case 4:case"end":return r.stop()}}),_callee,this)}))),function getLanguage(){return l.apply(this,arguments)})},{key:"getDirection",value:(a=_asyncToGenerator(i.default.mark((function _callee2(){var t;return i.default.wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:r.next=2;return this._ready;case 2:t=r.sent;return r.abrupt("return",t.getDirection());case 4:case"end":return r.stop()}}),_callee2,this)}))),function getDirection(){return a.apply(this,arguments)})},{key:"get",value:(r=_asyncToGenerator(i.default.mark((function _callee3(t,r,a){var o;return i.default.wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:i.next=2;return this._ready;case 2:o=i.sent;return i.abrupt("return",o.get(t,r,a));case 4:case"end":return i.stop()}}),_callee3,this)}))),function get(t,a,i){return r.apply(this,arguments)})},{key:"translate",value:(t=_asyncToGenerator(i.default.mark((function _callee4(t){var r;return i.default.wrap((function _callee4$(a){for(;;)switch(a.prev=a.next){case 0:a.next=2;return this._ready;case 2:r=a.sent;return a.abrupt("return",r.translate(t));case 4:case"end":return a.stop()}}),_callee4,this)}))),function translate(r){return t.apply(this,arguments)})}]);var t,r,a,l;return GenericL10n}();r.GenericL10n=l},()=>{"use strict";document.webL10n=function(t,r,a){var i={},o="",l="textContent",u="",c={},d="loading";function fireL10nReadyEvent(t){var a=r.createEvent("Event");a.initEvent("localized",!0,!1);a.language=t;r.dispatchEvent(a)}function xhrLoadText(t,r,a){r=r||function _onSuccess(t){};a=a||function _onFailure(){};var i=new XMLHttpRequest;i.open("GET",t,true);i.overrideMimeType&&i.overrideMimeType("text/plain; charset=utf-8");i.onreadystatechange=function(){4==i.readyState&&(200==i.status||0===i.status?r(i.responseText):a())};i.onerror=a;i.ontimeout=a;try{i.send(null)}catch(t){a()}}function parseResource(r,a,u,c){var d=r.replace(/[^\/]*$/,"")||"./";function evalString(t){return t.lastIndexOf("\\")<0?t:t.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}xhrLoadText(r,(function(r){o+=r;!function parseProperties(r,i){var o={},l=/^\s*|\s*$/,u=/^\s*#|^\s*$/,c=/^\s*\[(.*)\]\s*$/,h=/^\s*@import\s+url\((.*)\)\s*$/i,p=/^([^=\s]*)\s*=\s*(.+)$/;function parseRawLines(t,r,i){var m=t.replace(l,"").split(/[\r\n]+/),g="*",v=a.split("-",1)[0],y=!1,b="",S=!1;!function nextEntry(){for(var t=void 0;;){if(!m.length&&t){S?nextEntry():loadImport(t,nextEntry);return}if(!m.length){i();return}var l=m.shift();if(!u.test(l)){if(r){if(b=c.exec(l)){g=b[1].toLowerCase();y="*"!==g&&g!==a&&g!==v;continue}if(y)continue;if(b=h.exec(l)){if("*"===g||g===a){loadImport(d+b[1],nextEntry);S=!0;return}t=d+b[1]}}var w=l.match(p);w&&3==w.length&&(o[w[1]]=evalString(w[2]))}}}()}function loadImport(r,a){xhrLoadText(r,(function(t){parseRawLines(t,!1,a)}),(function(){var i=t.PDFViewerApplicationOptions;(!i||i.get("verbosity")>0)&&console.warn(r+" not found.");a()}))}parseRawLines(r,!0,(function(){i(o)}))}(r,(function(t){for(var r in t){var a,o,c=r.lastIndexOf(".");if(c>0){a=r.substring(0,c);o=r.substring(c+1)}else{a=r;o=l}i[a]||(i[a]={});i[a][o]=t[r]}u&&u()}))}),c)}function loadLocale(a,l){var c=a;a&&(a=a.toLowerCase());l=l||function _callback(){};!function clear(){i={};o="";u=""}();u=a;var h=function getL10nResourceLinks(){return r.querySelectorAll('link[type="application/l10n"]')}(),p=h.length;if(0!==p){var m,g=0;m=function onResourceLoaded(){if(++g>=p){l();fireL10nReadyEvent(a);d="complete"}};for(var v=0;v<p;v++){new L10nResourceLink(h[v]).load(a,m)}}else{var y=function getL10nDictionary(){var t=r.querySelector('script[type="application/l10n"]');return t?JSON.parse(t.innerHTML):null}();if(y&&y.locales&&y.default_locale){console.log("The PDF viewer uses the pre-compiled language bundle stored in the HTML page.");if(!(i=y.locales[c])){var b=y.default_locale.toLowerCase();for(var S in y.locales){c=S;if((S=S.toLowerCase())===a){i=y.locales[c];break}S===b&&(i=y.locales[c])}}l()}else console.log("Could not load the translation files for the PDF viewer. Check the flag useBrowserLocale, check the locales subfolder of the assets folder, or add the locale definition to the index.html");fireL10nReadyEvent(a);d="complete"}function L10nResourceLink(r){var a=r.href;this.load=function(r,i){parseResource(a,r,i,(function(){var o=t.PDFViewerApplicationOptions;if(!o||o.get("verbosity")>0){console.warn(a+" not found.");console.warn('"'+r+'" resource not found')}u="";i()}))}}}c.plural=function(r,a,o,d){var h=parseFloat(a);if(isNaN(h))return r;if(d!=l)return r;c._pluralRules||(c._pluralRules=function getPluralRules(r){function isIn(t,r){return-1!==r.indexOf(t)}function isBetween(t,r,a){return r<=t&&t<=a}var a={0:function _(t){return"other"},1:function _(t){return isBetween(t%100,3,10)?"few":0===t?"zero":isBetween(t%100,11,99)?"many":2==t?"two":1==t?"one":"other"},2:function _(t){return 0!==t&&t%10==0?"many":2==t?"two":1==t?"one":"other"},3:function _(t){return 1==t?"one":"other"},4:function _(t){return isBetween(t,0,1)?"one":"other"},5:function _(t){return isBetween(t,0,2)&&2!=t?"one":"other"},6:function _(t){return 0===t?"zero":t%10==1&&t%100!=11?"one":"other"},7:function _(t){return 2==t?"two":1==t?"one":"other"},8:function _(t){return isBetween(t,3,6)?"few":isBetween(t,7,10)?"many":2==t?"two":1==t?"one":"other"},9:function _(t){return 0===t||1!=t&&isBetween(t%100,1,19)?"few":1==t?"one":"other"},10:function _(t){return isBetween(t%10,2,9)&&!isBetween(t%100,11,19)?"few":t%10!=1||isBetween(t%100,11,19)?"other":"one"},11:function _(t){return isBetween(t%10,2,4)&&!isBetween(t%100,12,14)?"few":t%10==0||isBetween(t%10,5,9)||isBetween(t%100,11,14)?"many":t%10==1&&t%100!=11?"one":"other"},12:function _(t){return isBetween(t,2,4)?"few":1==t?"one":"other"},13:function _(t){return isBetween(t%10,2,4)&&!isBetween(t%100,12,14)?"few":1!=t&&isBetween(t%10,0,1)||isBetween(t%10,5,9)||isBetween(t%100,12,14)?"many":1==t?"one":"other"},14:function _(t){return isBetween(t%100,3,4)?"few":t%100==2?"two":t%100==1?"one":"other"},15:function _(t){return 0===t||isBetween(t%100,2,10)?"few":isBetween(t%100,11,19)?"many":1==t?"one":"other"},16:function _(t){return t%10==1&&11!=t?"one":"other"},17:function _(t){return 3==t?"few":0===t?"zero":6==t?"many":2==t?"two":1==t?"one":"other"},18:function _(t){return 0===t?"zero":isBetween(t,0,2)&&0!==t&&2!=t?"one":"other"},19:function _(t){return isBetween(t,2,10)?"few":isBetween(t,0,1)?"one":"other"},20:function _(t){return!isBetween(t%10,3,4)&&t%10!=9||isBetween(t%100,10,19)||isBetween(t%100,70,79)||isBetween(t%100,90,99)?t%1e6==0&&0!==t?"many":t%10!=2||isIn(t%100,[12,72,92])?t%10!=1||isIn(t%100,[11,71,91])?"other":"one":"two":"few"},21:function _(t){return 0===t?"zero":1==t?"one":"other"},22:function _(t){return isBetween(t,0,1)||isBetween(t,11,99)?"one":"other"},23:function _(t){return isBetween(t%10,1,2)||t%20==0?"one":"other"},24:function _(t){return isBetween(t,3,10)||isBetween(t,13,19)?"few":isIn(t,[2,12])?"two":isIn(t,[1,11])?"one":"other"}},i={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[r.replace(/-.*$/,"")];if(!(i in a)){var o=t.PDFViewerApplicationOptions;(!o||o.get("verbosity")>0)&&console.warn("plural form unknown for ["+r+"]");return function(){return"other"}}return a[i]}(u));var p="["+c._pluralRules(h)+"]";0===h&&o+"[zero]"in i?r=i[o+"[zero]"][d]:1==h&&o+"[one]"in i?r=i[o+"[one]"][d]:2==h&&o+"[two]"in i?r=i[o+"[two]"][d]:o+p in i?r=i[o+p][d]:o+"[other]"in i&&(r=i[o+"[other]"][d]);return r};function getL10nData(r,a,o){var l=i[r];if(!l){var u=t.PDFViewerApplicationOptions;(!u||u.get("verbosity")>0)&&console.warn("Translation for the key #"+r+" is missing.");if(!o)return null;l=o}var c={};for(var d in l){var h=l[d];h=substArguments(h=substIndexes(h,a,r,d),a,r);c[d]=h}return c}function substIndexes(t,r,a,o){var l=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(t);if(!l||!l.length)return t;var u,d=l[1],h=l[2];r&&h in r?u=r[h]:h in i&&(u=i[h]);if(d in c){t=(0,c[d])(t,u,a,o)}return t}function substArguments(t,r,a){return t.replace(/\{\{\s*(.+?)\s*\}\}/g,(function(t,o){if(r&&o in r)return r[o];if(o in i)return i[o];console.log("argument {{"+o+"}} for #"+a+" is undefined.");return t}))}function translateElement(a){var i=function getL10nAttributes(r){if(!r)return{};var a=r.getAttribute("data-l10n-id"),i=r.getAttribute("data-l10n-args"),o={};if(i)try{o=JSON.parse(i)}catch(r){var l=t.PDFViewerApplicationOptions;(!l||l.get("verbosity")>0)&&console.warn("could not parse arguments for #"+a)}return{id:a,args:o}}(a);if(i.id){var o=getL10nData(i.id,i.args);if(o){if(o[l]){if(0===function getChildElementCount(t){if(t.children)return t.children.length;if(void 0!==t.childElementCount)return t.childElementCount;for(var r=0,a=0;a<t.childNodes.length;a++)r+=1===t.nodeType?1:0;return r}(a))a[l]=o[l];else{for(var u=a.childNodes,c=!1,d=0,h=u.length;d<h;d++)if(3===u[d].nodeType&&/\S/.test(u[d].nodeValue))if(c)u[d].nodeValue="";else{u[d].nodeValue=o[l];c=!0}if(!c){var p=r.createTextNode(o[l]);a.insertBefore(p,a.firstChild)}}delete o[l]}for(var m in o)a[m]=o[m]}else{var g=t.PDFViewerApplicationOptions;(!g||g.get("verbosity")>0)&&console.warn("#"+i.id+" is undefined.")}}}return{get:function get(t,r,a){var i,o=t.lastIndexOf("."),u=l;if(o>0){u=t.substring(o+1);t=t.substring(0,o)}a&&((i={})[u]=a);var c=getL10nData(t,r,i);return c&&u in c?c[u]:"{{"+t+"}}"},getData:function getData(){return i},getText:function getText(){return o},getLanguage:function getLanguage(){return u},setLanguage:function setLanguage(t,r){loadLocale(t,(function(){r&&r()}))},getDirection:function getDirection(){var t=u.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(t)>=0?"rtl":"ltr"},translate:function translateFragment(t){for(var a=function getTranslatableChildren(t){return t?t.querySelectorAll("*[data-l10n-id]"):[]}(t=t||r.documentElement),i=a.length,o=0;o<i;o++)translateElement(a[o]);translateElement(t)},getReadyState:function getReadyState(){return d},ready:function ready(a){a&&("complete"==d||"interactive"==d?t.setTimeout((function(){a()})):r.addEventListener&&r.addEventListener("localized",(function once(){r.removeEventListener("localized",once);a()})))}}}(window,document)},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.GenericScripting=void 0;var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(a(4)),o=a(7);function asyncGeneratorStep(t,r,a,i,o,l,u){try{var c=t[l](u),d=c.value}catch(t){a(t);return}c.done?r(d):Promise.resolve(d).then(i,o)}function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,o){var l=t.apply(r,a);function _next(t){asyncGeneratorStep(l,i,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,i,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(t,i.key,i)}}var l=function(){function GenericScripting(t){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,GenericScripting);this._ready=(0,o.loadScript)(t,!0).then((function(){return window.pdfjsSandbox.QuickJSSandbox()}))}!function _createClass(t,r,a){r&&_defineProperties(t.prototype,r);a&&_defineProperties(t,a);return t}(GenericScripting,[{key:"createSandbox",value:(a=_asyncToGenerator(i.default.mark((function _callee(t){return i.default.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:r.next=2;return this._ready;case 2:r.sent.create(t);case 4:case"end":return r.stop()}}),_callee,this)}))),function createSandbox(t){return a.apply(this,arguments)})},{key:"dispatchEventInSandbox",value:(r=_asyncToGenerator(i.default.mark((function _callee2(t){return i.default.wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:r.next=2;return this._ready;case 2:r.sent.dispatchEvent(t);case 4:case"end":return r.stop()}}),_callee2,this)}))),function dispatchEventInSandbox(t){return r.apply(this,arguments)})},{key:"destroySandbox",value:(t=_asyncToGenerator(i.default.mark((function _callee3(){return i.default.wrap((function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return this._ready;case 2:t.sent.nukeSandbox();case 4:case"end":return t.stop()}}),_callee3,this)}))),function destroySandbox(){return t.apply(this,arguments)})}]);var t,r,a;return GenericScripting}();r.GenericScripting=l},(t,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFPrintService=PDFPrintService;var i=a(6),o=a(3),l=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(a(34)),u=a(2),c=a(35);var d=null,h=null;function renderPage(t,r,a,o,u,h){var p=d.scratchCanvas,m=u/72,g=1,v=Math.floor(o.width*m),y=Math.floor(o.height*m);if(v>=4096||y>=4096){if(!l.default.test({width:v,height:y})){var b=function determineMaxDimensions(){for(var t=0,r=[4096,8192,10836,11180,11402,14188,16384];t<r.length;t++){var a=r[t];if(!l.default.test({width:a+1,height:a+1}))return a}return 16384}();g=.95*Math.min(b/v,b/y)}(0,c.warn)("Page "+a+": Reduced the [printResolution] to "+Math.floor(u*g)+" because the browser can't render larger canvases. If you see blank page in the print preview, reduce [printResolution] manually to a lower value.")}m*=g;p.width=Math.floor(o.width*m);p.height=Math.floor(o.height*m);var S=Math.floor(o.width*i.CSS_UNITS)+"px",w=Math.floor(o.height*i.CSS_UNITS)+"px",C=p.getContext("2d");C.save();C.fillStyle="rgb(255, 255, 255)";C.fillRect(0,0,p.width,p.height);C.restore();return r.getPage(a).then((function(t){var a={canvasContext:C,transform:[m,0,0,m,0,0],viewport:t.getViewport({scale:1,rotation:o.rotation}),intent:"print",annotationStorage:r.annotationStorage,optionalContentConfigPromise:h};return t.render(a).promise})).then((function(){return{width:S,height:w}}))}function PDFPrintService(t,r,a,o){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0;this.pdfDocument=t;this.pagesOverview=r;this.printContainer=a;this._printResolution=o||150;this._optionalContentConfigPromise=l||t.getOptionalContentConfig();this.l10n=u||i.NullL10n;this.currentPage=-1;this.scratchCanvas=document.createElement("canvas");this.eventBus=c}PDFPrintService.prototype={layout:function layout(){this.throwIfInactive();var t=document.querySelector("body");t.setAttribute("data-pdfjsprinting",!0);this.pagesOverview.every((function(t){return t.width===this.pagesOverview[0].width&&t.height===this.pagesOverview[0].height}),this)||console.warn("Not all pages have the same size. The printed result may be incorrect!");this.pageStyleSheet=document.createElement("style");var r=this.pagesOverview[0];this.pageStyleSheet.textContent="@supports ((size:A4) and (size:1pt 1pt)) {@page { size: "+r.width+"pt "+r.height+"pt;}}";t.appendChild(this.pageStyleSheet)},destroy:function destroy(){if(d===this){this.printContainer.textContent="";document.querySelector("body").removeAttribute("data-pdfjsprinting");if(this.pageStyleSheet){this.pageStyleSheet.remove();this.pageStyleSheet=null}this.scratchCanvas.width=this.scratchCanvas.height=0;this.scratchCanvas=null;d=null;ensureOverlay().then((function(){if("printServiceOverlay"===h.active){h.close("printServiceOverlay");h.unregister("printServiceOverlay")}}));p=void 0}},renderPages:function renderPages(){var t=this,r=this.pagesOverview.length;return new Promise((function renderNextPage(a,i){t.throwIfInactive();for(;;){++t.currentPage;if(t.currentPage>=r)break;if(!window.isInPDFPrintRange||window.isInPDFPrintRange(t.currentPage))break}if(t.currentPage>=r){renderProgress(window.filteredPageCount|r,window.filteredPageCount|r,t.l10n,t.eventBus);a()}else{var o=t.currentPage;renderProgress(o,window.filteredPageCount|r,t.l10n,t.eventBus);renderPage(0,t.pdfDocument,o+1,t.pagesOverview[o],t._printResolution,t._optionalContentConfigPromise).then(t.useRenderedPage.bind(t)).then((function(){renderNextPage(a,i)}),i)}}))},useRenderedPage:function useRenderedPage(t){this.throwIfInactive();var r=document.createElement("img");r.style.width=t.width;r.style.height=t.height;var a=this.scratchCanvas;"toBlob"in a&&!u.viewerCompatibilityParams.disableCreateObjectURL?a.toBlob((function(t){r.src=URL.createObjectURL(t)})):r.src=a.toDataURL();var i=document.createElement("div");i.appendChild(r);this.printContainer.appendChild(i);return new Promise((function(t,a){r.onload=t;r.onerror=a}))},performPrint:function performPrint(){var t=this;this.throwIfInactive();return new Promise((function(r){setTimeout((function(){if(t.active){m.call(window);setTimeout(r,20)}else r()}),0)}))},get active(){return this===d},throwIfInactive:function throwIfInactive(){if(!this.active)throw new Error("This print request was cancelled or completed.")}};var p,m=window.print;window.printPDF=function(){if(o.PDFViewerApplication.enablePrint)if(d)console.warn("Ignored window.printPDF() because of a pending print job.");else{ensureOverlay().then((function(){d&&h.open("printServiceOverlay")}));try{dispatchEvent("beforeprint")}finally{if(!d){console.error("Expected print service to be initialized.");ensureOverlay().then((function(){"printServiceOverlay"===h.active&&h.close("printServiceOverlay")}));return}var t=d;d.renderPages().then((function(){var r=document.getElementById("printServiceOverlay");r&&r.classList.add("hidden");return t.performPrint()})).catch((function(){})).then((function(){t.active&&abort()}))}}};function dispatchEvent(t){var r=document.createEvent("CustomEvent");r.initCustomEvent(t,!1,!1,"custom");window.dispatchEvent(r)}function abort(){if(d){d.destroy();dispatchEvent("afterprint")}}function renderProgress(t,r,a,i){var o=document.getElementById("printServiceOverlay"),l=Math.round(100*t/r),u=o.querySelector("progress"),c=o.querySelector(".relative-progress");u.value=l;a.get("print_progress_percent",{progress:l},l+"%").then((function(t){c.textContent=t}));i.dispatch("progress",{source:this,type:"print",total:r,page:t,percent:100*t/r})}o.PDFViewerApplication.printKeyDownListener=function(t){if(80===t.keyCode&&(t.ctrlKey||t.metaKey)&&!t.altKey&&(!t.shiftKey||window.chrome||window.opera)){window.printPDF();t.preventDefault();t.stopImmediatePropagation?t.stopImmediatePropagation():t.stopPropagation()}};if("onbeforeprint"in window){var g=function stopPropagationIfNeeded(t){"custom"!==t.detail&&t.stopImmediatePropagation&&t.stopImmediatePropagation()};window.addEventListener("beforeprint",g);window.addEventListener("afterprint",g)}function ensureOverlay(){if(!p){if(!(h=o.PDFViewerApplication.overlayManager))throw new Error("The overlay manager has not yet been initialized.");p=h.register("printServiceOverlay",document.getElementById("printServiceOverlay"),abort,!0);document.getElementById("printCancel").onclick=abort}return p}o.PDFPrintServiceFactory.instance={supportsPrinting:!0,createPrintService:function createPrintService(t,r,a,i,o,l,u){if(d)throw new Error("The print service is created and active.");return d=new PDFPrintService(t,r,a,i,o,l,u)}}}],r={};function __webpack_require__(a){if(r[a])return r[a].exports;var i=r[a]={id:a,loaded:!1,exports:{}};t[a].call(i.exports,i,i.exports,__webpack_require__);i.loaded=!0;return i.exports}__webpack_require__.nmd=t=>{t.paths=[];t.children||(t.children=[]);return t};__webpack_require__(0)})();
//# sourceMappingURL=viewer-es5.min.js.map